{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nexport default {\n  name: 'AppHome',\n  props: {\n    currentPage: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['change-page'],\n  beforeUnmount() {\n    this.stopQuoteTimer();\n  },\n  data() {\n    return {\n      /* ---------------------------\r\n       * È¢ÑÁ∫¶È°µÔºöÊ†°Âå∫/Âª∫Á≠ë/ÊïôÂÆ§ + ÂºÄÂßã/ÁªìÊùüÊó∂Èó¥ + Â∫ß‰ΩçÂè∑\r\n       * --------------------------- */\n      // ÊàøÈó¥ÂÖ®ÈáèÔºà‰ºòÂÖà‰ªéÂêéÁ´ØÊãâÔºõÊãâ‰∏çÂà∞Â∞±Áî®ÂâçÁ´ØÂÖúÂ∫ïÁîüÊàêÔºå‰æø‰∫é‰Ω†ÂÖàÊääÈ°µÈù¢Ë∑ëÈÄöÔºâ\n      allRooms: [],\n      // ‰∏ãÊãâÈÄâÈ°π\n      campusOptions: [],\n      buildingOptions: [],\n      roomOptions: [],\n      // ÂΩìÂâçÈÄâ‰∏≠\n      selectedCampus: '',\n      selectedBuilding: '',\n      selectedRoomId: null,\n      // ÂºÄÂßã/ÁªìÊùüÊó∂Èó¥ÔºàÂ∞èÊó∂Ôºâ\n      startHour: null,\n      endHour: null,\n      // Â∫ß‰ΩçÂè∑Ôºà01~40Ôºâ\n      selectedSeatNo: '',\n      disabledSeatNos: [],\n      // ‰∏¥Êó∂È¢ÑÁ∫¶ÂàóË°®ÔºàÂèØÊ∑ªÂä†Â§öÊù°ÔºåÊúÄÂêéÁªü‰∏ÄÊèê‰∫§Ôºâ\n      tempReservations: [],\n      submittingReservations: false,\n      // Êó•ÊúüÁõ∏ÂÖ≥\n      dateList: [],\n      visibleStart: 0,\n      visibleCount: 7,\n      currentDateIndex: 0,\n      // ÂêéÁ´ØËøîÂõûÁöÑ‚ÄúÂ∑≤Êª°Êó∂ÊÆµ‚ÄùÔºàid ÂàóË°®Ôºå‰æãÂ¶Ç [8,9,14]Ôºâ\n      disabledSlotIds: [],\n      // ÂΩìÂâçÁôªÂΩïÁî®Êà∑ id\n      currentUserId: null,\n      // ÊàëÁöÑÈ¢ÑÁ∫¶ÂàóË°®\n      myReservations: [],\n      // ÊàëÁöÑÈ¢ÑÁ∫¶ÂàÜÈ°µ\n      pageSize: 15,\n      reservationPageIndex: 1,\n      // ËøùËßÑËÆ∞ÂΩïÁõ∏ÂÖ≥\n      myViolations: [],\n      violationPageIndex: 1,\n      violationPageSize: 15,\n      // ‰∏™‰∫∫‰∏≠ÂøÉË°®ÂçïÊï∞ÊçÆÔºàÊ®°ÊùøÈáåÁî®ÁöÑÊòØËøô‰∫õÂ≠óÊÆµÂêçÔºåÊâÄ‰ª•ËøôÈáå‰∏çÊîπÂ≠óÊÆµÂêçÔºâ\n      profileForm: {\n        name: '',\n        account: '',\n        studentNo: '',\n        college: '',\n        gradeClass: '',\n        phone: '',\n        email: '',\n        commonCampus: '',\n        profileRemark: ''\n      },\n      profileLoading: false,\n      profileSaving: false,\n      // È¶ñÈ°µ - Â§©Ê∞î„ÄÅÈáëÂè•„ÄÅÂø´Êç∑ÂèçÈ¶à\n      weatherData: null,\n      dailyQuote: '',\n      dailyQuoteId: null,\n      quoteTimer: null,\n      openFeedback: false,\n      // È¶ñÈ°µ - ÂÖ¨ÂëäÂàóË°®Ôºà‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÔºâ\n      homeNotices: [],\n      noticeDetailVisible: false,\n      noticeDetail: null,\n      noticeAllVisible: false,\n      noticeAllView: 'list',\n      noticePageList: [],\n      noticeTotalCount: 0,\n      noticePageNum: 1,\n      noticePageSize: 9,\n      noticeTypeFilter: '',\n      noticeLoading: false,\n      homeNoticeLimit: 3,\n      noticeReadIds: [],\n      onlyNoShow: false,\n      currentCreditScore: 100,\n      todayOverview: {\n        totalSeats: 24000,\n        reservedCount: 0,\n        inUseCount: 0,\n        remainingCount: 24000\n      },\n      monthBrief: {\n        monthReserveCount: 0,\n        studyMinutes: 0,\n        lastVisitTime: null\n      }\n    };\n  },\n  computed: {\n    visibleDates() {\n      return this.dateList.slice(this.visibleStart, this.visibleStart + this.visibleCount).map((d, idx) => ({\n        ...d,\n        index: this.visibleStart + idx\n      }));\n    },\n    canMovePrev() {\n      return this.visibleStart > 0;\n    },\n    canMoveNext() {\n      return this.visibleStart + this.visibleCount < this.dateList.length;\n    },\n    currentRoomId() {\n      return this.selectedRoomId;\n    },\n    currentRoomFullName() {\n      const room = this.allRooms.find(r => Number(r.id) === Number(this.selectedRoomId));\n      if (!room) return '';\n      return `${room.campus} ¬∑ ${room.building} ${room.roomName}`;\n    },\n    currentDateLabel() {\n      const cur = this.dateList[this.currentDateIndex];\n      return cur ? cur.fullLabel : '';\n    },\n    currentDateStr() {\n      const cur = this.dateList[this.currentDateIndex];\n      return cur ? cur.fullLabel : null;\n    },\n    // ÂºÄÂßãÊó∂Èó¥Ôºö08~22ÔºõÁªìÊùüÊó∂Èó¥Ôºö09~23Ôºà‰∏îÂøÖÈ°ª > startHourÔºâ\n    startHourOptions() {\n      const arr = [];\n      for (let h = 8; h <= 22; h++) arr.push(h);\n      return arr;\n    },\n    endHourOptions() {\n      if (this.startHour == null) return [];\n      const arr = [];\n      const maxEnd = Math.min(23, this.startHour + 4); // ‚úÖÊúÄÂ§ö4Â∞èÊó∂\n      for (let h = this.startHour + 1; h <= maxEnd; h++) arr.push(h);\n      return arr;\n    },\n    selectedTimeText() {\n      if (this.startHour == null || this.endHour == null) return '';\n      return `${this.pad2(this.startHour)}:00 - ${this.pad2(this.endHour)}:00`;\n    },\n    selectedSlotIdsFromRange() {\n      if (this.startHour == null || this.endHour == null) return [];\n      const ids = [];\n      for (let h = this.startHour; h < this.endHour; h++) ids.push(h);\n      return ids;\n    },\n    rangeHasConflict() {\n      if (!this.disabledSlotIds.length) return false;\n      const disabled = new Set(this.disabledSlotIds.map(x => Number(x)));\n      return this.selectedSlotIdsFromRange.some(id => disabled.has(Number(id)));\n    },\n    seatList() {\n      const arr = [];\n      for (let i = 1; i <= 80; i++) arr.push(String(i).padStart(2, '0'));\n      return arr;\n    },\n    hasAnySelection() {\n      return this.startHour != null || this.endHour != null || !!this.selectedSeatNo;\n    },\n    selectionTagText() {\n      if (!this.currentDateLabel && !this.selectedTimeText && !this.selectedSeatNo) return '';\n      const parts = [];\n      if (this.currentRoomFullName) parts.push(this.currentRoomFullName);\n      if (this.currentDateLabel) parts.push(this.currentDateLabel);\n      if (this.selectedTimeText) parts.push(this.selectedTimeText);\n      if (this.selectedSeatNo) parts.push(`Â∫ß‰Ωç ${this.selectedSeatNo}`);\n      return parts.join(' ¬∑ ');\n    },\n    canClearAll() {\n      return this.tempReservations.length > 0 || this.startHour != null || this.endHour != null || !!this.selectedSeatNo;\n    },\n    currentTempKey() {\n      if (!this.currentRoomId || !this.currentDateStr) return '';\n      if (this.startHour == null || this.endHour == null) return '';\n      if (!this.selectedSeatNo) return '';\n      return [this.currentRoomId, this.currentDateStr, this.startHour, this.endHour, this.selectedSeatNo].join('|');\n    },\n    isDuplicateTempReservation() {\n      if (!this.currentTempKey) return false;\n      return this.tempReservations.some(x => x.key === this.currentTempKey);\n    },\n    canAddTempReservation() {\n      return !!this.currentRoomId && !!this.currentDateStr && this.startHour != null && this.endHour != null && !!this.selectedSeatNo && !this.rangeHasConflict && !this.isDuplicateTempReservation && this.tempReservations.length < 4;\n    },\n    canSubmitReservation() {\n      return this.tempReservations.length > 0 && !this.submittingReservations;\n    },\n    totalPages() {\n      if (!this.displayReservations.length) return 0;\n      return Math.ceil(this.displayReservations.length / this.pageSize);\n    },\n    pagedReservations() {\n      if (!this.displayReservations.length) return [];\n      const total = this.totalPages || 1;\n      const page = Math.min(this.reservationPageIndex, total);\n      const start = (page - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.displayReservations.slice(start, end);\n    },\n    violationTotalPages() {\n      if (!this.myViolations.length) return 0;\n      return Math.ceil(this.myViolations.length / this.violationPageSize);\n    },\n    pagedViolations() {\n      if (!this.myViolations.length) return [];\n      const total = this.violationTotalPages || 1;\n      const page = Math.min(this.violationPageIndex, total);\n      const start = (page - 1) * this.violationPageSize;\n      const end = start + this.violationPageSize;\n      return this.myViolations.slice(start, end);\n    },\n    todayStr() {\n      const d = new Date();\n      return `${d.getMonth() + 1} Êúà ${d.getDate()} Êó•`;\n    },\n    weekDayStr() {\n      const list = ['Êó•', '‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠'];\n      return 'ÊòüÊúü' + list[new Date().getDay()];\n    },\n    timeGreeting() {\n      const h = new Date().getHours();\n      if (h < 11) return '‰∏äÂçàÂ•Ω';\n      if (h < 14) return '‰∏≠ÂçàÂ•Ω';\n      if (h < 19) return '‰∏ãÂçàÂ•Ω';\n      return 'Êôö‰∏äÂ•Ω';\n    },\n    todayAppointments() {\n      const list = Array.isArray(this.myReservations) ? this.myReservations : [];\n      if (!list.length) return [];\n      const d = new Date();\n      const todayStr = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;\n      return list.filter(item => item.date === todayStr);\n    },\n    displayReservations() {\n      const list = Array.isArray(this.myReservations) ? this.myReservations.slice() : [];\n      const byDateTimeAsc = (a, b) => {\n        const da = a.date || '';\n        const db = b.date || '';\n        if (da !== db) return da.localeCompare(db);\n        const ta = (a.startTime || '').slice(0, 8);\n        const tb = (b.startTime || '').slice(0, 8);\n        if (ta !== tb) return ta.localeCompare(tb);\n        return String(a.reservationNo || '').localeCompare(String(b.reservationNo || ''));\n      };\n      const norm = s => String(s ?? '').trim().toLowerCase();\n      if (this.onlyNoShow) {\n        return list.filter(x => ['reserved', 'no_show'].includes(norm(x.status))).sort(byDateTimeAsc);\n      }\n      const rank = st => {\n        if (st === 'reserved') return 0;\n        if (st === 'checked_in' || st === 'late') return 1;\n        if (st === 'no_show') return 2;\n        return 3;\n      };\n      return list.sort((a, b) => {\n        const ra = rank(a.status);\n        const rb = rank(b.status);\n        if (ra !== rb) return ra - rb;\n        return byDateTimeAsc(a, b);\n      });\n    },\n    monthStudyHours() {\n      const mins = Number(this.monthBrief.studyMinutes || 0);\n      const hours = mins / 60;\n      return Number.isInteger(hours) ? String(hours) : hours.toFixed(1);\n    },\n    lastVisitText() {\n      return this.formatLastVisit(this.monthBrief.lastVisitTime);\n    }\n  },\n  created() {\n    this.initDates();\n    const u0 = this.getStoredUser();\n    if (u0) {\n      this.currentUserId = u0.userId ?? u0.id ?? null;\n      this.loadNoticeReadIds();\n      this.profileForm = {\n        name: u0.userName || u0.name || '',\n        account: u0.accountNo || u0.account || '',\n        studentNo: u0.accountNo || u0.studentNo || u0.account || '',\n        college: u0.college || '',\n        gradeClass: u0.gradeClass || '',\n        phone: u0.phone || '',\n        email: u0.email || '',\n        commonCampus: u0.commonCampus || '',\n        profileRemark: u0.profileRemark || ''\n      };\n      this.loadUserProfile();\n    }\n    this.loadMyReservations({\n      refreshNoShowNotify: false\n    });\n    this.loadWeather();\n    this.loadQuoteFromDb();\n    this.loadHomeDashboard();\n    this.loadHomeNotices();\n  },\n  methods: {\n    normalizeBody(res) {\n      return res;\n    },\n    normalizeData(res) {\n      const body = this.normalizeBody(res);\n      if (body && typeof body === 'object' && 'code' in body && 'data' in body) return body.data;\n      return body;\n    },\n    isBizOk(resOrBody) {\n      const body = this.normalizeBody(resOrBody);\n      if (!body || typeof body !== 'object' || !('code' in body)) return false;\n      return Number(body.code) === 200;\n    },\n    getMsg(resOrBody, fallback = '') {\n      const body = this.normalizeBody(resOrBody);\n      if (!body || typeof body !== 'object') return fallback;\n      return body.msg || fallback;\n    },\n    getUserStorage() {\n      if (localStorage.getItem('ssrmsUser')) return localStorage;\n      if (sessionStorage.getItem('ssrmsUser')) return sessionStorage;\n      return localStorage;\n    },\n    getStoredUser() {\n      const storage = this.getUserStorage();\n      const raw = storage.getItem('ssrmsUser');\n      if (!raw) return null;\n      try {\n        return JSON.parse(raw);\n      } catch (e) {\n        return null;\n      }\n    },\n    ensureCurrentUserId() {\n      if (this.currentUserId) return this.currentUserId;\n      const u = this.getStoredUser();\n      if (u) this.currentUserId = u.userId ?? u.id ?? null;\n      return this.currentUserId;\n    },\n    emitChange(page) {\n      this.$emit('change-page', page);\n    },\n    async initReserveRooms() {\n      if (this.campusOptions && this.campusOptions.length) {\n        await this.fetchSlotStatus();\n        return;\n      }\n      const rooms = await this.loadRoomsFromBackend().catch(() => null);\n      this.allRooms = Array.isArray(rooms) && rooms.length ? rooms : this.buildFallbackRooms();\n      this.campusOptions = Array.from(new Set(this.allRooms.map(r => r.campus)));\n      this.selectedCampus = this.selectedCampus || this.campusOptions[0] || '';\n      this.onCampusChange();\n      if (this.startHour == null) this.startHour = 8;\n      if (this.endHour == null) this.endHour = 9;\n      await this.fetchSlotStatus();\n    },\n    async loadRoomsFromBackend() {\n      const tries = [{\n        url: '/room/list'\n      }, {\n        url: '/room/all'\n      }];\n      for (const t of tries) {\n        try {\n          const res = await this.$axios.get(t.url);\n          const data = this.normalizeData(res);\n          if (Array.isArray(data) && data.length) return data;\n        } catch (e) {}\n      }\n      return null;\n    },\n    buildFallbackRooms() {\n      const campuses = ['Êú¨ÈÉ®Ê†°Âå∫', '‰∏úÊ†°Âå∫', 'Ê¢ÖÂ±±Ê†°Âå∫'];\n      const buildings = ['Âõæ‰π¶È¶Ü', '1Âè∑ÊïôÂ≠¶Ê•º', '2Âè∑ÊïôÂ≠¶Ê•º', '3Âè∑ÊïôÂ≠¶Ê•º'];\n      const rooms = [];\n      const roomNames = [];\n      for (let floor = 1; floor <= 5; floor++) {\n        for (let no = 1; no <= 5; no++) roomNames.push(`${floor}0${no}`);\n      }\n      let id = 1;\n      for (const c of campuses) {\n        for (const b of buildings) {\n          for (const rn of roomNames) {\n            rooms.push({\n              id,\n              campus: c,\n              building: b,\n              roomName: rn,\n              totalSeats: 80,\n              openSeats: 80,\n              status: 'open'\n            });\n            id++;\n          }\n        }\n      }\n      return rooms;\n    },\n    onCampusChange() {\n      const bs = this.allRooms.filter(r => r.campus === this.selectedCampus).map(r => r.building);\n      this.buildingOptions = Array.from(new Set(bs));\n      if (!this.buildingOptions.includes(this.selectedBuilding)) this.selectedBuilding = this.buildingOptions[0] || '';\n      this.onBuildingChange();\n    },\n    onBuildingChange() {\n      const list = this.allRooms.filter(r => r.campus === this.selectedCampus && r.building === this.selectedBuilding).map(r => ({\n        id: r.id,\n        roomName: r.roomName\n      }));\n      this.roomOptions = list;\n      const ids = list.map(x => Number(x.id));\n      if (!ids.includes(Number(this.selectedRoomId))) this.selectedRoomId = list.length ? Number(list[0].id) : null;\n      this.selectedSeatNo = '';\n      this.fetchSlotStatus();\n    },\n    onRoomChange() {\n      this.selectedSeatNo = '';\n      this.fetchSlotStatus();\n    },\n    pad2(n) {\n      return String(n).padStart(2, '0');\n    },\n    handleStartHourChange() {\n      if (this.startHour == null) return;\n      const maxEnd = Math.min(23, this.startHour + 4);\n      if (this.endHour == null || this.endHour <= this.startHour) this.endHour = this.startHour + 1;\n      if (this.endHour > maxEnd) this.endHour = maxEnd;\n      this.fetchSeatConflicts();\n    },\n    handleEndHourChange() {\n      if (this.startHour == null || this.endHour == null) return;\n      const maxEnd = Math.min(23, this.startHour + 4);\n      if (this.endHour <= this.startHour) this.endHour = this.startHour + 1;\n      if (this.endHour > maxEnd) this.endHour = maxEnd;\n      this.fetchSeatConflicts();\n    },\n    initDates() {\n      const today = new Date();\n      const list = [];\n      const weekdays = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠'];\n      for (let i = 0; i < 14; i++) {\n        const d = new Date(today);\n        d.setDate(d.getDate() + i + 1);\n        const month = d.getMonth() + 1;\n        const day = d.getDate();\n        const fullLabel = `${d.getFullYear()}-${month.toString().padStart(2, '0')}-` + `${day.toString().padStart(2, '0')}`;\n        list.push({\n          key: i,\n          year: d.getFullYear(),\n          month,\n          day,\n          weekday: weekdays[d.getDay()],\n          monthLabel: `${d.getFullYear()}-${month.toString().padStart(2, '0')}`,\n          isToday: false,\n          isTomorrow: i === 0,\n          fullLabel\n        });\n      }\n      this.dateList = list;\n      this.visibleStart = 0;\n      this.currentDateIndex = 0;\n    },\n    moveDates(direction) {\n      if (direction === 'prev' && this.canMovePrev) this.visibleStart -= 1;else if (direction === 'next' && this.canMoveNext) this.visibleStart += 1;\n    },\n    async selectDate(index) {\n      this.currentDateIndex = index;\n      await this.fetchSlotStatus();\n    },\n    async fetchSlotStatus() {\n      this.disabledSlotIds = [];\n      await this.fetchSeatConflicts();\n    },\n    seatState(seat) {\n      if (this.disabledSeatNos.includes(seat)) return 'disabled';\n      if (this.selectedSeatNo === seat) return 'selected';\n      return 'available';\n    },\n    seatClass(seat) {\n      const state = this.seatState(seat);\n      return {\n        'slot-available': state === 'available',\n        'slot-disabled': state === 'disabled',\n        'slot-selected': state === 'selected'\n      };\n    },\n    toggleSeat(seat) {\n      if (this.disabledSeatNos.includes(seat)) return;\n      this.selectedSeatNo = this.selectedSeatNo === seat ? '' : seat;\n    },\n    resetSelections() {\n      this.startHour = null;\n      this.endHour = null;\n      this.selectedSeatNo = '';\n    },\n    clearAllSelections() {\n      this.resetSelections();\n      this.tempReservations = [];\n    },\n    addTempReservation() {\n      if (!this.canAddTempReservation) return;\n      const room = this.allRooms.find(r => Number(r.id) == Number(this.currentRoomId));\n      const labelParts = [];\n      if (room) labelParts.push(`${room.campus} ¬∑ ${room.building} ${room.roomName}`);\n      if (this.currentDateStr) labelParts.push(this.currentDateStr);\n      if (this.selectedTimeText) labelParts.push(this.selectedTimeText);\n      labelParts.push(`Â∫ß‰Ωç ${this.selectedSeatNo}`);\n      const item = {\n        key: this.currentTempKey,\n        roomId: this.currentRoomId,\n        date: this.currentDateStr,\n        startHour: this.startHour,\n        endHour: this.endHour,\n        seatNo: this.selectedSeatNo,\n        label: labelParts.join(' ¬∑ ')\n      };\n      this.tempReservations.push(item);\n    },\n    removeTempReservation(idx) {\n      if (idx == null) return;\n      this.tempReservations.splice(idx, 1);\n    },\n    async submitReservations() {\n      if (!this.canSubmitReservation) return;\n      if (!this.ensureCurrentUserId()) {\n        alert('ËØ∑ÂÖàÁôªÂΩïÂêéÂÜçÈ¢ÑÁ∫¶');\n        return;\n      }\n      const first = this.tempReservations[0];\n      const same = this.tempReservations.every(x => Number(x.roomId) === Number(first.roomId) && x.date === first.date && Number(x.startHour) === Number(first.startHour) && Number(x.endHour) === Number(first.endHour));\n      if (!same) {\n        alert('ËØ∑Á°Æ‰øù‰∏¥Êó∂ÂàóË°®ÈáåÁöÑÈ¢ÑÁ∫¶Â±û‰∫éÂêå‰∏ÄÊïôÂÆ§/Êó•Êúü/Êó∂Èó¥ÊÆµÔºàÂèØÂ§öÈÄâÂ∫ß‰ΩçÔºâÔºåÂê¶ÂàôËØ∑ÂàÜÂ§öÊ¨°Êèê‰∫§„ÄÇ');\n        return;\n      }\n      const payload = {\n        userId: this.currentUserId,\n        roomId: first.roomId,\n        date: first.date,\n        startTime: `${this.pad2(first.startHour)}:00`,\n        endTime: `${this.pad2(first.endHour)}:00`,\n        seatNos: this.tempReservations.map(x => String(x.seatNo))\n      };\n      this.submittingReservations = true;\n      try {\n        const res = await this.$axios.post('/reservation/create', payload);\n        const body = this.normalizeBody(res);\n        if (!this.isBizOk(body)) {\n          alert(this.getMsg(body, 'È¢ÑÁ∫¶Â§±Ë¥•'));\n          return;\n        }\n        alert(this.getMsg(body, 'È¢ÑÁ∫¶ÊàêÂäü'));\n        this.clearAllSelections();\n        this.emitChange('user-reservations');\n      } catch (e) {\n        alert('È¢ÑÁ∫¶Â§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏');\n      } finally {\n        this.submittingReservations = false;\n      }\n    },\n    async loadMyReservations(opts = {}) {\n      const {\n        refreshNoShowNotify = true\n      } = opts;\n      if (!this.ensureCurrentUserId()) return;\n      await this.refreshNoShowStatus({\n        notify: refreshNoShowNotify\n      });\n      try {\n        const res = await this.$axios.get('/reservation/my', {\n          params: {\n            userId: this.currentUserId\n          }\n        });\n        const list = Array.isArray(this.normalizeData(res)) ? this.normalizeData(res).slice() : [];\n        list.sort((a, b) => {\n          const da = a.date || '';\n          const db = b.date || '';\n          if (da !== db) return da.localeCompare(db);\n          const ta = a.startTime || '';\n          const tb = b.startTime || '';\n          return ta.localeCompare(tb);\n        });\n        this.myReservations = list;\n      } catch (e) {\n        alert('Âä†ËΩΩÈ¢ÑÁ∫¶ÂàóË°®Â§±Ë¥•');\n      }\n    },\n    formatTimeRange(item) {\n      const s = (item.startTime || '').slice(0, 5);\n      const e = (item.endTime || '').slice(0, 5);\n      return s && e ? `${s}-${e}` : '';\n    },\n    renderStatusText(status) {\n      switch (status) {\n        case 'reserved':\n          return 'ÂæÖÁ≠æÂà∞';\n        case 'checked_in':\n          return 'Â∑≤Á≠æÂà∞';\n        case 'late':\n          return 'ËøüÂà∞';\n        case 'no_show':\n          return 'Êú™Á≠æÂà∞';\n        case 'cancelled':\n          return 'Â∑≤ÂèñÊ∂à';\n        case 'cancel_overdue':\n          return 'ÈÄæÊúüÂèñÊ∂à';\n        default:\n          return status || '';\n      }\n    },\n    statusClass(status) {\n      return {\n        'badge-pending': status === 'reserved',\n        'badge-done': status === 'checked_in',\n        'badge-late': status === 'late',\n        'badge-missed': status === 'no_show',\n        'badge-cancelled': status === 'cancelled',\n        'badge-cancel-overdue': status === 'cancel_overdue'\n      };\n    },\n    gotoPrevPage() {\n      if (this.reservationPageIndex > 1) this.reservationPageIndex--;\n    },\n    gotoNextPage() {\n      if (this.reservationPageIndex < this.totalPages) this.reservationPageIndex++;\n    },\n    async handleCheckIn(item) {\n      try {\n        const res = await this.$axios.post(`/reservation/checkin/${item.id}`);\n        const body = this.normalizeBody(res);\n        const ok = this.isBizOk(body);\n        alert(this.getMsg(body, ok ? 'Á≠æÂà∞ÊàêÂäü' : 'Á≠æÂà∞Â§±Ë¥•'));\n        await this.loadMyReservations({\n          refreshNoShowNotify: false\n        });\n      } catch (e) {\n        alert('Á≠æÂà∞Â§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏');\n      }\n    },\n    async handleCancel(item) {\n      if (!this.canCancel(item)) {\n        alert('Ë∑ùÁ¶ªÂºÄÂßã‰∏çË∂≥ 10 ÂàÜÈíüÔºåÊó†Ê≥ïÂèñÊ∂àÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëòÂ§ÑÁêÜ');\n        return;\n      }\n      const ok = window.confirm(`Á°ÆÂÆöË¶ÅÂèñÊ∂àÊú¨Ê¨°È¢ÑÁ∫¶Ôºà${item.date} ${this.formatTimeRange(item)}ÔºâÂêóÔºü`);\n      if (!ok) return;\n      try {\n        const res = await this.$axios.post(`/reservation/cancel/${item.id}`);\n        const body = this.normalizeBody(res);\n        if (!this.isBizOk(body)) {\n          alert(this.getMsg(body, 'ÂèñÊ∂àÂ§±Ë¥•'));\n          return;\n        }\n        alert(this.getMsg(body, 'ÂèñÊ∂àÊàêÂäü'));\n        await this.loadMyReservations({\n          refreshNoShowNotify: false\n        });\n        await this.fetchSlotStatus();\n      } catch (e) {\n        alert('ÂèñÊ∂àÂ§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏');\n      }\n    },\n    canCancel(item) {\n      if (item.status !== 'reserved') return false;\n      if (!item.date || !item.startTime) return false;\n      try {\n        const startStr = item.date + 'T' + (item.startTime || '').slice(0, 8);\n        const start = new Date(startStr);\n        if (isNaN(start.getTime())) return true;\n        const now = new Date();\n        const diffMs = start.getTime() - now.getTime();\n        const tenMinutes = 10 * 60 * 1000;\n        return diffMs > tenMinutes;\n      } catch (e) {\n        return true;\n      }\n    },\n    async refreshNoShowStatus(opts = {}) {\n      const {\n        notify = true\n      } = opts;\n      if (!this.ensureCurrentUserId()) return;\n      try {\n        const res = await this.$axios.post('/reservation/refreshNoShow', null, {\n          params: {\n            userId: this.currentUserId\n          }\n        });\n        const data = this.normalizeData(res);\n        const updated = typeof data === 'number' ? data : 0;\n        if (notify && updated > 0) alert(`Êúâ ${updated} Êù°Â∑≤ËøáÊúü‰ΩÜÊú™Á≠æÂà∞ÁöÑÈ¢ÑÁ∫¶ÔºåÁ≥ªÁªüÂ∑≤Ëá™Âä®Ê†áËÆ∞‰∏∫‚ÄúÊú™Á≠æÂà∞‚ÄùÔºåËØ∑ÁïôÊÑè‰ø°Áî®ÂàÜÂèòÂåñ„ÄÇ`);\n      } catch (e) {}\n    },\n    async loadMyViolations() {\n      if (!this.ensureCurrentUserId()) return;\n      try {\n        await this.refreshNoShowStatus({\n          notify: false\n        });\n        const res = await this.$axios.get('/reservation/violations', {\n          params: {\n            userId: this.currentUserId\n          }\n        });\n        const list = Array.isArray(this.normalizeData(res)) ? this.normalizeData(res).slice() : [];\n        this.myViolations = list;\n        this.violationPageIndex = 1;\n      } catch (e) {\n        alert('Âä†ËΩΩËøùËßÑËÆ∞ÂΩïÂ§±Ë¥•');\n      }\n      await this.loadUserProfile();\n    },\n    gotoPrevViolationPage() {\n      if (this.violationPageIndex > 1) this.violationPageIndex--;\n    },\n    gotoNextViolationPage() {\n      if (this.violationPageIndex < this.violationTotalPages) this.violationPageIndex++;\n    },\n    async loadUserProfile() {\n      if (!this.ensureCurrentUserId()) return;\n      this.profileLoading = true;\n      try {\n        const res = await this.$axios.get('/user/profile', {\n          params: {\n            userId: this.currentUserId\n          }\n        });\n        const u = this.normalizeData(res) || {};\n        this.currentCreditScore = Number.isFinite(Number(u.creditScore)) ? Number(u.creditScore) : 100;\n        this.profileForm = {\n          name: u.userName || u.name || this.profileForm.name || '',\n          account: u.accountNo || u.account || this.profileForm.account || '',\n          studentNo: u.accountNo || u.studentNo || this.profileForm.studentNo || '',\n          college: u.college || '',\n          gradeClass: u.gradeClass || '',\n          phone: u.phone || '',\n          email: u.email || '',\n          commonCampus: u.commonCampus || '',\n          profileRemark: u.profileRemark || ''\n        };\n      } catch (e) {} finally {\n        this.profileLoading = false;\n      }\n    },\n    async handleProfileSave() {\n      if (!this.ensureCurrentUserId()) {\n        alert('ÂΩìÂâçÁî®Êà∑‰ø°ÊÅØÁº∫Â§±ÔºåËØ∑ÈáçÊñ∞ÁôªÂΩïÂêéÂÜçËØï');\n        return;\n      }\n      this.profileSaving = true;\n      try {\n        const payload = {\n          userId: this.currentUserId,\n          id: this.currentUserId,\n          userName: this.profileForm.name,\n          name: this.profileForm.name,\n          accountNo: this.profileForm.studentNo || this.profileForm.account,\n          account: this.profileForm.studentNo || this.profileForm.account,\n          studentNo: this.profileForm.studentNo || this.profileForm.account,\n          college: this.profileForm.college,\n          gradeClass: this.profileForm.gradeClass,\n          phone: this.profileForm.phone,\n          email: this.profileForm.email,\n          commonCampus: this.profileForm.commonCampus,\n          profileRemark: this.profileForm.profileRemark\n        };\n        const res = await this.$axios.post('/user/profile', payload);\n        const body = this.normalizeBody(res);\n        if (!this.isBizOk(body)) {\n          alert(this.getMsg(body, '‰øùÂ≠òÂ§±Ë¥•'));\n          return;\n        }\n        alert(this.getMsg(body, '‰øùÂ≠òÊàêÂäü'));\n      } catch (e) {\n        alert('‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\n      } finally {\n        this.profileSaving = false;\n      }\n    },\n    submitFB(score) {\n      console.log('Áî®Êà∑Áªô‰∫Ü‰∏Ä‰∏™Âø´Êç∑ËØÑÂàÜÔºö', score);\n      this.openFeedback = false;\n    },\n    codeToDesc(code) {\n      const map = {\n        0: 'Êô¥',\n        1: 'Â§ö‰∫ë',\n        2: 'Â§ö‰∫ë',\n        3: 'Èò¥',\n        45: 'ÊúâÈõæ',\n        48: 'ÈõæÔºåÂú∞Èù¢ÁªìÂÜ∞',\n        51: 'ÊØõÊØõÈõ®',\n        53: 'Â∞èÈõ®',\n        55: '‰∏≠Èõ®',\n        61: 'Â∞èÈõ®',\n        63: '‰∏≠Èõ®',\n        65: 'Â§ßÈõ®',\n        71: 'Â∞èÈõ™',\n        73: '‰∏≠Èõ™',\n        75: 'Â§ßÈõ™',\n        95: 'Èõ∑ÈòµÈõ®',\n        96: 'Èõ∑ÈòµÈõ®‰º¥ÊúâÂÜ∞Èõπ'\n      };\n      return map[code] || 'Â§ö‰∫ë';\n    },\n    async loadWeather() {\n      try {\n        const resp = await fetch('https://api.open-meteo.com/v1/forecast' + '?latitude=29.88&longitude=121.55' + '&current_weather=true');\n        const json = await resp.json();\n        const cw = json && json.current_weather || {};\n        const temp = cw.temperature;\n        const windSpeed = cw.windspeed;\n        const code = cw.weathercode;\n        const desc = this.codeToDesc(code);\n        this.weatherData = {\n          city: 'ÂÆÅÊ≥¢',\n          temp: temp != null ? temp : 18,\n          desc: desc || 'Â§ö‰∫ë',\n          wind: windSpeed != null ? `È£éÈÄü ${windSpeed} km/h` : 'ÂæÆÈ£é'\n        };\n      } catch (e) {\n        this.weatherData = {\n          city: 'ÂÆÅÊ≥¢',\n          temp: 18,\n          desc: 'Â§ö‰∫ë',\n          wind: 'ÂæÆÈ£é'\n        };\n      }\n    },\n    async loadQuoteFromDb() {\n      try {\n        const res = await this.$axios.get('/quote/random', {\n          params: {\n            excludeId: this.dailyQuoteId || undefined\n          }\n        });\n        const body = this.normalizeBody(res);\n        const data = this.normalizeData(res);\n        if (this.isBizOk(body) && data && data.content) {\n          this.dailyQuote = data.content || '';\n          this.dailyQuoteId = data.id || null;\n          return;\n        }\n        this.dailyQuote = '‰ªäÂ§©‰πüË¶ÅÁ®≥‰ΩèËäÇÂ•èÔºåÂÖàÂÅö‰∏ÄÂ∞èÊ≠•„ÄÇ';\n        this.dailyQuoteId = null;\n      } catch (e) {\n        this.dailyQuote = 'ÁΩëÁªúÂºÄÂ∞èÂ∑Æ‰∫ÜÔºå‰ΩÜ‰Ω†ÁöÑËá™ÂæãÂà´ÊéâÁ∫ø„ÄÇ';\n        this.dailyQuoteId = null;\n      }\n    },\n    startQuoteTimer() {\n      this.stopQuoteTimer();\n      this.quoteTimer = setInterval(() => {\n        if (this.currentPage === 'home') this.loadQuoteFromDb();\n      }, 20000);\n    },\n    stopQuoteTimer() {\n      if (this.quoteTimer) {\n        clearInterval(this.quoteTimer);\n        this.quoteTimer = null;\n      }\n    },\n    async refreshQuote() {\n      await this.loadQuoteFromDb();\n      this.startQuoteTimer();\n    },\n    emojiWeather(desc) {\n      if (!desc) return '‚õÖ';\n      if (desc.includes('Èõ®')) return 'üåßÔ∏è';\n      if (desc.includes('‰∫ë')) return '‚õÖ';\n      if (desc.includes('Êô¥')) return '‚òÄÔ∏è';\n      if (desc.includes('Èõ™')) return '‚ùÑÔ∏è';\n      return '‚õÖ';\n    },\n    async fetchSeatConflicts() {\n      this.disabledSeatNos = [];\n      if (!this.currentRoomId || !this.currentDateStr || this.startHour == null || this.endHour == null) return;\n      const startTime = `${this.pad2(this.startHour)}:00`;\n      const endTime = `${this.pad2(this.endHour)}:00`;\n      try {\n        const res = await this.$axios.get('/reservation/seatConflicts', {\n          params: {\n            roomId: this.currentRoomId,\n            date: this.currentDateStr,\n            startTime,\n            endTime\n          }\n        });\n        const map = this.normalizeData(res) || {};\n        this.disabledSeatNos = Object.keys(map);\n        if (this.selectedSeatNo && this.disabledSeatNos.includes(this.selectedSeatNo)) this.selectedSeatNo = '';\n      } catch (e) {}\n    },\n    async loadHomeDashboard() {\n      try {\n        if (!this.currentUserId) return;\n        const res = await this.$axios.get('/dashboard/home', {\n          params: {\n            userId: this.currentUserId\n          }\n        });\n        const data = this.normalizeData(res) || {};\n        if (data.todayOverview) this.todayOverview = data.todayOverview;\n        if (data.monthBrief) this.monthBrief = data.monthBrief;\n      } catch (e) {}\n    },\n    async loadHomeNotices() {\n      this.noticeLoading = true;\n      try {\n        const res = await this.$axios.get('/announcement/home', {\n          params: {\n            roleId: 1,\n            limit: this.homeNoticeLimit || 3\n          }\n        });\n        const list = this.normalizeData(res) || [];\n        this.homeNotices = (list || []).map(x => ({\n          ...x,\n          summary: this.makeNoticeSummary(x.content),\n          roomHint: x.roomHint || ''\n        }));\n        if (!this.noticeTotalCount) this.noticeTotalCount = this.homeNotices.length;\n      } catch (e) {\n        this.homeNotices = [];\n      } finally {\n        this.noticeLoading = false;\n      }\n    },\n    async loadNoticePage() {\n      this.noticeLoading = true;\n      try {\n        const res = await this.$axios.get('/announcement/page', {\n          params: {\n            roleId: 1,\n            pageNum: this.noticePageNum,\n            pageSize: this.noticePageSize,\n            type: this.noticeTypeFilter || undefined\n          }\n        });\n        const body = this.normalizeBody(res);\n        if (body && typeof body === 'object' && 'data' in body) {\n          const list = body.data || [];\n          this.noticeTotalCount = Number(body.total || 0);\n          this.noticePageList = (list || []).map(x => ({\n            ...x,\n            summary: this.makeNoticeSummary(x.content)\n          }));\n        } else {\n          this.noticePageList = (this.normalizeData(res) || []).map(x => ({\n            ...x,\n            summary: this.makeNoticeSummary(x.content)\n          }));\n        }\n      } catch (e) {\n        this.noticePageList = [];\n      } finally {\n        this.noticeLoading = false;\n      }\n    },\n    openNoticeDetail(item) {\n      this.noticeDetail = item;\n      this.noticeDetailVisible = true;\n      this.markNoticeRead(item && item.id);\n    },\n    openNoticeAll() {\n      this.noticeAllVisible = true;\n      this.noticeAllView = 'list';\n      this.noticeDetail = null;\n      this.noticePageNum = 1;\n      this.loadNoticePage();\n    },\n    openNoticeDetailFromAll(item) {\n      this.noticeDetail = item;\n      this.noticeAllView = 'detail';\n      this.markNoticeRead(item && item.id);\n    },\n    backToNoticeAllList() {\n      this.noticeAllView = 'list';\n    },\n    onNoticePageChange(page) {\n      this.noticePageNum = page;\n      this.loadNoticePage();\n    },\n    onNoticeTypeChange() {\n      this.noticePageNum = 1;\n      this.loadNoticePage();\n    },\n    noticeTypeText(type) {\n      const map = {\n        RULE: 'ËßÑÂàô',\n        ADJUSTMENT: 'Ë∞ÉÊï¥',\n        EMERGENCY: 'Á™ÅÂèë',\n        MAINTENANCE: 'Áª¥Êä§',\n        EXAM: 'ËÄÉËØï',\n        OTHER: 'ÂÖ∂‰ªñ'\n      };\n      return map[type] || 'ÂÖ∂‰ªñ';\n    },\n    noticeTypeIcon(type) {\n      const map = {\n        RULE: 'üìå',\n        ADJUSTMENT: 'üïí',\n        EMERGENCY: 'üö®',\n        MAINTENANCE: 'üõ†Ô∏è',\n        EXAM: 'üìù',\n        OTHER: 'üì£'\n      };\n      return map[type] || 'üì£';\n    },\n    noticeLevelText(level) {\n      const map = {\n        IMPORTANT: 'ÈáçË¶Å',\n        WARNING: 'ÊèêÈÜí',\n        INFO: 'ÈÄöÁü•'\n      };\n      return map[level] || 'ÈÄöÁü•';\n    },\n    makeNoticeSummary(content) {\n      if (!content) return '';\n      const s = String(content).replace(/\\s+/g, ' ').trim();\n      if (!s) return '';\n      return s.length > 60 ? s.slice(0, 60) + '‚Ä¶' : s;\n    },\n    formatNoticeTime(dtStr, withTime = false) {\n      if (!dtStr) return '-';\n      const parts = String(dtStr).replace('T', ' ').split(' ');\n      const [d, t] = parts.length >= 2 ? parts : [parts[0], ''];\n      const ds = d.split('-');\n      if (ds.length >= 3) {\n        const mmdd = `${String(ds[1]).padStart(2, '0')}-${String(ds[2]).padStart(2, '0')}`;\n        if (!withTime) return mmdd;\n        if (!t) return mmdd;\n        const hhmm = t.slice(0, 5);\n        return `${mmdd} ${hhmm}`;\n      }\n      return String(dtStr);\n    },\n    noticeReadStorageKey() {\n      return `ssrms_notice_read_${this.currentUserId || 'guest'}`;\n    },\n    loadNoticeReadIds() {\n      try {\n        const raw = localStorage.getItem(this.noticeReadStorageKey());\n        const arr = raw ? JSON.parse(raw) : [];\n        this.noticeReadIds = Array.isArray(arr) ? arr.map(x => Number(x)).filter(x => !Number.isNaN(x)) : [];\n      } catch (e) {\n        this.noticeReadIds = [];\n      }\n    },\n    saveNoticeReadIds() {\n      try {\n        localStorage.setItem(this.noticeReadStorageKey(), JSON.stringify(this.noticeReadIds || []));\n      } catch (e) {}\n    },\n    isNoticeRead(id) {\n      if (id === null || id === undefined) return false;\n      const nid = Number(id);\n      if (Number.isNaN(nid)) return false;\n      return (this.noticeReadIds || []).includes(nid);\n    },\n    markNoticeRead(id) {\n      if (id === null || id === undefined) return;\n      const nid = Number(id);\n      if (Number.isNaN(nid)) return;\n      if (!this.isNoticeRead(nid)) {\n        this.noticeReadIds = [...(this.noticeReadIds || []), nid];\n        this.saveNoticeReadIds();\n      }\n    },\n    isNoticeNew(id) {\n      return !this.isNoticeRead(id);\n    },\n    formatLastVisit(dtStr) {\n      if (!dtStr) return '-';\n      const parts = dtStr.replace('T', ' ').split(' ');\n      if (parts.length < 2) return dtStr;\n      const [d, t] = parts;\n      const [y, m, day] = d.split('-').map(n => parseInt(n, 10));\n      const [hh, mm] = t.split(':').map(n => parseInt(n, 10));\n      const dt = new Date(y, (m || 1) - 1, day || 1, hh || 0, mm || 0);\n      const now = new Date();\n      const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n      const startOfDt = new Date(dt.getFullYear(), dt.getMonth(), dt.getDate());\n      const diffDays = Math.round((startOfToday - startOfDt) / (24 * 3600 * 1000));\n      const timeText = `${String(dt.getHours()).padStart(2, '0')}:${String(dt.getMinutes()).padStart(2, '0')}`;\n      if (diffDays === 0) return `‰ªäÂ§© ${timeText}`;\n      if (diffDays === 1) return `Êò®Â§© ${timeText}`;\n      return `${String(dt.getMonth() + 1).padStart(2, '0')}-${String(dt.getDate()).padStart(2, '0')} ${timeText}`;\n    }\n  },\n  watch: {\n    currentPage: {\n      immediate: true,\n      handler(newVal) {\n        if (newVal === 'home') {\n          this.startQuoteTimer();\n          this.loadHomeNotices();\n        } else {\n          this.stopQuoteTimer();\n        }\n        if (newVal === 'user-reservations') this.loadMyReservations({\n          refreshNoShowNotify: true\n        });\n        if (newVal === 'user-reserve') this.initReserveRooms();\n        if (newVal === 'user-violations') this.loadMyViolations();\n        if (newVal === 'user-profile') this.loadUserProfile();\n      }\n    },\n    myReservations() {\n      this.reservationPageIndex = 1;\n    },\n    onlyNoShow() {\n      this.reservationPageIndex = 1;\n    }\n  }\n};","map":{"version":3,"names":["name","props","currentPage","type","String","required","emits","beforeUnmount","stopQuoteTimer","data","allRooms","campusOptions","buildingOptions","roomOptions","selectedCampus","selectedBuilding","selectedRoomId","startHour","endHour","selectedSeatNo","disabledSeatNos","tempReservations","submittingReservations","dateList","visibleStart","visibleCount","currentDateIndex","disabledSlotIds","currentUserId","myReservations","pageSize","reservationPageIndex","myViolations","violationPageIndex","violationPageSize","profileForm","account","studentNo","college","gradeClass","phone","email","commonCampus","profileRemark","profileLoading","profileSaving","weatherData","dailyQuote","dailyQuoteId","quoteTimer","openFeedback","homeNotices","noticeDetailVisible","noticeDetail","noticeAllVisible","noticeAllView","noticePageList","noticeTotalCount","noticePageNum","noticePageSize","noticeTypeFilter","noticeLoading","homeNoticeLimit","noticeReadIds","onlyNoShow","currentCreditScore","todayOverview","totalSeats","reservedCount","inUseCount","remainingCount","monthBrief","monthReserveCount","studyMinutes","lastVisitTime","computed","visibleDates","slice","map","d","idx","index","canMovePrev","canMoveNext","length","currentRoomId","currentRoomFullName","room","find","r","Number","id","campus","building","roomName","currentDateLabel","cur","fullLabel","currentDateStr","startHourOptions","arr","h","push","endHourOptions","maxEnd","Math","min","selectedTimeText","pad2","selectedSlotIdsFromRange","ids","rangeHasConflict","disabled","Set","x","some","has","seatList","i","padStart","hasAnySelection","selectionTagText","parts","join","canClearAll","currentTempKey","isDuplicateTempReservation","key","canAddTempReservation","canSubmitReservation","totalPages","displayReservations","ceil","pagedReservations","total","page","start","end","violationTotalPages","pagedViolations","todayStr","Date","getMonth","getDate","weekDayStr","list","getDay","timeGreeting","getHours","todayAppointments","Array","isArray","getFullYear","filter","item","date","byDateTimeAsc","a","b","da","db","localeCompare","ta","startTime","tb","reservationNo","norm","s","trim","toLowerCase","includes","status","sort","rank","st","ra","rb","monthStudyHours","mins","hours","isInteger","toFixed","lastVisitText","formatLastVisit","created","initDates","u0","getStoredUser","userId","loadNoticeReadIds","userName","accountNo","loadUserProfile","loadMyReservations","refreshNoShowNotify","loadWeather","loadQuoteFromDb","loadHomeDashboard","loadHomeNotices","methods","normalizeBody","res","normalizeData","body","isBizOk","resOrBody","code","getMsg","fallback","msg","getUserStorage","localStorage","getItem","sessionStorage","storage","raw","JSON","parse","e","ensureCurrentUserId","u","emitChange","$emit","initReserveRooms","fetchSlotStatus","rooms","loadRoomsFromBackend","catch","buildFallbackRooms","from","onCampusChange","tries","url","t","$axios","get","campuses","buildings","roomNames","floor","no","c","rn","openSeats","bs","onBuildingChange","onRoomChange","n","handleStartHourChange","fetchSeatConflicts","handleEndHourChange","today","weekdays","setDate","month","day","toString","year","weekday","monthLabel","isToday","isTomorrow","moveDates","direction","selectDate","seatState","seat","seatClass","state","toggleSeat","resetSelections","clearAllSelections","addTempReservation","labelParts","roomId","seatNo","label","removeTempReservation","splice","submitReservations","alert","first","same","every","payload","endTime","seatNos","post","opts","refreshNoShowStatus","notify","params","formatTimeRange","renderStatusText","statusClass","gotoPrevPage","gotoNextPage","handleCheckIn","ok","handleCancel","canCancel","window","confirm","startStr","isNaN","getTime","now","diffMs","tenMinutes","updated","loadMyViolations","gotoPrevViolationPage","gotoNextViolationPage","isFinite","creditScore","handleProfileSave","submitFB","score","console","log","codeToDesc","resp","fetch","json","cw","current_weather","temp","temperature","windSpeed","windspeed","weathercode","desc","city","wind","excludeId","undefined","content","startQuoteTimer","setInterval","clearInterval","refreshQuote","emojiWeather","Object","keys","roleId","limit","summary","makeNoticeSummary","roomHint","loadNoticePage","pageNum","openNoticeDetail","markNoticeRead","openNoticeAll","openNoticeDetailFromAll","backToNoticeAllList","onNoticePageChange","onNoticeTypeChange","noticeTypeText","RULE","ADJUSTMENT","EMERGENCY","MAINTENANCE","EXAM","OTHER","noticeTypeIcon","noticeLevelText","level","IMPORTANT","WARNING","INFO","replace","formatNoticeTime","dtStr","withTime","split","ds","mmdd","hhmm","noticeReadStorageKey","saveNoticeReadIds","setItem","stringify","isNoticeRead","nid","isNoticeNew","y","m","parseInt","hh","mm","dt","startOfToday","startOfDt","diffDays","round","timeText","getMinutes","watch","immediate","handler","newVal"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\UserHome.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <!-- È¶ñÈ°µ -->\r\n    <div v-if=\"currentPage === 'home'\" class=\"home-wrapper\">\r\n      <div class=\"card home-card\">\r\n        <!-- È°∂ÈÉ®ÔºöÊ¨¢Ëøé + Âè≥‰∏äËßíÂ§©Ê∞îÂ∞èÂç°Áâá -->\r\n        <div class=\"home-top home-head\">\r\n          <div class=\"home-intro\">\r\n            <h2 class=\"page-title\">{{ timeGreeting }}ÔºåÊ¨¢Ëøé‰ΩøÁî®Ëá™‰π†ÂÆ§È¢ÑÁ∫¶Á≥ªÁªüÔºàÂ≠¶ÁîüÁ´ØÔºâ</h2>\r\n            <p class=\"page-subtitle\">\r\n              ‰ªäÂ§©ÊòØ {{ todayStr }} ¬∑ {{ weekDayStr }}„ÄÇ‰Ω†ÂèØ‰ª•Âú®ËøôÈáåÊü•ÁúãËá™‰π†ÂÆ§ÂºÄÊîæÊÉÖÂÜµ„ÄÅÈ¢ÑÁ∫¶Â∫ß‰Ωç„ÄÅÊü•ÁúãËá™Â∑±ÁöÑÈ¢ÑÁ∫¶ËÆ∞ÂΩï‰ª•ÂèäËøùËßÑÁä∂ÊÄÅÁ≠â„ÄÇ\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Âè≥‰∏äËßíÂ§©Ê∞îËø∑‰Ω†Âç°Áâá -->\r\n          <div v-if=\"weatherData\" class=\"weather-mini\">\r\n            <div class=\"weather-main\">\r\n              <span class=\"weather-icon\">{{ emojiWeather(weatherData.desc) }}</span>\r\n              <span class=\"weather-temp\">{{ weatherData.temp }}¬∞C</span>\r\n            </div>\r\n            <div class=\"weather-desc\">\r\n              {{ weatherData.city }} ¬∑ {{ weatherData.desc }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ‰∏≠ÈÉ®Â∏ÉÂ±ÄÔºöÊåâË°åÊéíÂàó -->\r\n        <div class=\"home-main-grid\">\r\n          <!-- Á¨¨‰∏ÄË°åÔºö‰ªäÊó•ÊèêÁ§∫ÔºàÊï¥Ë°åÔºåÂ±Ö‰∏≠Ôºâ -->\r\n          <div class=\"home-row\">\r\n            <div class=\"quote-card\" v-if=\"dailyQuote\">\r\n              <!-- Âè≥‰∏äËßíÂà∑Êñ∞ÊåâÈíÆ -->\r\n              <button\r\n                  type=\"button\"\r\n                  class=\"quote-refresh-btn\"\r\n                  title=\"Êç¢‰∏ÄÂè•\"\r\n                  @click=\"refreshQuote\"\r\n              >\r\n                ‚Üª\r\n              </button>\r\n\r\n              <div class=\"quote-header\">\r\n                <span class=\"quote-icon-inline\">üí°</span>\r\n                <span class=\"quote-label\">‰ªäÊó•ÊèêÁ§∫</span>\r\n              </div>\r\n\r\n              <div class=\"quote-content\">\r\n                <div class=\"quote-text\">{{ dailyQuote }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"home-row-two\">\r\n            <div class=\"home-panel home-overview\">\r\n              <div class=\"home-panel-header\">\r\n                <div class=\"home-panel-title\">‰ªäÊó•Ëá™‰π†ÂÆ§Ê¶ÇÂÜµ</div>\r\n              </div>\r\n              <div class=\"home-panel-body home-overview-body\">\r\n                <div class=\"home-overview-line\">\r\n                  <div class=\"home-panel-number\">{{ todayOverview.totalSeats }} ‰∏™Â∫ß‰Ωç</div>\r\n                  <div class=\"home-panel-desc\">\r\n                    Â∑≤È¢ÑÁ∫¶ {{ todayOverview.reservedCount }} ¬∑ Ê≠£Âú®‰ΩøÁî® {{ todayOverview.inUseCount }} ¬∑ Ââ©‰Ωô {{ todayOverview.remainingCount }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"month-report\">\r\n              <div class=\"report-title\">Êú¨ÊúàÂ≠¶‰π†ÁÆÄÊä•</div>\r\n              <div class=\"report-row\">\r\n                <span>Êú¨ÊúàÁ¥ØËÆ°È¢ÑÁ∫¶</span>\r\n                <span><strong>{{ monthBrief.monthReserveCount }}</strong> Ê¨°</span>\r\n              </div>\r\n              <div class=\"report-row\">\r\n                <span>Êú¨ÊúàÁ¥ØËÆ°Ëá™‰π†Êó∂Èïø</span>\r\n                <span><strong>{{ monthStudyHours }}</strong> Â∞èÊó∂</span>\r\n              </div>\r\n              <div class=\"report-row\">\r\n                <span>ÊúÄËøë‰∏ÄÊ¨°Âà∞È¶Ü</span>\r\n                <span>{{ monthBrief.lastVisitTime || '-' }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Á¨¨‰∏âË°åÔºöÂÖ¨Âëä / ÈÄöÁü•ÔºàÊï¥Ë°åÔºâ -->\r\n          <div class=\"home-row\">\r\n            <div class=\"home-panel notice-panel\">\r\n              <div class=\"home-panel-header\">\r\n                <div class=\"home-panel-title\">\r\n                  ÂÖ¨Âëä / ÈÄöÁü•\r\n                  <span v-if=\"noticeTotalCount\" class=\"notice-count\">Ôºà{{ noticeTotalCount }}Ôºâ</span>\r\n                </div>\r\n                <button type=\"button\" class=\"notice-more-btn\" @click=\"openNoticeAll\">Êü•ÁúãÂÖ®ÈÉ®</button>\r\n              </div>\r\n\r\n              <div v-if=\"noticeLoading\" class=\"notice-loading\">Ê≠£Âú®Âä†ËΩΩÂÖ¨Âëä‚Ä¶</div>\r\n\r\n              <div v-else-if=\"!homeNotices.length\" class=\"notice-empty\">\r\n                ÊöÇÊó†ÂÖ¨Âëä\r\n              </div>\r\n\r\n              <ul v-else class=\"notice-list\">\r\n                <li\r\n                    v-for=\"item in homeNotices\"\r\n                    :key=\"item.id\"\r\n                    class=\"notice-item\"\r\n                    @click=\"openNoticeDetail(item)\"\r\n                >\r\n                  <div class=\"notice-badges\">\r\n                    <div class=\"notice-pill notice-type\" :class=\"'type-' + item.type\">\r\n                      <span class=\"notice-icon\">{{ noticeTypeIcon(item.type) }}</span>\r\n                      <span>{{ noticeTypeText(item.type) }}</span>\r\n                    </div>\r\n\r\n                    <div class=\"notice-pill notice-level\" :class=\"'level-' + item.level\">\r\n                      {{ noticeLevelText(item.level) }}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"notice-main\">\r\n                    <div class=\"notice-title\" :title=\"item.title\">\r\n                      {{ item.title }}\r\n                    </div>\r\n\r\n                    <div v-if=\"item.summary\" class=\"notice-snippet\" :title=\"item.summary\">\r\n                      {{ item.summary }}\r\n                    </div>\r\n\r\n                    <div class=\"notice-meta\">\r\n                      <span>{{ formatNoticeTime(item.publishTime) }}</span>\r\n                      <span class=\"notice-dot\">¬∑</span>\r\n                      <span>{{ item.targetText || 'ÂÖ®‰ΩìÂ≠¶Áîü' }}</span>\r\n                      <span v-if=\"item.roomHint\" class=\"notice-dot\">¬∑</span>\r\n                      <span v-if=\"item.roomHint\">{{ item.roomHint }}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"notice-right\">\r\n                    <span v-if=\"isNoticeNew(item.id, item.publishTime)\" class=\"notice-new\">NEW</span>\r\n                    <span class=\"notice-arrow\">‚Ä∫</span>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- ‚úÖ ÂÖ¨ÂëäËØ¶ÊÉÖÂºπÁ™óÔºàÈ¶ñÈ°µÁÇπÊüêÊù°ÂÖ¨ÂëäÔºâ -->\r\n          <el-dialog\r\n              v-model=\"noticeDetailVisible\"\r\n              title=\"ÂÖ¨ÂëäËØ¶ÊÉÖ\"\r\n              append-to-body\r\n              :z-index=\"4000\"\r\n              width=\"640px\"\r\n              :lock-scroll=\"false\"\r\n          >\r\n            <div v-if=\"noticeDetail\" class=\"notice-detail\">\r\n              <div class=\"nd-head\">\r\n                <div class=\"nd-title-row\">\r\n                  <div class=\"nd-title\">{{ noticeDetail.title }}</div>\r\n                </div>\r\n\r\n                <div class=\"nd-tags\">\r\n                  <span class=\"nd-tag\" :class=\"'type-' + noticeDetail.type\">\r\n                    {{ noticeTypeIcon(noticeDetail.type) }} {{ noticeTypeText(noticeDetail.type) }}\r\n                  </span>\r\n                  <span class=\"nd-tag\" :class=\"'level-' + noticeDetail.level\">\r\n                    {{ noticeLevelText(noticeDetail.level) }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <el-divider></el-divider>\r\n\r\n              <div class=\"nd-info\">\r\n                <div class=\"nd-info-item\">\r\n                  <div class=\"k\">ÂèëÂ∏ÉÊó∂Èó¥</div>\r\n                  <div class=\"v\">{{ formatNoticeTime(noticeDetail.publishTime, true) }}</div>\r\n                </div>\r\n                <div class=\"nd-info-item\">\r\n                  <div class=\"k\">ÂÖ¨ÂëäÁ±ªÂûã</div>\r\n                  <div class=\"v\">{{ noticeTypeText(noticeDetail.type) }}</div>\r\n                </div>\r\n                <div class=\"nd-info-item\">\r\n                  <div class=\"k\">ÈáçË¶ÅÁ®ãÂ∫¶</div>\r\n                  <div class=\"v\">{{ noticeLevelText(noticeDetail.level) }}</div>\r\n                </div>\r\n                <div class=\"nd-info-item\">\r\n                  <div class=\"k\">Èù¢ÂêëÂØπË±°</div>\r\n                  <div class=\"v\">{{ noticeDetail.targetText || 'ÂÖ®‰ΩìÂ≠¶Áîü' }}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <el-divider></el-divider>\r\n\r\n              <div class=\"nd-content\">{{ noticeDetail.content || 'ÔºàÊó†ÂÜÖÂÆπÔºâ' }}</div>\r\n            </div>\r\n          </el-dialog>\r\n\r\n          <!-- ‚úÖ ÂÖ¨Âëä‰∏≠ÂøÉÂºπÁ™óÔºöÊü•ÁúãÂÖ®ÈÉ®ÔºàÂè™‰øùÁïô‰∏Ä‰∏™ÔºåÈÅøÂÖç v-model ÁªëÂÆö‰∏§‰∏™ dialog ÂØºËá¥ÂºÇÂ∏∏Ôºâ -->\r\n          <el-dialog\r\n              v-model=\"noticeAllVisible\"\r\n              title=\"ÂÖ¨Âëä‰∏≠ÂøÉ\"\r\n              fullscreen\r\n              append-to-body\r\n              :z-index=\"4000\"\r\n              class=\"notice-all-dialog\"\r\n              :lock-scroll=\"false\"\r\n          >\r\n            <div class=\"notice-all-wrap\">\r\n              <!-- ÂàóË°®ËßÜÂõæ -->\r\n              <div v-if=\"noticeAllView === 'list'\">\r\n                <div class=\"notice-all-head\">\r\n                  <div class=\"notice-all-filter\">\r\n                    <span class=\"filter-label\">Á±ªÂûã</span>\r\n\r\n                    <el-select\r\n                        v-model=\"noticeTypeFilter\"\r\n                        size=\"small\"\r\n                        placeholder=\"ÂÖ®ÈÉ®\"\r\n                        clearable\r\n                        class=\"notice-type-select\"\r\n                        popper-class=\"notice-type-popper\"\r\n                        style=\"width: 180px\"\r\n                        @change=\"onNoticeTypeChange\"\r\n                    >\r\n                      <el-option label=\"ÂÖ®ÈÉ®\" value=\"\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üóÇÔ∏è</span>\r\n                          <span class=\"opt-text\">ÂÖ®ÈÉ®</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"ËßÑÂàô\" value=\"RULE\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üìå</span><span class=\"opt-text\">ËßÑÂàô</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"Ë∞ÉÊï¥\" value=\"ADJUSTMENT\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üïí</span><span class=\"opt-text\">Ë∞ÉÊï¥</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"Á™ÅÂèë\" value=\"EMERGENCY\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üö®</span><span class=\"opt-text\">Á™ÅÂèë</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"Áª¥Êä§\" value=\"MAINTENANCE\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üõ†Ô∏è</span><span class=\"opt-text\">Áª¥Êä§</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"ËÄÉËØï\" value=\"EXAM\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üìù</span><span class=\"opt-text\">ËÄÉËØï</span>\r\n                        </span>\r\n                      </el-option>\r\n\r\n                      <el-option label=\"ÂÖ∂‰ªñ\" value=\"OTHER\">\r\n                        <span class=\"opt-row\">\r\n                          <span class=\"opt-ico\">üì£</span><span class=\"opt-text\">ÂÖ∂‰ªñ</span>\r\n                        </span>\r\n                      </el-option>\r\n                    </el-select>\r\n                  </div>\r\n\r\n                  <div class=\"notice-all-tip\">\r\n                    ÂÖ± {{ noticeTotalCount }} Êù°\r\n                  </div>\r\n                </div>\r\n\r\n                <div v-if=\"noticeLoading\" class=\"notice-loading\">Ê≠£Âú®Âä†ËΩΩÂÖ¨Âëä‚Ä¶</div>\r\n\r\n                <div v-else-if=\"!noticePageList.length\" class=\"notice-empty\">\r\n                  ÊöÇÊó†ÂÖ¨Âëä\r\n                </div>\r\n\r\n                <ul v-else class=\"notice-list notice-list-all\">\r\n                  <li\r\n                      v-for=\"item in noticePageList\"\r\n                      :key=\"item.id\"\r\n                      class=\"notice-item notice-item-click\"\r\n                      @click=\"openNoticeDetailFromAll(item)\"\r\n                  >\r\n                    <div class=\"notice-badges\">\r\n                      <div class=\"notice-pill notice-type\" :class=\"'type-' + item.type\">\r\n                        <span class=\"notice-icon\">{{ noticeTypeIcon(item.type) }}</span>\r\n                        <span>{{ noticeTypeText(item.type) }}</span>\r\n                      </div>\r\n                      <div class=\"notice-pill notice-level\" :class=\"'level-' + item.level\">\r\n                        {{ noticeLevelText(item.level) }}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"notice-main\">\r\n                      <div class=\"notice-title\" :title=\"item.title\">\r\n                        {{ item.title }}\r\n                      </div>\r\n\r\n                      <div v-if=\"item.summary\" class=\"notice-snippet\" :title=\"item.summary\">\r\n                        {{ item.summary }}\r\n                      </div>\r\n\r\n                      <div class=\"notice-meta\">\r\n                        <span>{{ formatNoticeTime(item.publishTime, true) }}</span>\r\n                        <span class=\"notice-dot\">¬∑</span>\r\n                        <span>{{ item.targetText || 'ÂÖ®‰ΩìÂ≠¶Áîü' }}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"notice-right\">\r\n                      <span v-if=\"isNoticeNew(item.id)\" class=\"notice-new\">NEW</span>\r\n                      <span class=\"notice-arrow\">‚Ä∫</span>\r\n                    </div>\r\n                  </li>\r\n                </ul>\r\n\r\n                <div class=\"notice-pagination\">\r\n                  <el-pagination\r\n                      background\r\n                      layout=\"prev, pager, next\"\r\n                      :page-size=\"noticePageSize\"\r\n                      :current-page=\"noticePageNum\"\r\n                      :total=\"noticeTotalCount\"\r\n                      @current-change=\"onNoticePageChange\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <!-- ËØ¶ÊÉÖËßÜÂõæÔºöÂú®‚ÄúÂÖ¨Âëä‰∏≠ÂøÉ‚ÄùÈáåÁúãËØ¶ÊÉÖÔºàÊõ¥ÂÉè‰∏Ä‰∏™È°µÈù¢Ôºâ -->\r\n              <div v-else class=\"notice-center-detail\">\r\n                <div class=\"notice-center-detail-top\">\r\n                  <el-button type=\"primary\" plain @click=\"backToNoticeAllList\">ËøîÂõûÂÖ¨ÂëäÂàóË°®</el-button>\r\n                </div>\r\n\r\n                <div v-if=\"noticeDetail\" class=\"notice-detail notice-detail-in-center\">\r\n                  <div class=\"nd-head\">\r\n                    <div class=\"nd-title-row\">\r\n                      <div class=\"nd-title\">{{ noticeDetail.title }}</div>\r\n                    </div>\r\n\r\n                    <div class=\"nd-tags\">\r\n                      <span class=\"nd-tag\" :class=\"'type-' + noticeDetail.type\">\r\n                        {{ noticeTypeIcon(noticeDetail.type) }} {{ noticeTypeText(noticeDetail.type) }}\r\n                      </span>\r\n                      <span class=\"nd-tag\" :class=\"'level-' + noticeDetail.level\">\r\n                        {{ noticeLevelText(noticeDetail.level) }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <el-divider></el-divider>\r\n\r\n                  <div class=\"nd-info\">\r\n                    <div class=\"nd-info-item\">\r\n                      <div class=\"k\">ÂèëÂ∏ÉÊó∂Èó¥</div>\r\n                      <div class=\"v\">{{ formatNoticeTime(noticeDetail.publishTime, true) }}</div>\r\n                    </div>\r\n                    <div class=\"nd-info-item\">\r\n                      <div class=\"k\">ÂÖ¨ÂëäÁ±ªÂûã</div>\r\n                      <div class=\"v\">{{ noticeTypeText(noticeDetail.type) }}</div>\r\n                    </div>\r\n                    <div class=\"nd-info-item\">\r\n                      <div class=\"k\">ÈáçË¶ÅÁ®ãÂ∫¶</div>\r\n                      <div class=\"v\">{{ noticeLevelText(noticeDetail.level) }}</div>\r\n                    </div>\r\n                    <div class=\"nd-info-item\">\r\n                      <div class=\"k\">Èù¢ÂêëÂØπË±°</div>\r\n                      <div class=\"v\">{{ noticeDetail.targetText || 'ÂÖ®‰ΩìÂ≠¶Áîü' }}</div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <el-divider></el-divider>\r\n\r\n                  <div class=\"nd-content\">{{ noticeDetail.content || 'ÔºàÊó†ÂÜÖÂÆπÔºâ' }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-dialog>\r\n\r\n          <!-- Á¨¨ÂõõË°åÔºöÊàëÁöÑ‰ªäÊó•È¢ÑÁ∫¶ÔºàÊï¥Ë°åÔºâ -->\r\n          <div class=\"home-row\">\r\n            <div class=\"home-panel my-today-card\">\r\n              <div class=\"home-panel-header\">\r\n                <div class=\"home-panel-title\">ÊàëÁöÑ‰ªäÊó•È¢ÑÁ∫¶</div>\r\n                <div\r\n                    class=\"home-panel-subtitle\"\r\n                    v-if=\"todayAppointments.length\"\r\n                >\r\n                  ‰ªäÊó•ÂÖ± {{ todayAppointments.length }} Âú∫Ëá™‰π†ÂÆâÊéí\r\n                </div>\r\n                <div\r\n                    class=\"home-panel-subtitle\"\r\n                    v-else\r\n                >\r\n                  ‰ªäÊó•ÊöÇÊó†È¢ÑÁ∫¶ÔºåÂèØ‰ª•ÂÆâÊéí‰∏ÄÂú∫È´òÊïàËá™‰π†ÔΩû\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"home-panel-body my-today-body\">\r\n                <!-- ÊúâÈ¢ÑÁ∫¶Êó∂ÔºåÂ±ïÁ§∫Ââç 3 Êù° -->\r\n                <template v-if=\"todayAppointments.length\">\r\n                  <div\r\n                      v-for=\"(item, idx) in todayAppointments.slice(0, 3)\"\r\n                      :key=\"idx\"\r\n                      class=\"today-item\"\r\n                  >\r\n                    <div class=\"today-left\">\r\n                      <div class=\"today-time\">{{ formatTimeRange(item) }}</div>\r\n                      <div class=\"today-room\">\r\n                        {{ item.roomFullName || item.roomName || 'Ëá™‰π†ÂÆ§' }}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <span class=\"badge\" :class=\"statusClass(item.status)\">\r\n                      {{ renderStatusText(item.status) }}\r\n                    </span>\r\n                  </div>\r\n                </template>\r\n\r\n                <!-- Ê≤°È¢ÑÁ∫¶Êó∂ÁöÑÊñáÊ°à -->\r\n                <div\r\n                    v-else\r\n                    class=\"today-empty\"\r\n                >\r\n                  ÂΩìÂâçËøòÊ≤°ÊúâÈ¢ÑÁ∫¶ÔºåÂ∑¶‰æßÂØºËà™Ê†è‰∏≠ÁöÑ‚ÄúÂ∫ß‰ΩçÈ¢ÑÁ∫¶‚ÄùÂèØ‰ª•Âø´ÈÄüÂàõÂª∫Êñ∞ÁöÑÈ¢ÑÁ∫¶„ÄÇ\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Âè≥‰∏ãËßí‚ÄúÈöèÊâã‰∏ÄËØÑ‚ÄùÊµÆÂ±Ç -->\r\n      <transition name=\"fade\">\r\n        <div v-if=\"openFeedback\" class=\"feedback-float\">\r\n          <div class=\"feedback-panel\">\r\n            <div class=\"feedback-title\">‰ªäÂ§©ÁöÑËá™‰π†Ê∞õÂõ¥Â¶Ç‰ΩïÔºü</div>\r\n            <div class=\"feedback-emojis\">\r\n              <span @click=\"submitFB(1)\">üò£</span>\r\n              <span @click=\"submitFB(2)\">üòï</span>\r\n              <span @click=\"submitFB(3)\">üôÇ</span>\r\n              <span @click=\"submitFB(4)\">üòä</span>\r\n              <span @click=\"submitFB(5)\">ü§©</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n      <div class=\"feedback-float\" v-if=\"!openFeedback\">\r\n        <div class=\"feedback-btn\" @click=\"openFeedback = true\">\r\n          ËØÑ‰ª∑\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ÊàëË¶ÅÈ¢ÑÁ∫¶È°µÈù¢ÔºàÁæéÂåñÁâàÔºâ -->\r\n    <div v-else-if=\"currentPage === 'user-reserve'\">\r\n      <div class=\"card reserve-card\">\r\n        <!-- È°∂ÈÉ®ÔºöÊ†áÈ¢ò + ÂΩìÂâçÈÄâÊã©Ê¶ÇËßà -->\r\n        <div class=\"reserve-header-row\">\r\n          <div class=\"reserve-header-left\">\r\n            <h2 class=\"page-title\">ÊàëË¶ÅÈ¢ÑÁ∫¶</h2>\r\n            <p class=\"page-subtitle\">\r\n              ÈÄâÊã©Ê†°Âå∫„ÄÅÂª∫Á≠ë„ÄÅÊïôÂÆ§„ÄÅÊó•Êúü‰∏éÊó∂Èó¥ÊÆµÔºåÂπ∂ÈÄâÊã©Â∫ß‰ΩçÂè∑ËøõË°åÈ¢ÑÁ∫¶„ÄÇ\r\n            </p>\r\n          </div>\r\n\r\n          <!-- Âè≥‰æßÔºöÂΩìÂâçÈÄâÊã©Ê¶ÇË¶Å -->\r\n          <div class=\"reserve-summary-box\">\r\n            <div class=\"summary-title\">ÂΩìÂâçÈÄâÊã©</div>\r\n            <div class=\"summary-main\">\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">Âú∫Âú∞</span>\r\n                <span class=\"summary-value\">\r\n                  {{ currentRoomFullName || 'ËØ∑ÈÄâÊã©Âú∫Âú∞' }}\r\n                </span>\r\n              </div>\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">Êó•Êúü</span>\r\n                <span class=\"summary-value\">\r\n                  {{ currentDateLabel || 'ËØ∑ÈÄâÊã©Êó•Êúü' }}\r\n                </span>\r\n              </div>\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">Êó∂Èó¥</span>\r\n                <span class=\"summary-value\" v-if=\"selectedTimeText\">\r\n                  {{ selectedTimeText }}\r\n                </span>\r\n                <span class=\"summary-value summary-empty\" v-else>Â∞öÊú™ÈÄâÊã©</span>\r\n              </div>\r\n\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">Â∫ß‰Ωç</span>\r\n                <span class=\"summary-value\" v-if=\"selectedSeatNo\">\r\n                  {{ selectedSeatNo }}\r\n                </span>\r\n                <span class=\"summary-value summary-empty\" v-else>Â∞öÊú™ÈÄâÊã©</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Âú∫Âú∞ÔºàÊ†°Âå∫/Âª∫Á≠ë/ÊïôÂÆ§Ôºâ + Êó∂Èó¥ÔºàÂºÄÂßã/ÁªìÊùüÔºâ -->\r\n        <div class=\"reserve-toolbar\">\r\n          <div class=\"reserve-control short\">\r\n            <select class=\"reserve-select\" v-model=\"selectedCampus\" @change=\"onCampusChange\">\r\n              <option value=\"\" disabled>ÈÄâÊã©Ê†°Âå∫</option>\r\n              <option v-for=\"c in campusOptions\" :key=\"c\" :value=\"c\">{{ c }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"reserve-control short\">\r\n            <select\r\n                class=\"reserve-select\"\r\n                v-model=\"selectedBuilding\"\r\n                :disabled=\"!selectedCampus\"\r\n                @change=\"onBuildingChange\"\r\n            >\r\n              <option value=\"\" disabled>ÈÄâÊã©Âª∫Á≠ë</option>\r\n              <option v-for=\"b in buildingOptions\" :key=\"b\" :value=\"b\">{{ b }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"reserve-control short\">\r\n            <select\r\n                class=\"reserve-select\"\r\n                v-model.number=\"selectedRoomId\"\r\n                :disabled=\"!selectedBuilding\"\r\n                @change=\"onRoomChange\"\r\n            >\r\n              <option :value=\"null\" disabled>ÈÄâÊã©ÊïôÂÆ§</option>\r\n              <option v-for=\"r in roomOptions\" :key=\"r.id\" :value=\"r.id\">{{ r.roomName }}</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"reserve-control long\">\r\n            <select class=\"reserve-select\" v-model.number=\"startHour\" @change=\"handleStartHourChange\">\r\n              <option :value=\"null\" disabled>ÂºÄÂßãÊó∂Èó¥</option>\r\n              <option v-for=\"h in startHourOptions\" :key=\"h\" :value=\"h\">{{ pad2(h) }}:00</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"reserve-control long\">\r\n            <select\r\n                class=\"reserve-select\"\r\n                v-model.number=\"endHour\"\r\n                :disabled=\"startHour == null\"\r\n                @change=\"handleEndHourChange\"\r\n            >\r\n              <option :value=\"null\" disabled>ÁªìÊùüÊó∂Èó¥</option>\r\n              <option v-for=\"h in endHourOptions\" :key=\"h\" :value=\"h\">{{ pad2(h) }}:00</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"reserve-warning\" v-if=\"rangeHasConflict\">\r\n            ÊâÄÈÄâÊó∂Èó¥ÊÆµÂåÖÂê´‰∏çÂèØÈ¢ÑÁ∫¶Êó∂ÊÆµ\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Êó•ÊúüÊù° -->\r\n        <div class=\"date-strip\">\r\n          <button\r\n              class=\"date-arrow\"\r\n              type=\"button\"\r\n              @click=\"moveDates('prev')\"\r\n              :disabled=\"!canMovePrev\"\r\n          >\r\n            ‚Äπ\r\n          </button>\r\n\r\n          <div class=\"date-list\">\r\n            <button\r\n                v-for=\"d in visibleDates\"\r\n                :key=\"d.key\"\r\n                type=\"button\"\r\n                class=\"date-item\"\r\n                :class=\"{ active: currentDateIndex === d.index }\"\r\n                @click=\"selectDate(d.index)\"\r\n            >\r\n              <div class=\"date-month\">{{ d.monthLabel }}</div>\r\n              <div class=\"date-day-row\">\r\n                <span class=\"date-day-number\">{{ d.day }}</span>\r\n                <span class=\"date-weekday\">{{ d.weekday }}</span>\r\n              </div>\r\n              <div class=\"date-extra\" v-if=\"d.isToday\">‰ªäÂ§©</div>\r\n              <div class=\"date-extra\" v-else-if=\"d.isTomorrow\">ÊòéÂ§©</div>\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n              class=\"date-arrow\"\r\n              type=\"button\"\r\n              @click=\"moveDates('next')\"\r\n              :disabled=\"!canMoveNext\"\r\n          >\r\n            ‚Ä∫\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Â∫ß‰ΩçÂè∑ÈÄâÊã©Âå∫Âüü -->\r\n        <div class=\"slot-section\">\r\n          <div class=\"slot-header\">\r\n            <div class=\"slot-title\">ÈÄâÊã©Â∫ß‰ΩçÂè∑</div>\r\n            <div class=\"slot-legend\">\r\n              <span class=\"legend-item\">\r\n                <span class=\"legend-dot legend-available\"></span>ÂèØÈ¢ÑÁ∫¶\r\n              </span>\r\n              <span class=\"legend-item\">\r\n                <span class=\"legend-dot legend-selected\"></span>Â∑≤ÈÄâ\r\n              </span>\r\n              <span class=\"legend-item\">\r\n                <span class=\"legend-dot legend-disabled\"></span>‰∏çÂèØÈ¢ÑÁ∫¶\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"slot-grid\">\r\n            <button\r\n                v-for=\"seat in seatList\"\r\n                :key=\"seat\"\r\n                type=\"button\"\r\n                class=\"slot-item\"\r\n                :class=\"seatClass(seat)\"\r\n                :disabled=\"seatState(seat) === 'disabled'\"\r\n                @click=\"toggleSeat(seat)\"\r\n            >\r\n              <span class=\"slot-time\">{{ seat }}</span>\r\n              <span class=\"slot-range\">Â∫ß‰Ωç</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Â∑≤ÈÄâÊó∂ÊÆµ + Êèê‰∫§Âå∫Âüü -->\r\n        <div class=\"reserve-bottom\">\r\n          <div class=\"selected-tags\" v-if=\"tempReservations.length\">\r\n            <div\r\n                class=\"selected-tag\"\r\n                v-for=\"(item, idx) in tempReservations\"\r\n                :key=\"item.key\"\r\n            >\r\n              <span class=\"selected-tag-text\">{{ item.label }}</span>\r\n              <button\r\n                  type=\"button\"\r\n                  class=\"selected-tag-close\"\r\n                  @click=\"removeTempReservation(idx)\"\r\n              >\r\n                √ó\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"reserve-actions\">\r\n            <button\r\n                type=\"button\"\r\n                class=\"link-btn\"\r\n                :disabled=\"!canClearAll\"\r\n                @click=\"clearAllSelections\"\r\n            >\r\n              Ê∏ÖÁ©∫ÈÄâÊã©\r\n            </button>\r\n\r\n            <button\r\n                type=\"button\"\r\n                class=\"primary-btn reserve-btn\"\r\n                :disabled=\"!canAddTempReservation\"\r\n                @click=\"addTempReservation\"\r\n            >\r\n              Ê∑ªÂä†\r\n            </button>\r\n\r\n            <button\r\n                type=\"button\"\r\n                class=\"primary-btn reserve-btn\"\r\n                :disabled=\"!canSubmitReservation\"\r\n                @click=\"submitReservations\"\r\n            >\r\n              Á°ÆËÆ§È¢ÑÁ∫¶\r\n            </button>\r\n          </div>\r\n\r\n          <p class=\"hint-text\">\r\n            ÂÖàÁÇπÂáª‚ÄúÊ∑ªÂä†‚ÄùÂ∞ÜÂΩìÂâçÈÄâÊã©Âä†ÂÖ•‰∏ãÊñπÂàóË°®ÔºåÊúÄÂêéÁÇπÂáª‚ÄúÁ°ÆËÆ§È¢ÑÁ∫¶‚ÄùÊèê‰∫§ÔºåÂπ∂Ë∑≥ËΩ¨Âà∞‚ÄúÊàëÁöÑÈ¢ÑÁ∫¶‚Äù„ÄÇ\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ÊàëÁöÑÈ¢ÑÁ∫¶ -->\r\n    <div v-else-if=\"currentPage === 'user-reservations'\">\r\n      <div class=\"card card-reservations\">\r\n        <h2 class=\"page-title\">È¢ÑÁ∫¶‰∏éÁ≠æÂà∞Á≠æÈÄÄ</h2>\r\n        <!-- Á≠õÈÄâÊù°ÔºàÂú®Ê†áÈ¢òÂíåË°®Ê†º‰πãÈó¥Ôºâ -->\r\n        <div class=\"res-filter-row\">\r\n          <label class=\"res-filter\">\r\n            <span class=\"res-filter-text\">Êü•ÁúãÊú™Á≠æÂà∞ËÆ∞ÂΩï</span>\r\n            <input class=\"res-filter-checkbox\" type=\"checkbox\" v-model=\"onlyNoShow\" />\r\n          </label>\r\n        </div>\r\n        <div class=\"table-wrapper\">\r\n          <table class=\"table my-res-table\">\r\n            <thead>\r\n            <tr>\r\n              <th class=\"col-no\">È¢ÑÁ∫¶ÁºñÂè∑</th>\r\n              <th class=\"col-campus\">Ê†°Âå∫</th>\r\n              <th class=\"col-building\">Âª∫Á≠ë</th>\r\n              <th class=\"col-room\">Ëá™‰π†ÂÆ§</th>\r\n              <th class=\"col-date\">Êó•Êúü</th>\r\n              <th class=\"col-time\">Êó∂Èó¥ÊÆµ</th>\r\n              <th class=\"col-seat\">Â∫ß‰ΩçÂè∑</th>\r\n              <th class=\"col-status\">Áä∂ÊÄÅ</th>\r\n              <th class=\"col-actions\">Êìç‰Ωú</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            <tr v-for=\"item in pagedReservations\" :key=\"item.id\">\r\n              <td class=\"col-no\">{{ item.reservationNo }}</td>\r\n              <td class=\"col-campus\">{{ item.campus || '-' }}</td>\r\n              <td class=\"col-building\">{{ item.building || '-' }}</td>\r\n              <td class=\"col-room\">{{ item.roomName || '-' }}</td>\r\n              <td class=\"col-date\">{{ item.date }}</td>\r\n              <td class=\"col-time\">{{ formatTimeRange(item) }}</td>\r\n              <td class=\"col-seat\">{{ item.seatNo || '-' }}</td>\r\n              <td class=\"col-status\">\r\n                  <span class=\"badge\" :class=\"statusClass(item.status)\">\r\n                    {{ renderStatusText(item.status) }}\r\n                  </span>\r\n              </td>\r\n\r\n              <td class=\"col-actions\">\r\n                <div class=\"actions\">\r\n                  <template v-if=\"item.status === 'reserved'\">\r\n                    <button class=\"link-btn\" type=\"button\" @click=\"handleCheckIn(item)\">Á≠æÂà∞</button>\r\n                    <button class=\"link-btn link-danger\" type=\"button\" :disabled=\"!canCancel(item)\" @click=\"handleCancel(item)\">ÂèñÊ∂à</button>\r\n                  </template>\r\n\r\n                  <button\r\n                      class=\"link-btn\"\r\n                      v-else-if=\"item.status === 'checked_in' || item.status === 'late'\"\r\n                      type=\"button\"\r\n                      disabled\r\n                  >Â∑≤Á≠æÂà∞</button>\r\n\r\n                  <button\r\n                      class=\"link-btn\"\r\n                      v-else-if=\"item.status === 'no_show'\"\r\n                      type=\"button\"\r\n                      disabled\r\n                  >Â∑≤ËøáÊúü</button>\r\n\r\n                  <button\r\n                      class=\"link-btn\"\r\n                      v-else-if=\"item.status === 'cancelled' || item.status === 'cancel_overdue'\"\r\n                      type=\"button\"\r\n                      disabled\r\n                  >‰∏çÂèØÊìç‰Ωú</button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr v-if=\"!displayReservations.length\">\r\n              <td colspan=\"9\" style=\"text-align: center; color: #9ca3af; padding: 16px 0;\">\r\n                ÊöÇÊó†È¢ÑÁ∫¶ËÆ∞ÂΩï\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"pager\" v-if=\"totalPages > 1\">\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': reservationPageIndex <= 1 }\"\r\n              :disabled=\"reservationPageIndex <= 1\"\r\n              @click=\"gotoPrevPage\"\r\n          >\r\n            ‰∏ä‰∏ÄÈ°µ\r\n          </button>\r\n\r\n          <div class=\"pager-center\">\r\n            Á¨¨ {{ reservationPageIndex }} / {{ totalPages }} È°µ\r\n          </div>\r\n\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': reservationPageIndex >= totalPages }\"\r\n              :disabled=\"reservationPageIndex >= totalPages\"\r\n              @click=\"gotoNextPage\"\r\n          >\r\n            ‰∏ã‰∏ÄÈ°µ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ËøùËßÑËÆ∞ÂΩï -->\r\n    <div v-else-if=\"currentPage === 'user-violations'\">\r\n      <div class=\"card\">\r\n        <h2 class=\"page-title\">ËøùËßÑËÆ∞ÂΩï‰∏é‰ø°Áî®ÂàÜ</h2>\r\n        <p class=\"page-subtitle\">\r\n          ‰ø°Áî®ÂàÜ‰ªé 100 ÂºÄÂßãÔºåÊú™Á≠æÂà∞„ÄÅËøüÂà∞Á≠âË°å‰∏∫‰ºöÊâ£ÂàÜ„ÄÇ\r\n        </p>\r\n\r\n        <div class=\"credit-summary\">\r\n          <div class=\"credit-score\">\r\n            ÂΩìÂâç‰ø°Áî®ÂàÜÔºö\r\n            <span class=\"score-number\">{{ currentCreditScore }}</span>\r\n          </div>\r\n          <p class=\"hint-text\">\r\n            ‰ø°Áî®ÂàÜ‰Ωé‰∫é 60 ÂèØËÉΩ‰ºöË¢´ÂàóÂÖ•ÈªëÂêçÂçïÔºå‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÊó†Ê≥ïÈ¢ÑÁ∫¶„ÄÇ\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"table-wrapper\">\r\n          <table class=\"table violation-table\">\r\n            <thead>\r\n            <tr>\r\n              <th>Êó•Êúü</th>\r\n              <th>Ê†°Âå∫</th>\r\n              <th>Âª∫Á≠ë</th>\r\n              <th>Ëá™‰π†ÂÆ§</th>\r\n              <th>Â∫ß‰ΩçÂè∑</th>\r\n              <th>ËøùËßÑÁ±ªÂûã</th>\r\n              <th>Êâ£ÂàÜ</th>\r\n              <th>Â§áÊ≥®</th>\r\n            </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n            <tr v-if=\"!pagedViolations.length\">\r\n              <td colspan=\"8\" style=\"text-align: center; color: #999;\">\r\n                ÊöÇÊó†ËøùËßÑËÆ∞ÂΩï\r\n              </td>\r\n            </tr>\r\n\r\n            <tr v-for=\"item in pagedViolations\" :key=\"item.reservationId\">\r\n              <td>{{ item.date }}</td>\r\n              <td>{{ item.campus || '-' }}</td>\r\n              <td>{{ item.building || '-' }}</td>\r\n              <td>{{ item.roomName || '-' }}</td>\r\n              <td>{{ item.seatNo || '-' }}</td>\r\n              <td>{{ item.violationType }}</td>\r\n              <td>{{ item.penaltyScore }}</td>\r\n              <td>{{ item.remark }}</td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"pager\" v-if=\"violationTotalPages > 1\">\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': violationPageIndex <= 1 }\"\r\n              :disabled=\"violationPageIndex <= 1\"\r\n              @click=\"gotoPrevViolationPage\"\r\n          >\r\n            ‰∏ä‰∏ÄÈ°µ\r\n          </button>\r\n\r\n          <div class=\"pager-center\">\r\n            Á¨¨ {{ violationPageIndex }} / {{ violationTotalPages }} È°µ\r\n          </div>\r\n\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': violationPageIndex >= violationTotalPages }\"\r\n              :disabled=\"violationPageIndex >= violationTotalPages\"\r\n              @click=\"gotoNextViolationPage\"\r\n          >\r\n            ‰∏ã‰∏ÄÈ°µ\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ËØÑ‰ª∑‰∏éÊäïËØâ -->\r\n    <div v-else-if=\"currentPage === 'user-feedback'\">\r\n      <div class=\"card\">\r\n        <h2 class=\"page-title\">ËØÑ‰ª∑‰∏éÊäïËØâ</h2>\r\n        <p class=\"page-subtitle\">\r\n          ÂèØ‰ª•ÂØπËá™‰π†ÁéØÂ¢É„ÄÅËßÑÂàôÊâßË°åÊÉÖÂÜµËøõË°åËØÑ‰ª∑Ôºå‰πüÂèØ‰ª•Êèê‰∫§ÊäïËØâ‰ø°ÊÅØÔºàÁ§∫ÊÑèË°®ÂçïÔºâ„ÄÇ\r\n        </p>\r\n\r\n        <div class=\"feedback-grid\">\r\n          <div class=\"feedback-column\">\r\n            <h3 class=\"section-title\">Âø´ÈÄüËØÑ‰ª∑</h3>\r\n            <textarea\r\n                class=\"textarea\"\r\n                rows=\"4\"\r\n                placeholder=\"‰æãÂ¶ÇÔºöÁéØÂ¢ÉÂÆâÈùô„ÄÅÂç´ÁîüËâØÂ•Ω„ÄÅÁÆ°ÁêÜÂëòÊúçÂä°ÊÄÅÂ∫¶‰∏çÈîôÁ≠â„ÄÇ\"\r\n            ></textarea>\r\n            <button class=\"primary-btn\">Êèê‰∫§ËØÑ‰ª∑</button>\r\n          </div>\r\n          <div class=\"feedback-column\">\r\n            <h3 class=\"section-title\">ÊäïËØâ / Âª∫ËÆÆ</h3>\r\n            <textarea\r\n                class=\"textarea\"\r\n                rows=\"4\"\r\n                placeholder=\"ËØ∑ËØ¶ÁªÜÊèèËø∞ÈóÆÈ¢òÔºöÂèëÁîüÊó∂Èó¥„ÄÅÂú∞ÁÇπ„ÄÅÊ∂âÂèä‰∫∫Âëò„ÄÅÂÖ∑‰ΩìÊÉÖÂÜµÁ≠âÔºå‰ª•‰æøÁÆ°ÁêÜÂëòË∑üËøõÂ§ÑÁêÜ„ÄÇ\"\r\n            ></textarea>\r\n            <button class=\"primary-btn\">Êèê‰∫§ÊäïËØâ</button>\r\n          </div>\r\n        </div>\r\n\r\n        <p class=\"hint-text\">\r\n          Á§∫‰æãÈ°µÈù¢‰∏ç‰ºöÁúüÊ≠£ÂèëÈÄÅÊï∞ÊçÆÂà∞ÂêéÁ´ØÔºåÊé•ÂÖ•Êé•Âè£ÂêéÔºåÊåâÈíÆÂèØËß¶ÂèëÂÆûÈôÖÊèê‰∫§ÈÄªËæë„ÄÇ\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ‰∏™‰∫∫‰∏≠ÂøÉ -->\r\n    <div v-else-if=\"currentPage === 'user-profile'\">\r\n      <div class=\"card full-page-card\">\r\n        <div class=\"user-header-section\">\r\n          <div class=\"user-info-header\">\r\n            <div class=\"user-info-left\">\r\n              <div class=\"user-profile-info\">\r\n                <h2 class=\"user-name\">\r\n                  {{ profileForm.name || 'ÂêåÂ≠¶' }}\r\n                </h2>\r\n                <span class=\"user-role\">Â≠¶Áîü</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"header-actions\"></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"profile-content\">\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">‰∏™‰∫∫‰ø°ÊÅØ</h3>\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"form-grid\">\r\n                <div class=\"form-item\">\r\n                  <label>ÂßìÂêç:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.name\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <label>Â≠¶Âè∑:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.studentNo\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <label>Â≠¶Èô¢:</label>\r\n                  <select v-model=\"profileForm.college\">\r\n                    <option value=\"\">ËØ∑ÈÄâÊã©Â≠¶Èô¢</option>\r\n                    <option value=\"ËÆ°ÁÆóÊú∫Â≠¶Èô¢\">ËÆ°ÁÆóÊú∫Â≠¶Èô¢</option>\r\n                    <option value=\"‰ø°ÊÅØÂ∑•Á®ãÂ≠¶Èô¢\">‰ø°ÊÅØÂ∑•Á®ãÂ≠¶Èô¢</option>\r\n                    <option value=\"ÂïÜÂ≠¶Èô¢\">ÂïÜÂ≠¶Èô¢</option>\r\n                    <option value=\"Ê≥ïÂ≠¶Èô¢\">Ê≥ïÂ≠¶Èô¢</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <label>Âπ¥Á∫ß‰∏éÁè≠Á∫ß:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.gradeClass\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">ËÅîÁ≥ªÊñπÂºè</h3>\r\n\r\n            <div class=\"form-grid\">\r\n              <div class=\"form-item\">\r\n                <label>ÊâãÊú∫Âè∑:</label>\r\n                <div class=\"input-with-action\">\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.phone\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-item\">\r\n                <label>ÈÇÆÁÆ±:</label>\r\n                <div class=\"input-with-action\">\r\n                  <input\r\n                      type=\"email\"\r\n                      v-model=\"profileForm.email\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">ÂÅèÂ•ΩËÆæÁΩÆ</h3>\r\n\r\n            <div class=\"form-grid\">\r\n              <div class=\"form-item\">\r\n                <label>Â∏∏Áî®Ê†°Âå∫:</label>\r\n                <div class=\"radio-group\">\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"Êú¨ÈÉ®Ê†°Âå∫\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">Êú¨ÈÉ®Ê†°Âå∫</span>\r\n                  </label>\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"‰∏úÊ†°Âå∫\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">‰∏úÊ†°Âå∫</span>\r\n                  </label>\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"Ê¢ÖÂ±±Ê†°Âå∫\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">Ê¢ÖÂ±±Ê†°Âå∫</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-item full-width\">\r\n                <label>Â§áÊ≥®‰ø°ÊÅØ:</label>\r\n                <textarea\r\n                    placeholder=\"‰æãÂ¶ÇÔºöÂÅèÂ•ΩÂõæ‰π¶È¶Ü„ÄÅÊôö‰∏äÊó∂ÊÆµËæÉÂ§ö„ÄÅ‰∏çÊìÖÈïøÈ´òÊï∞Á≠â\"\r\n                    v-model=\"profileForm.profileRemark\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"profile-actions\">\r\n            <button\r\n                class=\"primary-btn\"\r\n                type=\"button\"\r\n                @click=\"handleProfileSave\"\r\n                :disabled=\"profileSaving\"\r\n            >\r\n              {{ profileSaving ? '‰øùÂ≠ò‰∏≠‚Ä¶' : '‰øùÂ≠ò‰ø°ÊÅØ' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppHome',\r\n  props: {\r\n    currentPage: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['change-page'],\r\n\r\n  beforeUnmount () {\r\n    this.stopQuoteTimer()\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      /* ---------------------------\r\n       * È¢ÑÁ∫¶È°µÔºöÊ†°Âå∫/Âª∫Á≠ë/ÊïôÂÆ§ + ÂºÄÂßã/ÁªìÊùüÊó∂Èó¥ + Â∫ß‰ΩçÂè∑\r\n       * --------------------------- */\r\n      // ÊàøÈó¥ÂÖ®ÈáèÔºà‰ºòÂÖà‰ªéÂêéÁ´ØÊãâÔºõÊãâ‰∏çÂà∞Â∞±Áî®ÂâçÁ´ØÂÖúÂ∫ïÁîüÊàêÔºå‰æø‰∫é‰Ω†ÂÖàÊääÈ°µÈù¢Ë∑ëÈÄöÔºâ\r\n      allRooms: [],\r\n\r\n      // ‰∏ãÊãâÈÄâÈ°π\r\n      campusOptions: [],\r\n      buildingOptions: [],\r\n      roomOptions: [],\r\n\r\n      // ÂΩìÂâçÈÄâ‰∏≠\r\n      selectedCampus: '',\r\n      selectedBuilding: '',\r\n      selectedRoomId: null,\r\n\r\n      // ÂºÄÂßã/ÁªìÊùüÊó∂Èó¥ÔºàÂ∞èÊó∂Ôºâ\r\n      startHour: null,\r\n      endHour: null,\r\n\r\n      // Â∫ß‰ΩçÂè∑Ôºà01~40Ôºâ\r\n      selectedSeatNo: '',\r\n      disabledSeatNos: [],\r\n\r\n      // ‰∏¥Êó∂È¢ÑÁ∫¶ÂàóË°®ÔºàÂèØÊ∑ªÂä†Â§öÊù°ÔºåÊúÄÂêéÁªü‰∏ÄÊèê‰∫§Ôºâ\r\n      tempReservations: [],\r\n      submittingReservations: false,\r\n\r\n      // Êó•ÊúüÁõ∏ÂÖ≥\r\n      dateList: [],\r\n      visibleStart: 0,\r\n      visibleCount: 7,\r\n      currentDateIndex: 0,\r\n\r\n      // ÂêéÁ´ØËøîÂõûÁöÑ‚ÄúÂ∑≤Êª°Êó∂ÊÆµ‚ÄùÔºàid ÂàóË°®Ôºå‰æãÂ¶Ç [8,9,14]Ôºâ\r\n      disabledSlotIds: [],\r\n\r\n      // ÂΩìÂâçÁôªÂΩïÁî®Êà∑ id\r\n      currentUserId: null,\r\n\r\n      // ÊàëÁöÑÈ¢ÑÁ∫¶ÂàóË°®\r\n      myReservations: [],\r\n\r\n      // ÊàëÁöÑÈ¢ÑÁ∫¶ÂàÜÈ°µ\r\n      pageSize: 15,\r\n      reservationPageIndex: 1,\r\n\r\n      // ËøùËßÑËÆ∞ÂΩïÁõ∏ÂÖ≥\r\n      myViolations: [],\r\n      violationPageIndex: 1,\r\n      violationPageSize: 15,\r\n\r\n      // ‰∏™‰∫∫‰∏≠ÂøÉË°®ÂçïÊï∞ÊçÆÔºàÊ®°ÊùøÈáåÁî®ÁöÑÊòØËøô‰∫õÂ≠óÊÆµÂêçÔºåÊâÄ‰ª•ËøôÈáå‰∏çÊîπÂ≠óÊÆµÂêçÔºâ\r\n      profileForm: {\r\n        name: '',\r\n        account: '',\r\n        studentNo: '',\r\n        college: '',\r\n        gradeClass: '',\r\n        phone: '',\r\n        email: '',\r\n        commonCampus: '',\r\n        profileRemark: ''\r\n      },\r\n      profileLoading: false,\r\n      profileSaving: false,\r\n\r\n      // È¶ñÈ°µ - Â§©Ê∞î„ÄÅÈáëÂè•„ÄÅÂø´Êç∑ÂèçÈ¶à\r\n      weatherData: null,\r\n      dailyQuote: '',\r\n      dailyQuoteId: null,\r\n      quoteTimer: null,\r\n      openFeedback: false,\r\n\r\n      // È¶ñÈ°µ - ÂÖ¨ÂëäÂàóË°®Ôºà‰ªéÊï∞ÊçÆÂ∫ìÂä†ËΩΩÔºâ\r\n      homeNotices: [],\r\n      noticeDetailVisible: false,\r\n      noticeDetail: null,\r\n      noticeAllVisible: false,\r\n      noticeAllView: 'list',\r\n      noticePageList: [],\r\n      noticeTotalCount: 0,\r\n      noticePageNum: 1,\r\n      noticePageSize: 9,\r\n      noticeTypeFilter: '',\r\n      noticeLoading: false,\r\n\r\n      homeNoticeLimit: 3,\r\n      noticeReadIds: [],\r\n\r\n      onlyNoShow: false,\r\n\r\n      currentCreditScore: 100,\r\n\r\n      todayOverview: {\r\n        totalSeats: 24000,\r\n        reservedCount: 0,\r\n        inUseCount: 0,\r\n        remainingCount: 24000\r\n      },\r\n      monthBrief: {\r\n        monthReserveCount: 0,\r\n        studyMinutes: 0,\r\n        lastVisitTime: null\r\n      },\r\n\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    visibleDates () {\r\n      return this.dateList\r\n          .slice(this.visibleStart, this.visibleStart + this.visibleCount)\r\n          .map((d, idx) => ({\r\n            ...d,\r\n            index: this.visibleStart + idx\r\n          }))\r\n    },\r\n    canMovePrev () {\r\n      return this.visibleStart > 0\r\n    },\r\n    canMoveNext () {\r\n      return this.visibleStart + this.visibleCount < this.dateList.length\r\n    },\r\n    currentRoomId () {\r\n      return this.selectedRoomId\r\n    },\r\n    currentRoomFullName () {\r\n      const room = this.allRooms.find(r => Number(r.id) === Number(this.selectedRoomId))\r\n      if (!room) return ''\r\n      return `${room.campus} ¬∑ ${room.building} ${room.roomName}`\r\n    },\r\n    currentDateLabel () {\r\n      const cur = this.dateList[this.currentDateIndex]\r\n      return cur ? cur.fullLabel : ''\r\n    },\r\n    currentDateStr () {\r\n      const cur = this.dateList[this.currentDateIndex]\r\n      return cur ? cur.fullLabel : null\r\n    },\r\n\r\n    // ÂºÄÂßãÊó∂Èó¥Ôºö08~22ÔºõÁªìÊùüÊó∂Èó¥Ôºö09~23Ôºà‰∏îÂøÖÈ°ª > startHourÔºâ\r\n    startHourOptions () {\r\n      const arr = []\r\n      for (let h = 8; h <= 22; h++) arr.push(h)\r\n      return arr\r\n    },\r\n    endHourOptions () {\r\n      if (this.startHour == null) return []\r\n      const arr = []\r\n      const maxEnd = Math.min(23, this.startHour + 4)   // ‚úÖÊúÄÂ§ö4Â∞èÊó∂\r\n      for (let h = this.startHour + 1; h <= maxEnd; h++) arr.push(h)\r\n      return arr\r\n    },\r\n    selectedTimeText () {\r\n      if (this.startHour == null || this.endHour == null) return ''\r\n      return `${this.pad2(this.startHour)}:00 - ${this.pad2(this.endHour)}:00`\r\n    },\r\n    selectedSlotIdsFromRange () {\r\n      if (this.startHour == null || this.endHour == null) return []\r\n      const ids = []\r\n      for (let h = this.startHour; h < this.endHour; h++) ids.push(h)\r\n      return ids\r\n    },\r\n    rangeHasConflict () {\r\n      if (!this.disabledSlotIds.length) return false\r\n      const disabled = new Set(this.disabledSlotIds.map(x => Number(x)))\r\n      return this.selectedSlotIdsFromRange.some(id => disabled.has(Number(id)))\r\n    },\r\n    seatList () {\r\n      const arr = []\r\n      for (let i = 1; i <= 80; i++) arr.push(String(i).padStart(2, '0'))\r\n      return arr\r\n    },\r\n    hasAnySelection () {\r\n      return this.startHour != null || this.endHour != null || !!this.selectedSeatNo\r\n    },\r\n    selectionTagText () {\r\n      if (!this.currentDateLabel && !this.selectedTimeText && !this.selectedSeatNo) return ''\r\n      const parts = []\r\n      if (this.currentRoomFullName) parts.push(this.currentRoomFullName)\r\n      if (this.currentDateLabel) parts.push(this.currentDateLabel)\r\n      if (this.selectedTimeText) parts.push(this.selectedTimeText)\r\n      if (this.selectedSeatNo) parts.push(`Â∫ß‰Ωç ${this.selectedSeatNo}`)\r\n      return parts.join(' ¬∑ ')\r\n    },\r\n    canClearAll () {\r\n      return this.tempReservations.length > 0\r\n          || this.startHour != null\r\n          || this.endHour != null\r\n          || !!this.selectedSeatNo\r\n    },\r\n\r\n    currentTempKey () {\r\n      if (!this.currentRoomId || !this.currentDateStr) return ''\r\n      if (this.startHour == null || this.endHour == null) return ''\r\n      if (!this.selectedSeatNo) return ''\r\n      return [\r\n        this.currentRoomId,\r\n        this.currentDateStr,\r\n        this.startHour,\r\n        this.endHour,\r\n        this.selectedSeatNo\r\n      ].join('|')\r\n    },\r\n\r\n    isDuplicateTempReservation () {\r\n      if (!this.currentTempKey) return false\r\n      return this.tempReservations.some(x => x.key === this.currentTempKey)\r\n    },\r\n\r\n    canAddTempReservation () {\r\n      return !!this.currentRoomId\r\n          && !!this.currentDateStr\r\n          && this.startHour != null\r\n          && this.endHour != null\r\n          && !!this.selectedSeatNo\r\n          && !this.rangeHasConflict\r\n          && !this.isDuplicateTempReservation\r\n          && this.tempReservations.length < 4\r\n    },\r\n\r\n    canSubmitReservation () {\r\n      return this.tempReservations.length > 0 && !this.submittingReservations\r\n    },\r\n\r\n    totalPages () {\r\n      if (!this.displayReservations.length) return 0\r\n      return Math.ceil(this.displayReservations.length / this.pageSize)\r\n    },\r\n    pagedReservations () {\r\n      if (!this.displayReservations.length) return []\r\n      const total = this.totalPages || 1\r\n      const page = Math.min(this.reservationPageIndex, total)\r\n      const start = (page - 1) * this.pageSize\r\n      const end = start + this.pageSize\r\n      return this.displayReservations.slice(start, end)\r\n    },\r\n\r\n    violationTotalPages () {\r\n      if (!this.myViolations.length) return 0\r\n      return Math.ceil(this.myViolations.length / this.violationPageSize)\r\n    },\r\n    pagedViolations () {\r\n      if (!this.myViolations.length) return []\r\n      const total = this.violationTotalPages || 1\r\n      const page = Math.min(this.violationPageIndex, total)\r\n      const start = (page - 1) * this.violationPageSize\r\n      const end = start + this.violationPageSize\r\n      return this.myViolations.slice(start, end)\r\n    },\r\n\r\n    todayStr () {\r\n      const d = new Date()\r\n      return `${d.getMonth() + 1} Êúà ${d.getDate()} Êó•`\r\n    },\r\n    weekDayStr () {\r\n      const list = ['Êó•', '‰∏Ä', '‰∫å', '‰∏â', 'Âõõ', '‰∫î', 'ÂÖ≠']\r\n      return 'ÊòüÊúü' + list[new Date().getDay()]\r\n    },\r\n    timeGreeting () {\r\n      const h = new Date().getHours()\r\n      if (h < 11) return '‰∏äÂçàÂ•Ω'\r\n      if (h < 14) return '‰∏≠ÂçàÂ•Ω'\r\n      if (h < 19) return '‰∏ãÂçàÂ•Ω'\r\n      return 'Êôö‰∏äÂ•Ω'\r\n    },\r\n\r\n    todayAppointments () {\r\n      const list = Array.isArray(this.myReservations) ? this.myReservations : []\r\n      if (!list.length) return []\r\n\r\n      const d = new Date()\r\n      const todayStr = `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`\r\n      return list.filter(item => item.date === todayStr)\r\n    },\r\n\r\n    displayReservations () {\r\n      const list = Array.isArray(this.myReservations) ? this.myReservations.slice() : []\r\n\r\n      const byDateTimeAsc = (a, b) => {\r\n        const da = a.date || ''\r\n        const db = b.date || ''\r\n        if (da !== db) return da.localeCompare(db)\r\n\r\n        const ta = (a.startTime || '').slice(0, 8)\r\n        const tb = (b.startTime || '').slice(0, 8)\r\n        if (ta !== tb) return ta.localeCompare(tb)\r\n\r\n        return String(a.reservationNo || '').localeCompare(String(b.reservationNo || ''))\r\n      }\r\n\r\n      const norm = s => String(s ?? '').trim().toLowerCase()\r\n\r\n      if (this.onlyNoShow) {\r\n        return list\r\n            .filter(x => ['reserved', 'no_show'].includes(norm(x.status)))\r\n            .sort(byDateTimeAsc)\r\n      }\r\n\r\n      const rank = (st) => {\r\n        if (st === 'reserved') return 0\r\n        if (st === 'checked_in' || st === 'late') return 1\r\n        if (st === 'no_show') return 2\r\n        return 3\r\n      }\r\n\r\n      return list.sort((a, b) => {\r\n        const ra = rank(a.status)\r\n        const rb = rank(b.status)\r\n        if (ra !== rb) return ra - rb\r\n        return byDateTimeAsc(a, b)\r\n      })\r\n    },\r\n\r\n    monthStudyHours () {\r\n      const mins = Number(this.monthBrief.studyMinutes || 0)\r\n      const hours = mins / 60\r\n      return Number.isInteger(hours) ? String(hours) : hours.toFixed(1)\r\n    },\r\n\r\n    lastVisitText () {\r\n      return this.formatLastVisit(this.monthBrief.lastVisitTime)\r\n    },\r\n\r\n  },\r\n\r\n  created () {\r\n    this.initDates()\r\n\r\n    const u0 = this.getStoredUser()\r\n    if (u0) {\r\n      this.currentUserId = u0.userId ?? u0.id ?? null\r\n      this.loadNoticeReadIds()\r\n      this.profileForm = {\r\n        name: u0.userName || u0.name || '',\r\n        account: u0.accountNo || u0.account || '',\r\n        studentNo: u0.accountNo || u0.studentNo || u0.account || '',\r\n        college: u0.college || '',\r\n        gradeClass: u0.gradeClass || '',\r\n        phone: u0.phone || '',\r\n        email: u0.email || '',\r\n        commonCampus: u0.commonCampus || '',\r\n        profileRemark: u0.profileRemark || ''\r\n      }\r\n\r\n      this.loadUserProfile()\r\n    }\r\n\r\n    this.loadMyReservations({ refreshNoShowNotify: false })\r\n\r\n    this.loadWeather()\r\n    this.loadQuoteFromDb()\r\n    this.loadHomeDashboard()\r\n    this.loadHomeNotices()\r\n  },\r\n\r\n  methods: {\r\n    normalizeBody (res) { return res },\r\n    normalizeData (res) {\r\n      const body = this.normalizeBody(res)\r\n      if (body && typeof body === 'object' && 'code' in body && 'data' in body) return body.data\r\n      return body\r\n    },\r\n    isBizOk (resOrBody) {\r\n      const body = this.normalizeBody(resOrBody)\r\n      if (!body || typeof body !== 'object' || !('code' in body)) return false\r\n      return Number(body.code) === 200\r\n    },\r\n    getMsg (resOrBody, fallback = '') {\r\n      const body = this.normalizeBody(resOrBody)\r\n      if (!body || typeof body !== 'object') return fallback\r\n      return body.msg || fallback\r\n    },\r\n\r\n    getUserStorage () {\r\n      if (localStorage.getItem('ssrmsUser')) return localStorage\r\n      if (sessionStorage.getItem('ssrmsUser')) return sessionStorage\r\n      return localStorage\r\n    },\r\n\r\n    getStoredUser () {\r\n      const storage = this.getUserStorage()\r\n      const raw = storage.getItem('ssrmsUser')\r\n      if (!raw) return null\r\n      try { return JSON.parse(raw) } catch (e) { return null }\r\n    },\r\n\r\n    ensureCurrentUserId () {\r\n      if (this.currentUserId) return this.currentUserId\r\n      const u = this.getStoredUser()\r\n      if (u) this.currentUserId = u.userId ?? u.id ?? null\r\n      return this.currentUserId\r\n    },\r\n\r\n    emitChange (page) {\r\n      this.$emit('change-page', page)\r\n    },\r\n\r\n    async initReserveRooms () {\r\n      if (this.campusOptions && this.campusOptions.length) {\r\n        await this.fetchSlotStatus()\r\n        return\r\n      }\r\n\r\n      const rooms = await this.loadRoomsFromBackend().catch(() => null)\r\n      this.allRooms = Array.isArray(rooms) && rooms.length ? rooms : this.buildFallbackRooms()\r\n\r\n      this.campusOptions = Array.from(new Set(this.allRooms.map(r => r.campus)))\r\n      this.selectedCampus = this.selectedCampus || (this.campusOptions[0] || '')\r\n      this.onCampusChange()\r\n\r\n      if (this.startHour == null) this.startHour = 8\r\n      if (this.endHour == null) this.endHour = 9\r\n\r\n      await this.fetchSlotStatus()\r\n    },\r\n\r\n    async loadRoomsFromBackend () {\r\n      const tries = [{ url: '/room/list' }, { url: '/room/all' }]\r\n      for (const t of tries) {\r\n        try {\r\n          const res = await this.$axios.get(t.url)\r\n          const data = this.normalizeData(res)\r\n          if (Array.isArray(data) && data.length) return data\r\n        } catch (e) {}\r\n      }\r\n      return null\r\n    },\r\n\r\n    buildFallbackRooms () {\r\n      const campuses = ['Êú¨ÈÉ®Ê†°Âå∫', '‰∏úÊ†°Âå∫', 'Ê¢ÖÂ±±Ê†°Âå∫']\r\n      const buildings = ['Âõæ‰π¶È¶Ü', '1Âè∑ÊïôÂ≠¶Ê•º', '2Âè∑ÊïôÂ≠¶Ê•º', '3Âè∑ÊïôÂ≠¶Ê•º']\r\n      const rooms = []\r\n      const roomNames = []\r\n      for (let floor = 1; floor <= 5; floor++) {\r\n        for (let no = 1; no <= 5; no++) roomNames.push(`${floor}0${no}`)\r\n      }\r\n      let id = 1\r\n      for (const c of campuses) {\r\n        for (const b of buildings) {\r\n          for (const rn of roomNames) {\r\n            rooms.push({ id, campus: c, building: b, roomName: rn, totalSeats: 80, openSeats: 80, status: 'open' })\r\n            id++\r\n          }\r\n        }\r\n      }\r\n      return rooms\r\n    },\r\n\r\n    onCampusChange () {\r\n      const bs = this.allRooms.filter(r => r.campus === this.selectedCampus).map(r => r.building)\r\n      this.buildingOptions = Array.from(new Set(bs))\r\n      if (!this.buildingOptions.includes(this.selectedBuilding)) this.selectedBuilding = this.buildingOptions[0] || ''\r\n      this.onBuildingChange()\r\n    },\r\n\r\n    onBuildingChange () {\r\n      const list = this.allRooms\r\n          .filter(r => r.campus === this.selectedCampus && r.building === this.selectedBuilding)\r\n          .map(r => ({ id: r.id, roomName: r.roomName }))\r\n      this.roomOptions = list\r\n\r\n      const ids = list.map(x => Number(x.id))\r\n      if (!ids.includes(Number(this.selectedRoomId))) this.selectedRoomId = list.length ? Number(list[0].id) : null\r\n\r\n      this.selectedSeatNo = ''\r\n      this.fetchSlotStatus()\r\n    },\r\n\r\n    onRoomChange () {\r\n      this.selectedSeatNo = ''\r\n      this.fetchSlotStatus()\r\n    },\r\n\r\n    pad2 (n) { return String(n).padStart(2, '0') },\r\n\r\n    handleStartHourChange () {\r\n      if (this.startHour == null) return\r\n      const maxEnd = Math.min(23, this.startHour + 4)\r\n      if (this.endHour == null || this.endHour <= this.startHour) this.endHour = this.startHour + 1\r\n      if (this.endHour > maxEnd) this.endHour = maxEnd\r\n      this.fetchSeatConflicts()\r\n    },\r\n    handleEndHourChange () {\r\n      if (this.startHour == null || this.endHour == null) return\r\n      const maxEnd = Math.min(23, this.startHour + 4)\r\n      if (this.endHour <= this.startHour) this.endHour = this.startHour + 1\r\n      if (this.endHour > maxEnd) this.endHour = maxEnd\r\n      this.fetchSeatConflicts()\r\n    },\r\n\r\n    initDates () {\r\n      const today = new Date()\r\n      const list = []\r\n      const weekdays = ['Âë®Êó•', 'Âë®‰∏Ä', 'Âë®‰∫å', 'Âë®‰∏â', 'Âë®Âõõ', 'Âë®‰∫î', 'Âë®ÂÖ≠']\r\n\r\n      for (let i = 0; i < 14; i++) {\r\n        const d = new Date(today)\r\n        d.setDate(d.getDate() + i + 1)\r\n\r\n        const month = d.getMonth() + 1\r\n        const day = d.getDate()\r\n        const fullLabel =\r\n            `${d.getFullYear()}-${month.toString().padStart(2, '0')}-` +\r\n            `${day.toString().padStart(2, '0')}`\r\n\r\n        list.push({\r\n          key: i,\r\n          year: d.getFullYear(),\r\n          month,\r\n          day,\r\n          weekday: weekdays[d.getDay()],\r\n          monthLabel: `${d.getFullYear()}-${month.toString().padStart(2, '0')}`,\r\n          isToday: false,\r\n          isTomorrow: i === 0,\r\n          fullLabel\r\n        })\r\n      }\r\n\r\n      this.dateList = list\r\n      this.visibleStart = 0\r\n      this.currentDateIndex = 0\r\n    },\r\n\r\n    moveDates (direction) {\r\n      if (direction === 'prev' && this.canMovePrev) this.visibleStart -= 1\r\n      else if (direction === 'next' && this.canMoveNext) this.visibleStart += 1\r\n    },\r\n\r\n    async selectDate (index) {\r\n      this.currentDateIndex = index\r\n      await this.fetchSlotStatus()\r\n    },\r\n\r\n    async fetchSlotStatus () {\r\n      this.disabledSlotIds = []\r\n      await this.fetchSeatConflicts()\r\n    },\r\n\r\n    seatState (seat) {\r\n      if (this.disabledSeatNos.includes(seat)) return 'disabled'\r\n      if (this.selectedSeatNo === seat) return 'selected'\r\n      return 'available'\r\n    },\r\n    seatClass (seat) {\r\n      const state = this.seatState(seat)\r\n      return {\r\n        'slot-available': state === 'available',\r\n        'slot-disabled': state === 'disabled',\r\n        'slot-selected': state === 'selected'\r\n      }\r\n    },\r\n    toggleSeat (seat) {\r\n      if (this.disabledSeatNos.includes(seat)) return\r\n      this.selectedSeatNo = (this.selectedSeatNo === seat) ? '' : seat\r\n    },\r\n\r\n    resetSelections () {\r\n      this.startHour = null\r\n      this.endHour = null\r\n      this.selectedSeatNo = ''\r\n    },\r\n\r\n    clearAllSelections () {\r\n      this.resetSelections()\r\n      this.tempReservations = []\r\n    },\r\n\r\n    addTempReservation () {\r\n      if (!this.canAddTempReservation) return\r\n\r\n      const room = this.allRooms.find(r => Number(r.id) == Number(this.currentRoomId))\r\n      const labelParts = []\r\n      if (room) labelParts.push(`${room.campus} ¬∑ ${room.building} ${room.roomName}`)\r\n      if (this.currentDateStr) labelParts.push(this.currentDateStr)\r\n      if (this.selectedTimeText) labelParts.push(this.selectedTimeText)\r\n      labelParts.push(`Â∫ß‰Ωç ${this.selectedSeatNo}`)\r\n\r\n      const item = {\r\n        key: this.currentTempKey,\r\n        roomId: this.currentRoomId,\r\n        date: this.currentDateStr,\r\n        startHour: this.startHour,\r\n        endHour: this.endHour,\r\n        seatNo: this.selectedSeatNo,\r\n        label: labelParts.join(' ¬∑ ')\r\n      }\r\n\r\n      this.tempReservations.push(item)\r\n    },\r\n\r\n    removeTempReservation (idx) {\r\n      if (idx == null) return\r\n      this.tempReservations.splice(idx, 1)\r\n    },\r\n\r\n    async submitReservations () {\r\n      if (!this.canSubmitReservation) return\r\n      if (!this.ensureCurrentUserId()) {\r\n        alert('ËØ∑ÂÖàÁôªÂΩïÂêéÂÜçÈ¢ÑÁ∫¶')\r\n        return\r\n      }\r\n\r\n      const first = this.tempReservations[0]\r\n      const same = this.tempReservations.every(x =>\r\n          Number(x.roomId) === Number(first.roomId) &&\r\n          x.date === first.date &&\r\n          Number(x.startHour) === Number(first.startHour) &&\r\n          Number(x.endHour) === Number(first.endHour)\r\n      )\r\n      if (!same) {\r\n        alert('ËØ∑Á°Æ‰øù‰∏¥Êó∂ÂàóË°®ÈáåÁöÑÈ¢ÑÁ∫¶Â±û‰∫éÂêå‰∏ÄÊïôÂÆ§/Êó•Êúü/Êó∂Èó¥ÊÆµÔºàÂèØÂ§öÈÄâÂ∫ß‰ΩçÔºâÔºåÂê¶ÂàôËØ∑ÂàÜÂ§öÊ¨°Êèê‰∫§„ÄÇ')\r\n        return\r\n      }\r\n\r\n      const payload = {\r\n        userId: this.currentUserId,\r\n        roomId: first.roomId,\r\n        date: first.date,\r\n        startTime: `${this.pad2(first.startHour)}:00`,\r\n        endTime: `${this.pad2(first.endHour)}:00`,\r\n        seatNos: this.tempReservations.map(x => String(x.seatNo))\r\n      }\r\n\r\n      this.submittingReservations = true\r\n      try {\r\n        const res = await this.$axios.post('/reservation/create', payload)\r\n        const body = this.normalizeBody(res)\r\n\r\n        if (!this.isBizOk(body)) {\r\n          alert(this.getMsg(body, 'È¢ÑÁ∫¶Â§±Ë¥•'))\r\n          return\r\n        }\r\n\r\n        alert(this.getMsg(body, 'È¢ÑÁ∫¶ÊàêÂäü'))\r\n        this.clearAllSelections()\r\n        this.emitChange('user-reservations')\r\n      } catch (e) {\r\n        alert('È¢ÑÁ∫¶Â§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏')\r\n      } finally {\r\n        this.submittingReservations = false\r\n      }\r\n    },\r\n\r\n    async loadMyReservations (opts = {}) {\r\n      const { refreshNoShowNotify = true } = opts\r\n      if (!this.ensureCurrentUserId()) return\r\n      await this.refreshNoShowStatus({ notify: refreshNoShowNotify })\r\n\r\n      try {\r\n        const res = await this.$axios.get('/reservation/my', { params: { userId: this.currentUserId } })\r\n        const list = Array.isArray(this.normalizeData(res)) ? this.normalizeData(res).slice() : []\r\n        list.sort((a, b) => {\r\n          const da = a.date || ''\r\n          const db = b.date || ''\r\n          if (da !== db) return da.localeCompare(db)\r\n          const ta = a.startTime || ''\r\n          const tb = b.startTime || ''\r\n          return ta.localeCompare(tb)\r\n        })\r\n        this.myReservations = list\r\n      } catch (e) {\r\n        alert('Âä†ËΩΩÈ¢ÑÁ∫¶ÂàóË°®Â§±Ë¥•')\r\n      }\r\n    },\r\n\r\n    formatTimeRange (item) {\r\n      const s = (item.startTime || '').slice(0, 5)\r\n      const e = (item.endTime || '').slice(0, 5)\r\n      return s && e ? `${s}-${e}` : ''\r\n    },\r\n\r\n    renderStatusText (status) {\r\n      switch (status) {\r\n        case 'reserved': return 'ÂæÖÁ≠æÂà∞'\r\n        case 'checked_in': return 'Â∑≤Á≠æÂà∞'\r\n        case 'late': return 'ËøüÂà∞'\r\n        case 'no_show': return 'Êú™Á≠æÂà∞'\r\n        case 'cancelled': return 'Â∑≤ÂèñÊ∂à'\r\n        case 'cancel_overdue': return 'ÈÄæÊúüÂèñÊ∂à'\r\n        default: return status || ''\r\n      }\r\n    },\r\n\r\n    statusClass (status) {\r\n      return {\r\n        'badge-pending': status === 'reserved',\r\n        'badge-done': status === 'checked_in',\r\n        'badge-late': status === 'late',\r\n        'badge-missed': status === 'no_show',\r\n        'badge-cancelled': status === 'cancelled',\r\n        'badge-cancel-overdue': status === 'cancel_overdue'\r\n      }\r\n    },\r\n\r\n    gotoPrevPage () { if (this.reservationPageIndex > 1) this.reservationPageIndex-- },\r\n    gotoNextPage () { if (this.reservationPageIndex < this.totalPages) this.reservationPageIndex++ },\r\n\r\n    async handleCheckIn (item) {\r\n      try {\r\n        const res = await this.$axios.post(`/reservation/checkin/${item.id}`)\r\n        const body = this.normalizeBody(res)\r\n        const ok = this.isBizOk(body)\r\n        alert(this.getMsg(body, ok ? 'Á≠æÂà∞ÊàêÂäü' : 'Á≠æÂà∞Â§±Ë¥•'))\r\n        await this.loadMyReservations({ refreshNoShowNotify: false })\r\n      } catch (e) {\r\n        alert('Á≠æÂà∞Â§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏')\r\n      }\r\n    },\r\n\r\n    async handleCancel (item) {\r\n      if (!this.canCancel(item)) {\r\n        alert('Ë∑ùÁ¶ªÂºÄÂßã‰∏çË∂≥ 10 ÂàÜÈíüÔºåÊó†Ê≥ïÂèñÊ∂àÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëòÂ§ÑÁêÜ')\r\n        return\r\n      }\r\n      const ok = window.confirm(`Á°ÆÂÆöË¶ÅÂèñÊ∂àÊú¨Ê¨°È¢ÑÁ∫¶Ôºà${item.date} ${this.formatTimeRange(item)}ÔºâÂêóÔºü`)\r\n      if (!ok) return\r\n\r\n      try {\r\n        const res = await this.$axios.post(`/reservation/cancel/${item.id}`)\r\n        const body = this.normalizeBody(res)\r\n        if (!this.isBizOk(body)) {\r\n          alert(this.getMsg(body, 'ÂèñÊ∂àÂ§±Ë¥•'))\r\n          return\r\n        }\r\n        alert(this.getMsg(body, 'ÂèñÊ∂àÊàêÂäü'))\r\n        await this.loadMyReservations({ refreshNoShowNotify: false })\r\n        await this.fetchSlotStatus()\r\n      } catch (e) {\r\n        alert('ÂèñÊ∂àÂ§±Ë¥•ÔºåÊúçÂä°Âô®ÂºÇÂ∏∏')\r\n      }\r\n    },\r\n\r\n    canCancel (item) {\r\n      if (item.status !== 'reserved') return false\r\n      if (!item.date || !item.startTime) return false\r\n      try {\r\n        const startStr = item.date + 'T' + (item.startTime || '').slice(0, 8)\r\n        const start = new Date(startStr)\r\n        if (isNaN(start.getTime())) return true\r\n        const now = new Date()\r\n        const diffMs = start.getTime() - now.getTime()\r\n        const tenMinutes = 10 * 60 * 1000\r\n        return diffMs > tenMinutes\r\n      } catch (e) {\r\n        return true\r\n      }\r\n    },\r\n\r\n    async refreshNoShowStatus (opts = {}) {\r\n      const { notify = true } = opts\r\n      if (!this.ensureCurrentUserId()) return\r\n      try {\r\n        const res = await this.$axios.post('/reservation/refreshNoShow', null, { params: { userId: this.currentUserId } })\r\n        const data = this.normalizeData(res)\r\n        const updated = typeof data === 'number' ? data : 0\r\n        if (notify && updated > 0) alert(`Êúâ ${updated} Êù°Â∑≤ËøáÊúü‰ΩÜÊú™Á≠æÂà∞ÁöÑÈ¢ÑÁ∫¶ÔºåÁ≥ªÁªüÂ∑≤Ëá™Âä®Ê†áËÆ∞‰∏∫‚ÄúÊú™Á≠æÂà∞‚ÄùÔºåËØ∑ÁïôÊÑè‰ø°Áî®ÂàÜÂèòÂåñ„ÄÇ`)\r\n      } catch (e) {}\r\n    },\r\n\r\n    async loadMyViolations () {\r\n      if (!this.ensureCurrentUserId()) return\r\n      try {\r\n        await this.refreshNoShowStatus({ notify: false })\r\n        const res = await this.$axios.get('/reservation/violations', { params: { userId: this.currentUserId } })\r\n        const list = Array.isArray(this.normalizeData(res)) ? this.normalizeData(res).slice() : []\r\n        this.myViolations = list\r\n        this.violationPageIndex = 1\r\n      } catch (e) {\r\n        alert('Âä†ËΩΩËøùËßÑËÆ∞ÂΩïÂ§±Ë¥•')\r\n      }\r\n      await this.loadUserProfile()\r\n    },\r\n\r\n    gotoPrevViolationPage () { if (this.violationPageIndex > 1) this.violationPageIndex-- },\r\n    gotoNextViolationPage () { if (this.violationPageIndex < this.violationTotalPages) this.violationPageIndex++ },\r\n\r\n    async loadUserProfile () {\r\n      if (!this.ensureCurrentUserId()) return\r\n      this.profileLoading = true\r\n      try {\r\n        const res = await this.$axios.get('/user/profile', { params: { userId: this.currentUserId } })\r\n        const u = this.normalizeData(res) || {}\r\n        this.currentCreditScore = Number.isFinite(Number(u.creditScore)) ? Number(u.creditScore) : 100\r\n        this.profileForm = {\r\n          name: u.userName || u.name || this.profileForm.name || '',\r\n          account: u.accountNo || u.account || this.profileForm.account || '',\r\n          studentNo: u.accountNo || u.studentNo || this.profileForm.studentNo || '',\r\n          college: u.college || '',\r\n          gradeClass: u.gradeClass || '',\r\n          phone: u.phone || '',\r\n          email: u.email || '',\r\n          commonCampus: u.commonCampus || '',\r\n          profileRemark: u.profileRemark || ''\r\n        }\r\n      } catch (e) {} finally { this.profileLoading = false }\r\n    },\r\n\r\n    async handleProfileSave () {\r\n      if (!this.ensureCurrentUserId()) {\r\n        alert('ÂΩìÂâçÁî®Êà∑‰ø°ÊÅØÁº∫Â§±ÔºåËØ∑ÈáçÊñ∞ÁôªÂΩïÂêéÂÜçËØï')\r\n        return\r\n      }\r\n      this.profileSaving = true\r\n      try {\r\n        const payload = {\r\n          userId: this.currentUserId,\r\n          id: this.currentUserId,\r\n          userName: this.profileForm.name,\r\n          name: this.profileForm.name,\r\n          accountNo: this.profileForm.studentNo || this.profileForm.account,\r\n          account: this.profileForm.studentNo || this.profileForm.account,\r\n          studentNo: this.profileForm.studentNo || this.profileForm.account,\r\n          college: this.profileForm.college,\r\n          gradeClass: this.profileForm.gradeClass,\r\n          phone: this.profileForm.phone,\r\n          email: this.profileForm.email,\r\n          commonCampus: this.profileForm.commonCampus,\r\n          profileRemark: this.profileForm.profileRemark\r\n        }\r\n        const res = await this.$axios.post('/user/profile', payload)\r\n        const body = this.normalizeBody(res)\r\n        if (!this.isBizOk(body)) {\r\n          alert(this.getMsg(body, '‰øùÂ≠òÂ§±Ë¥•'))\r\n          return\r\n        }\r\n        alert(this.getMsg(body, '‰øùÂ≠òÊàêÂäü'))\r\n      } catch (e) {\r\n        alert('‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï')\r\n      } finally {\r\n        this.profileSaving = false\r\n      }\r\n    },\r\n\r\n    submitFB (score) {\r\n      console.log('Áî®Êà∑Áªô‰∫Ü‰∏Ä‰∏™Âø´Êç∑ËØÑÂàÜÔºö', score)\r\n      this.openFeedback = false\r\n    },\r\n\r\n    codeToDesc (code) {\r\n      const map = {0:'Êô¥',1:'Â§ö‰∫ë',2:'Â§ö‰∫ë',3:'Èò¥',45:'ÊúâÈõæ',48:'ÈõæÔºåÂú∞Èù¢ÁªìÂÜ∞',51:'ÊØõÊØõÈõ®',53:'Â∞èÈõ®',55:'‰∏≠Èõ®',61:'Â∞èÈõ®',63:'‰∏≠Èõ®',65:'Â§ßÈõ®',71:'Â∞èÈõ™',73:'‰∏≠Èõ™',75:'Â§ßÈõ™',95:'Èõ∑ÈòµÈõ®',96:'Èõ∑ÈòµÈõ®‰º¥ÊúâÂÜ∞Èõπ'}\r\n      return map[code] || 'Â§ö‰∫ë'\r\n    },\r\n\r\n    async loadWeather () {\r\n      try {\r\n        const resp = await fetch(\r\n            'https://api.open-meteo.com/v1/forecast' +\r\n            '?latitude=29.88&longitude=121.55' +\r\n            '&current_weather=true'\r\n        )\r\n        const json = await resp.json()\r\n        const cw = (json && json.current_weather) || {}\r\n        const temp = cw.temperature\r\n        const windSpeed = cw.windspeed\r\n        const code = cw.weathercode\r\n        const desc = this.codeToDesc(code)\r\n\r\n        this.weatherData = {\r\n          city: 'ÂÆÅÊ≥¢',\r\n          temp: temp != null ? temp : 18,\r\n          desc: desc || 'Â§ö‰∫ë',\r\n          wind: windSpeed != null ? `È£éÈÄü ${windSpeed} km/h` : 'ÂæÆÈ£é'\r\n        }\r\n      } catch (e) {\r\n        this.weatherData = { city:'ÂÆÅÊ≥¢', temp:18, desc:'Â§ö‰∫ë', wind:'ÂæÆÈ£é' }\r\n      }\r\n    },\r\n\r\n    async loadQuoteFromDb () {\r\n      try {\r\n        const res = await this.$axios.get('/quote/random', { params: { excludeId: this.dailyQuoteId || undefined } })\r\n        const body = this.normalizeBody(res)\r\n        const data = this.normalizeData(res)\r\n        if (this.isBizOk(body) && data && data.content) {\r\n          this.dailyQuote = data.content || ''\r\n          this.dailyQuoteId = data.id || null\r\n          return\r\n        }\r\n        this.dailyQuote = '‰ªäÂ§©‰πüË¶ÅÁ®≥‰ΩèËäÇÂ•èÔºåÂÖàÂÅö‰∏ÄÂ∞èÊ≠•„ÄÇ'\r\n        this.dailyQuoteId = null\r\n      } catch (e) {\r\n        this.dailyQuote = 'ÁΩëÁªúÂºÄÂ∞èÂ∑Æ‰∫ÜÔºå‰ΩÜ‰Ω†ÁöÑËá™ÂæãÂà´ÊéâÁ∫ø„ÄÇ'\r\n        this.dailyQuoteId = null\r\n      }\r\n    },\r\n\r\n    startQuoteTimer () {\r\n      this.stopQuoteTimer()\r\n      this.quoteTimer = setInterval(() => {\r\n        if (this.currentPage === 'home') this.loadQuoteFromDb()\r\n      }, 20000)\r\n    },\r\n\r\n    stopQuoteTimer () {\r\n      if (this.quoteTimer) {\r\n        clearInterval(this.quoteTimer)\r\n        this.quoteTimer = null\r\n      }\r\n    },\r\n\r\n    async refreshQuote () {\r\n      await this.loadQuoteFromDb()\r\n      this.startQuoteTimer()\r\n    },\r\n\r\n    emojiWeather (desc) {\r\n      if (!desc) return '‚õÖ'\r\n      if (desc.includes('Èõ®')) return 'üåßÔ∏è'\r\n      if (desc.includes('‰∫ë')) return '‚õÖ'\r\n      if (desc.includes('Êô¥')) return '‚òÄÔ∏è'\r\n      if (desc.includes('Èõ™')) return '‚ùÑÔ∏è'\r\n      return '‚õÖ'\r\n    },\r\n\r\n    async fetchSeatConflicts () {\r\n      this.disabledSeatNos = []\r\n      if (!this.currentRoomId || !this.currentDateStr || this.startHour == null || this.endHour == null) return\r\n      const startTime = `${this.pad2(this.startHour)}:00`\r\n      const endTime = `${this.pad2(this.endHour)}:00`\r\n      try {\r\n        const res = await this.$axios.get('/reservation/seatConflicts', { params: { roomId: this.currentRoomId, date: this.currentDateStr, startTime, endTime } })\r\n        const map = this.normalizeData(res) || {}\r\n        this.disabledSeatNos = Object.keys(map)\r\n        if (this.selectedSeatNo && this.disabledSeatNos.includes(this.selectedSeatNo)) this.selectedSeatNo = ''\r\n      } catch (e) {}\r\n    },\r\n\r\n    async loadHomeDashboard () {\r\n      try {\r\n        if (!this.currentUserId) return\r\n        const res = await this.$axios.get('/dashboard/home', { params: { userId: this.currentUserId } })\r\n        const data = this.normalizeData(res) || {}\r\n        if (data.todayOverview) this.todayOverview = data.todayOverview\r\n        if (data.monthBrief) this.monthBrief = data.monthBrief\r\n      } catch (e) {}\r\n    },\r\n\r\n    async loadHomeNotices () {\r\n      this.noticeLoading = true\r\n      try {\r\n        const res = await this.$axios.get('/announcement/home', { params: { roleId: 1, limit: this.homeNoticeLimit || 3 } })\r\n        const list = this.normalizeData(res) || []\r\n        this.homeNotices = (list || []).map(x => ({\r\n          ...x,\r\n          summary: this.makeNoticeSummary(x.content),\r\n          roomHint: x.roomHint || ''\r\n        }))\r\n        if (!this.noticeTotalCount) this.noticeTotalCount = this.homeNotices.length\r\n      } catch (e) {\r\n        this.homeNotices = []\r\n      } finally {\r\n        this.noticeLoading = false\r\n      }\r\n    },\r\n\r\n    async loadNoticePage () {\r\n      this.noticeLoading = true\r\n      try {\r\n        const res = await this.$axios.get('/announcement/page', {\r\n          params: { roleId: 1, pageNum: this.noticePageNum, pageSize: this.noticePageSize, type: this.noticeTypeFilter || undefined }\r\n        })\r\n        const body = this.normalizeBody(res)\r\n        if (body && typeof body === 'object' && 'data' in body) {\r\n          const list = body.data || []\r\n          this.noticeTotalCount = Number(body.total || 0)\r\n          this.noticePageList = (list || []).map(x => ({ ...x, summary: this.makeNoticeSummary(x.content) }))\r\n        } else {\r\n          this.noticePageList = (this.normalizeData(res) || []).map(x => ({ ...x, summary: this.makeNoticeSummary(x.content) }))\r\n        }\r\n      } catch (e) {\r\n        this.noticePageList = []\r\n      } finally {\r\n        this.noticeLoading = false\r\n      }\r\n    },\r\n\r\n    openNoticeDetail (item) {\r\n      this.noticeDetail = item\r\n      this.noticeDetailVisible = true\r\n      this.markNoticeRead(item && item.id)\r\n    },\r\n\r\n    openNoticeAll () {\r\n      this.noticeAllVisible = true\r\n      this.noticeAllView = 'list'\r\n      this.noticeDetail = null\r\n      this.noticePageNum = 1\r\n      this.loadNoticePage()\r\n    },\r\n\r\n    openNoticeDetailFromAll (item) {\r\n      this.noticeDetail = item\r\n      this.noticeAllView = 'detail'\r\n      this.markNoticeRead(item && item.id)\r\n    },\r\n\r\n    backToNoticeAllList () {\r\n      this.noticeAllView = 'list'\r\n    },\r\n\r\n    onNoticePageChange (page) {\r\n      this.noticePageNum = page\r\n      this.loadNoticePage()\r\n    },\r\n\r\n    onNoticeTypeChange () {\r\n      this.noticePageNum = 1\r\n      this.loadNoticePage()\r\n    },\r\n\r\n    noticeTypeText (type) {\r\n      const map = { RULE:'ËßÑÂàô', ADJUSTMENT:'Ë∞ÉÊï¥', EMERGENCY:'Á™ÅÂèë', MAINTENANCE:'Áª¥Êä§', EXAM:'ËÄÉËØï', OTHER:'ÂÖ∂‰ªñ' }\r\n      return map[type] || 'ÂÖ∂‰ªñ'\r\n    },\r\n\r\n    noticeTypeIcon (type) {\r\n      const map = { RULE:'üìå', ADJUSTMENT:'üïí', EMERGENCY:'üö®', MAINTENANCE:'üõ†Ô∏è', EXAM:'üìù', OTHER:'üì£' }\r\n      return map[type] || 'üì£'\r\n    },\r\n\r\n    noticeLevelText (level) {\r\n      const map = { IMPORTANT:'ÈáçË¶Å', WARNING:'ÊèêÈÜí', INFO:'ÈÄöÁü•' }\r\n      return map[level] || 'ÈÄöÁü•'\r\n    },\r\n\r\n    makeNoticeSummary (content) {\r\n      if (!content) return ''\r\n      const s = String(content).replace(/\\s+/g, ' ').trim()\r\n      if (!s) return ''\r\n      return s.length > 60 ? (s.slice(0, 60) + '‚Ä¶') : s\r\n    },\r\n\r\n    formatNoticeTime (dtStr, withTime = false) {\r\n      if (!dtStr) return '-'\r\n      const parts = String(dtStr).replace('T', ' ').split(' ')\r\n      const [d, t] = parts.length >= 2 ? parts : [parts[0], '']\r\n      const ds = d.split('-')\r\n      if (ds.length >= 3) {\r\n        const mmdd = `${String(ds[1]).padStart(2, '0')}-${String(ds[2]).padStart(2, '0')}`\r\n        if (!withTime) return mmdd\r\n        if (!t) return mmdd\r\n        const hhmm = t.slice(0, 5)\r\n        return `${mmdd} ${hhmm}`\r\n      }\r\n      return String(dtStr)\r\n    },\r\n\r\n    noticeReadStorageKey () {\r\n      return `ssrms_notice_read_${this.currentUserId || 'guest'}`\r\n    },\r\n\r\n    loadNoticeReadIds () {\r\n      try {\r\n        const raw = localStorage.getItem(this.noticeReadStorageKey())\r\n        const arr = raw ? JSON.parse(raw) : []\r\n        this.noticeReadIds = Array.isArray(arr) ? arr.map(x => Number(x)).filter(x => !Number.isNaN(x)) : []\r\n      } catch (e) {\r\n        this.noticeReadIds = []\r\n      }\r\n    },\r\n\r\n    saveNoticeReadIds () {\r\n      try { localStorage.setItem(this.noticeReadStorageKey(), JSON.stringify(this.noticeReadIds || [])) } catch (e) {}\r\n    },\r\n\r\n    isNoticeRead (id) {\r\n      if (id === null || id === undefined) return false\r\n      const nid = Number(id)\r\n      if (Number.isNaN(nid)) return false\r\n      return (this.noticeReadIds || []).includes(nid)\r\n    },\r\n\r\n    markNoticeRead (id) {\r\n      if (id === null || id === undefined) return\r\n      const nid = Number(id)\r\n      if (Number.isNaN(nid)) return\r\n      if (!this.isNoticeRead(nid)) {\r\n        this.noticeReadIds = [...(this.noticeReadIds || []), nid]\r\n        this.saveNoticeReadIds()\r\n      }\r\n    },\r\n\r\n    isNoticeNew (id) { return !this.isNoticeRead(id) },\r\n\r\n    formatLastVisit (dtStr) {\r\n      if (!dtStr) return '-'\r\n      const parts = dtStr.replace('T', ' ').split(' ')\r\n      if (parts.length < 2) return dtStr\r\n      const [d, t] = parts\r\n      const [y, m, day] = d.split('-').map(n => parseInt(n, 10))\r\n      const [hh, mm] = t.split(':').map(n => parseInt(n, 10))\r\n      const dt = new Date(y, (m || 1) - 1, day || 1, hh || 0, mm || 0)\r\n      const now = new Date()\r\n      const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n      const startOfDt = new Date(dt.getFullYear(), dt.getMonth(), dt.getDate())\r\n      const diffDays = Math.round((startOfToday - startOfDt) / (24 * 3600 * 1000))\r\n      const timeText = `${String(dt.getHours()).padStart(2, '0')}:${String(dt.getMinutes()).padStart(2, '0')}`\r\n      if (diffDays === 0) return `‰ªäÂ§© ${timeText}`\r\n      if (diffDays === 1) return `Êò®Â§© ${timeText}`\r\n      return `${String(dt.getMonth() + 1).padStart(2, '0')}-${String(dt.getDate()).padStart(2, '0')} ${timeText}`\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    currentPage: {\r\n      immediate: true,\r\n      handler (newVal) {\r\n        if (newVal === 'home') {\r\n          this.startQuoteTimer()\r\n          this.loadHomeNotices()\r\n        } else {\r\n          this.stopQuoteTimer()\r\n        }\r\n\r\n        if (newVal === 'user-reservations') this.loadMyReservations({ refreshNoShowNotify: true })\r\n        if (newVal === 'user-reserve') this.initReserveRooms()\r\n        if (newVal === 'user-violations') this.loadMyViolations()\r\n        if (newVal === 'user-profile') this.loadUserProfile()\r\n      }\r\n    },\r\n    myReservations () { this.reservationPageIndex = 1 },\r\n    onlyNoShow () { this.reservationPageIndex = 1 },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n  flex: 1;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* ÈÄöÁî®Âç°ÁâáÊ†∑Âºè */\r\n.card {\r\n  background-color: #ffffff;\r\n  padding: 22px 24px;\r\n  margin-bottom: 16px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);\r\n  border: 1px solid #e5e7eb;\r\n}\r\n\r\n.page-title {\r\n  font-size: 24px;\r\n  margin: 0 0 10px 0;\r\n  color: #111827;\r\n}\r\n\r\n.page-subtitle {\r\n  font-size: 15px;\r\n  color: #6b7280;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* ÂÖ¨ÂÖ±Ë°®Ê†ºÊ†∑Âºè */\r\n\r\n.table-wrapper {\r\n  margin-top: 12px;\r\n  border-radius: 10px;\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  border: 1px solid #e5e7eb;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 13px;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  padding: 10px 12px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.table th {\r\n  background-color: #f3f4f6;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: #374151;\r\n}\r\n\r\n.table tr:nth-child(even) td {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.link-danger {\r\n  color: #dc2626;\r\n}\r\n\r\n/* ‰ø°Áî®ÂàÜ */\r\n\r\n.credit-summary {\r\n  margin-top: 6px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.credit-score {\r\n  font-size: 15px;\r\n  color: #111827;\r\n}\r\n\r\n.score-number {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #16a34a;\r\n}\r\n\r\n/* ËØÑ‰ª∑‰∏éÊäïËØâ */\r\n\r\n.feedback-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n  gap: 16px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.feedback-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.textarea {\r\n  border-radius: 10px;\r\n  border: 1px solid #d1d5db;\r\n  padding: 8px 10px;\r\n  resize: vertical;\r\n  font-size: 13px;\r\n}\r\n\r\n.badge {\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  border-radius: 999px;\r\n  font-size: 11px;\r\n  background-color: #e0e7ff;\r\n  color: #3730a3;\r\n}\r\n\r\n.hint-text {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  margin-top: 8px;\r\n}\r\n\r\n.reserve-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n}\r\n\r\n/* È°∂ÈÉ®ÔºöÊ†áÈ¢ò + Ê¶ÇË¶ÅÂç°Áâá */\r\n.reserve-header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 24px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.reserve-header-left {\r\n  flex: 1;\r\n}\r\n\r\n.reserve-summary-box {\r\n  width: 260px;\r\n  padding: 12px 14px;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #eef2ff, #f5f7ff);\r\n  border: 1px solid #e0e7ff;\r\n  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.04);\r\n  font-size: 13px;\r\n}\r\n\r\n.summary-title {\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.summary-main {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.summary-label {\r\n  color: #6b7280;\r\n}\r\n\r\n.summary-value {\r\n  color: #111827;\r\n  font-weight: 500;\r\n  text-align: right;\r\n}\r\n\r\n.summary-empty {\r\n  color: #9ca3af;\r\n  font-weight: 400;\r\n}\r\n\r\n/* Âú∫Âú∞ tabs + ÂºÄÂÖ≥ */\r\n.reserve-toolbar {\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  gap: 10px;\r\n  margin-top: 2px;\r\n}\r\n\r\n.reserve-control {\r\n  flex: 1;\r\n  min-width: 140px;\r\n}\r\n\r\n.reserve-control.short {\r\n  flex: 0.95;\r\n  min-width: 140px;\r\n}\r\n\r\n.reserve-control.long {\r\n  flex: 1.25;\r\n  min-width: 170px;\r\n}\r\n\r\n@media (max-width: 1100px) {\r\n  .reserve-toolbar {\r\n    flex-wrap: wrap;\r\n  }\r\n  .reserve-control.short,\r\n  .reserve-control.long {\r\n    flex: 1;\r\n    min-width: 160px;\r\n  }\r\n}\r\n\r\n.reserve-select {\r\n  width: 100%;\r\n  height: 38px;\r\n  border-radius: 12px;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #fff;\r\n  padding: 0 12px;\r\n  font-size: 13px;\r\n  color: #111827;\r\n  outline: none;\r\n  transition: border-color 0.15s ease, box-shadow 0.15s ease;\r\n}\r\n\r\n.reserve-select:focus {\r\n  border-color: #93c5fd;\r\n  box-shadow: 0 0 0 4px rgba(147, 197, 253, 0.35);\r\n}\r\n\r\n.reserve-select:disabled {\r\n  background-color: #f3f4f6;\r\n  color: #9ca3af;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.reserve-warning {\r\n  font-size: 12px;\r\n  color: #dc2626;\r\n  white-space: nowrap;\r\n}\r\n\r\n/* Êó•ÊúüÊù° */\r\n.date-strip {\r\n  margin-top: 6px;\r\n  padding: 10px 12px;\r\n  border-radius: 14px;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  align-items: stretch;\r\n  gap: 8px;\r\n}\r\n\r\n.date-arrow {\r\n  width: 32px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);\r\n  font-size: 18px;\r\n  color: #4b5563;\r\n  cursor: pointer;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.date-arrow:disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n  box-shadow: none;\r\n}\r\n\r\n.date-list {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex: 1;\r\n}\r\n\r\n.date-item {\r\n  flex: 1;\r\n  min-width: 90px;\r\n  border-radius: 12px;\r\n  border: 1px solid transparent;\r\n  background-color: #fff;\r\n  padding: 8px 10px;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  height: 80px;\r\n}\r\n\r\n.date-item:hover {\r\n  border-color: #bfdbfe;\r\n  box-shadow: 0 3px 10px rgba(15, 23, 42, 0.06);\r\n}\r\n\r\n.date-item.active {\r\n  border-color: #2563eb;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n}\r\n\r\n.date-item.active .date-month,\r\n.date-item.active .date-weekday,\r\n.date-item.active .date-extra {\r\n  color: #e0ecff;\r\n}\r\n\r\n.date-item.active .date-day-number {\r\n  color: #fff;\r\n}\r\n\r\n.date-month {\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n.date-day-row {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 4px;\r\n  margin: 4px 0;\r\n}\r\n\r\n.date-day-number {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.date-weekday {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.date-extra {\r\n  font-size: 11px;\r\n  color: #2563eb;\r\n}\r\n\r\n/* Êó∂Èó¥ÊÆµÂå∫Âüü */\r\n\r\n.slot-section {\r\n  margin-top: 16px;\r\n}\r\n\r\n.slot-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.slot-title {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.slot-legend {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n.legend-item {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.legend-dot {\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 999px;\r\n}\r\n\r\n.legend-available {\r\n  background-color: #e5f3ff;\r\n  border: 1px solid #93c5fd;\r\n}\r\n\r\n.legend-selected {\r\n  background-color: #2563eb;\r\n}\r\n\r\n.legend-disabled {\r\n  background-color: #e5e7eb;\r\n}\r\n\r\n.slot-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(86px, 1fr));\r\n  gap: 10px;\r\n}\r\n\r\n.slot-item {\r\n  border-radius: 12px;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 8px 10px;\r\n  background-color: #f9fafb;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.slot-item:disabled {\r\n  cursor: not-allowed;\r\n}\r\n\r\n.slot-time {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.slot-range {\r\n  font-size: 10px;\r\n  color: #6b7280;\r\n}\r\n\r\n/* Â∑≤ÈÄâÊó∂ÊÆµ + Êèê‰∫§Âå∫Âüü */\r\n\r\n.reserve-bottom {\r\n  margin-top: 16px;\r\n  border-top: 1px dashed #e5e7eb;\r\n  padding-top: 12px;\r\n}\r\n\r\n.selected-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.selected-tag {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 999px;\r\n  background-color: #eff6ff;\r\n  padding: 4px 8px 4px 10px;\r\n  font-size: 11px;\r\n  color: #1f2937;\r\n}\r\n\r\n.selected-tag-close {\r\n  border: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.selected-tag-close:hover {\r\n  color: #111827;\r\n}\r\n\r\n.reserve-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.link-btn {\r\n  border: none;\r\n  background: none;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  padding: 4px 8px;\r\n}\r\n\r\n.link-btn:hover {\r\n  color: #111827;\r\n  text-decoration: underline;\r\n}\r\n\r\n.link-btn:disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n  text-decoration: none;\r\n}\r\n\r\n.reserve-btn {\r\n  padding: 8px 20px;\r\n}\r\n\r\n.primary-btn {\r\n  border: none;\r\n  border-radius: 999px;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  padding: 8px 18px;\r\n  box-shadow: 0 8px 18px rgba(37, 99, 235, 0.3);\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.primary-btn:disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n  box-shadow: none;\r\n}\r\n\r\n.primary-btn:not(:disabled):hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.38);\r\n}\r\n\r\n.pager {\r\n  margin-top: 10px;\r\n  padding: 8px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n}\r\n\r\n.pager-center {\r\n  min-width: 120px;\r\n  text-align: center;\r\n}\r\n\r\n.pager-btn {\r\n  padding: 4px 12px;\r\n  border-radius: 999px;\r\n  border: 1px solid #d1d5db;\r\n  background-color: #ffffff;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  min-width: 72px;\r\n}\r\n\r\n.pager-btn:hover {\r\n  border-color: #2563eb;\r\n  color: #2563eb;\r\n}\r\n\r\n.pager-btn-disabled,\r\n.pager-btn:disabled {\r\n  color: #9ca3af;\r\n  border-color: #e5e7eb;\r\n  background-color: #f9fafb;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.full-page-card {\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ffffff;\r\n  overflow-y: auto;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.user-header-section {\r\n  background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);\r\n  padding: 24px 32px;\r\n  color: #ffffff;\r\n  border-radius: 12px 12px 0 0;\r\n}\r\n\r\n.user-info-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n.user-info-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.user-profile-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.user-name {\r\n  font-size: 28px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  color: #ffffff;\r\n}\r\n\r\n.user-role {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  padding: 4px 16px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #ffffff;\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.profile-content {\r\n  padding: 20px;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  background: #ffffff;\r\n}\r\n\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 8px;\r\n  padding: 0;\r\n  border-bottom: none;\r\n}\r\n\r\n.profile-content .section-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin: 0 0 12px 0;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #f3f4f6;\r\n}\r\n\r\n.form-group {\r\n  margin-top: 8px;\r\n}\r\n\r\n.form-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 14px;\r\n}\r\n\r\n.form-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.form-item label {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #374151;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.form-item input:not([type=\"radio\"]),\r\n.form-item select,\r\n.form-item textarea {\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  color: #111827;\r\n  background: #ffffff;\r\n  transition: all 0.2s ease;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-item input:not([type=\"radio\"]):focus,\r\n.form-item select:focus,\r\n.form-item textarea:focus {\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.form-item input:read-only {\r\n  background-color: #f9fafb;\r\n  border-color: #e5e7eb;\r\n  color: #6b7280;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.form-item.full-width { grid-column: 1 / -1; }\r\n\r\n.form-item select {\r\n  width: 100%;\r\n  appearance: none;\r\n  background-repeat: no-repeat;\r\n  background-position: right 12px center;\r\n  background-size: 12px;\r\n  padding-right: 36px;\r\n  cursor: pointer;\r\n}\r\n\r\n.input-with-action {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.input-with-action input { flex: 1; }\r\n\r\n.radio-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  margin-top: 2px;\r\n}\r\n\r\n.radio-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n  padding: 2px 0;\r\n}\r\n\r\n.radio-option input[type=\"radio\"] {\r\n  width: 16px;\r\n  height: 16px;\r\n  accent-color: #3b82f6;\r\n}\r\n\r\n.radio-label {\r\n  font-size: 14px;\r\n  color: #374151;\r\n  font-weight: 500;\r\n}\r\n\r\n.radio-option input[type=\"radio\"]:checked + .radio-label {\r\n  color: #3b82f6;\r\n}\r\n\r\n.form-item textarea {\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  font-family: inherit;\r\n  line-height: 1.5;\r\n  padding: 12px;\r\n}\r\n\r\n.profile-actions {\r\n  margin-top: 4px;\r\n  padding-top: 0;\r\n  border-top: none;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.profile-actions .primary-btn {\r\n  padding: 10px 32px;\r\n  background: #3b82f6;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.profile-actions .primary-btn:hover { background: #2563eb; }\r\n\r\n@media (max-width: 768px) {\r\n  .user-header-section { padding: 20px; }\r\n  .profile-content { padding: 20px; }\r\n  .user-info-header { flex-direction: column; gap: 20px; }\r\n  .form-grid { grid-template-columns: 1fr; }\r\n  .profile-actions { flex-direction: column; align-items: stretch; gap: 12px; }\r\n  .profile-actions .hint-text { text-align: center; margin-left: 0; margin-top: 8px; min-width: 100%; }\r\n}\r\n\r\n.home-wrapper { flex: 1; display: flex; flex-direction: column; }\r\n.home-card { flex: 1; display: flex; flex-direction: column; margin-bottom: 0; }\r\n\r\n.home-top { display: flex; align-items: stretch; gap: 24px; margin-bottom: 20px; }\r\n.home-top.home-head { position: relative; }\r\n\r\n.home-intro { flex: 1.3; padding-right: 150px; }\r\n\r\n.home-panel {\r\n  border-radius: 12px;\r\n  padding: 16px 18px;\r\n  background-color: #ffffff;\r\n  border: 1px solid #e5e7eb;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);\r\n  color: #111827;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n.home-overview-body { display: flex; flex-direction: column; gap: 8px; }\r\n.home-overview-line { display: flex; flex-direction: column; gap: 4px; }\r\n\r\n.my-today-card .home-panel-body { padding-top: 8px; }\r\n.my-today-body { display: flex; flex-direction: column; gap: 8px; }\r\n\r\n.today-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 6px 0;\r\n  border-bottom: 1px dashed #e5e7eb;\r\n}\r\n.today-item:last-child { border-bottom: none; }\r\n.today-left { display: flex; flex-direction: column; gap: 2px; }\r\n.today-time { font-size: 13px; font-weight: 500; color: #111827; }\r\n.today-room { font-size: 12px; color: #6b7280; }\r\n.today-empty { font-size: 12px; color: #9ca3af; padding: 4px 0; }\r\n\r\n.notice-panel { margin-top: 4px; }\r\n\r\n.notice-more-btn {\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 12px;\r\n  color: #2563eb;\r\n  cursor: pointer;\r\n  padding: 2px 4px;\r\n}\r\n.notice-more-btn:hover { text-decoration: underline; }\r\n\r\n.notice-list {\r\n  margin: 8px 0 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  max-height: 320px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.notice-item { display: flex; align-items: flex-start; gap: 8px; }\r\n.notice-item-click { cursor: pointer; }\r\n.notice-center-detail-top { display: flex; justify-content: flex-start; margin-bottom: 12px; }\r\n\r\n.notice-main { flex: 1; min-width: 0; }\r\n.notice-title {\r\n  font-size: 13px;\r\n  color: #111827;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.notice-meta { font-size: 11px; color: #9ca3af; margin-top: 2px; }\r\n\r\n.notice-count { font-size: 12px; color: #6b7280; font-weight: 500; margin-left: 6px; }\r\n.notice-loading { font-size: 12px; color: #6b7280; padding: 10px 2px; }\r\n.notice-empty { font-size: 12px; color: #9ca3af; padding: 10px 2px; }\r\n\r\n.notice-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 10px;\r\n  padding: 10px 10px;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  border: 1px solid transparent;\r\n  transition: background-color .15s ease, border-color .15s ease, transform .15s ease;\r\n}\r\n.notice-item:hover { background-color: #f9fafb; border-color: #e5e7eb; transform: translateY(-1px); }\r\n\r\n.notice-badges { display: flex; flex-direction: column; gap: 6px; min-width: 82px; }\r\n\r\n.notice-pill {\r\n  font-size: 11px;\r\n  padding: 3px 8px;\r\n  border-radius: 999px;\r\n  white-space: nowrap;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  line-height: 1;\r\n}\r\n.notice-icon { font-size: 12px; }\r\n\r\n.notice-snippet {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  margin-top: 4px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.notice-dot { margin: 0 6px; color: #d1d5db; }\r\n\r\n.notice-right { display: flex; align-items: center; gap: 8px; padding-left: 6px; }\r\n.notice-new {\r\n  font-size: 11px;\r\n  font-weight: 700;\r\n  color: #dc2626;\r\n  background: #fee2e2;\r\n  border-radius: 999px;\r\n  padding: 2px 8px;\r\n}\r\n.notice-arrow { color: #9ca3af; font-size: 18px; line-height: 1; }\r\n\r\n/* Á±ªÂûãÈÖçËâ≤ */\r\n.notice-type.type-RULE { background: #eff6ff; color: #1d4ed8; }\r\n.notice-type.type-ADJUSTMENT { background: #ecfeff; color: #0e7490; }\r\n.notice-type.type-EMERGENCY { background: #fff1f2; color: #be123c; }\r\n.notice-type.type-MAINTENANCE { background: #f5f3ff; color: #6d28d9; }\r\n.notice-type.type-EXAM { background: #f0fdf4; color: #15803d; }\r\n.notice-type.type-OTHER { background: #f3f4f6; color: #374151; }\r\n\r\n/* Á∫ßÂà´ÈÖçËâ≤ */\r\n.notice-level.level-IMPORTANT { background: #fef3c7; color: #92400e; }\r\n.notice-level.level-WARNING { background: #ffedd5; color: #9a3412; }\r\n.notice-level.level-INFO { background: #e0f2fe; color: #075985; }\r\n\r\n/* ÂºπÁ™óÔºöÂÖ¨ÂëäËØ¶ÊÉÖ */\r\n.notice-detail .nd-title {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.notice-detail .nd-title-row {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  gap: 12px;\r\n}\r\n\r\n.notice-detail .nd-info {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(0, 1fr));\r\n  gap: 10px 14px;\r\n  margin: 6px 0 4px;\r\n}\r\n\r\n.notice-detail .nd-info-item .k {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.notice-detail .nd-info-item .v {\r\n  font-size: 13px;\r\n  color: #111827;\r\n  margin-top: 2px;\r\n}\r\n\r\n@media (max-width: 520px) {\r\n  .notice-detail .nd-info { grid-template-columns: 1fr; }\r\n}\r\n\r\n.notice-detail .nd-tags {\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.notice-detail .nd-tag {\r\n  font-size: 12px;\r\n  padding: 4px 10px;\r\n  border-radius: 999px;\r\n}\r\n\r\n.notice-detail .nd-tag.type-RULE { background: #eff6ff; color: #1d4ed8; }\r\n.notice-detail .nd-tag.type-ADJUSTMENT { background: #ecfeff; color: #0e7490; }\r\n.notice-detail .nd-tag.type-EMERGENCY { background: #fff1f2; color: #be123c; }\r\n.notice-detail .nd-tag.type-MAINTENANCE { background: #f5f3ff; color: #6d28d9; }\r\n.notice-detail .nd-tag.type-EXAM { background: #f0fdf4; color: #15803d; }\r\n.notice-detail .nd-tag.type-OTHER { background: #f3f4f6; color: #374151; }\r\n\r\n.notice-detail .nd-tag.level-IMPORTANT { background: #fef3c7; color: #92400e; }\r\n.notice-detail .nd-tag.level-WARNING { background: #ffedd5; color: #9a3412; }\r\n.notice-detail .nd-tag.level-INFO { background: #e0f2fe; color: #075985; }\r\n\r\n.notice-detail .nd-content {\r\n  font-size: 14px;\r\n  color: #111827;\r\n  line-height: 1.7;\r\n  white-space: pre-line;\r\n  padding: 10px 12px;\r\n  background: #f9fafb;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 10px;\r\n}\r\n\r\n/* ÂÖ®ÈÉ®ÂÖ¨ÂëäÂºπÁ™ó */\r\n.notice-all-head {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.notice-all-filter { display: flex; align-items: center; gap: 10px; }\r\n\r\n.filter-label { font-size: 12px; color: #6b7280; }\r\n.notice-all-tip { font-size: 12px; color: #6b7280; }\r\n\r\n.notice-list-all { max-height: calc(100vh - 260px); }\r\n\r\n.notice-pagination {\r\n  margin-top: 12px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.home-panel-title { font-size: 15px; font-weight: 600; color: #111827; }\r\n\r\n.weather-icon{font-size: 28px}\r\n.weather-temp{font-size: 22px;font-weight: 600;margin-left:6px}\r\n.weather-desc{font-size: 12px;color:#9ca3af}\r\n\r\n.month-report{\r\n  flex: 1;\r\n  background: #ffffff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  padding: 14px;\r\n  box-shadow: 0 2px 8px rgba(15,23,42,.04);\r\n}\r\n.report-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  margin-bottom: 10px;\r\n  color: #111827;\r\n}\r\n.report-row{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 13px;\r\n  margin: 6px 0;\r\n}\r\n.report-row strong{color:#2563eb}\r\n\r\n.feedback-float{\r\n  position: fixed;\r\n  right: 24px;\r\n  bottom: 80px;\r\n  z-index: 999;\r\n}\r\n.feedback-btn{\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  background: #2563eb;\r\n  color: #fff;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 8px rgba(37,99,235,.35);\r\n}\r\n.feedback-panel{\r\n  position: absolute;\r\n  bottom: 56px;\r\n  right: 0;\r\n  background: #fff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 10px;\r\n  padding: 10px 12px;\r\n  box-shadow: 0 4px 12px rgba(15,23,42,.08);\r\n  width: 140px;\r\n}\r\n.feedback-title{font-size: 12px;color:#6b7280;margin-bottom: 6px;text-align: center}\r\n.feedback-emojis{display: flex;justify-content: space-around;font-size: 20px;cursor: pointer}\r\n\r\n.weather-mini{\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: #ffffff;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 8px;\r\n  padding: 8px 10px;\r\n  box-shadow: 0 2px 6px rgba(15,23,42,.06);\r\n  width: 130px;\r\n  z-index: 1;\r\n}\r\n.weather-mini .weather-main{\r\n  margin: 0 0 2px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.weather-mini .weather-icon{ font-size: 20px; }\r\n.weather-mini .weather-temp{ font-size: 16px; font-weight: 600; margin-left: 6px; }\r\n.weather-mini .weather-desc{ font-size: 11px; color: #6b7280; text-align: center; white-space: nowrap; }\r\n\r\n.home-main-grid {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin-top: 10px;\r\n}\r\n.home-row { width: 100%; }\r\n\r\n.home-row-two {\r\n  display: grid;\r\n  grid-template-columns: 1.4fr 2fr;\r\n  gap: 12px;\r\n}\r\n.home-row-two .home-overview,\r\n.home-row-two .month-report { height: 100%; }\r\n\r\n@media (max-width: 1024px) {\r\n  .home-row-two { grid-template-columns: 1fr; }\r\n}\r\n\r\n.quote-card {\r\n  width: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n  background: #f9fafb;\r\n  border-radius: 12px;\r\n  padding: 14px 16px;\r\n  border: 1px solid #e5e7eb;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);\r\n}\r\n\r\n.quote-refresh-btn {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 12px;\r\n  width: 26px;\r\n  height: 26px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  background: #ffffff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 14px;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  box-shadow: 0 1px 4px rgba(15, 23, 42, 0.12);\r\n}\r\n.quote-refresh-btn:hover { background: #eff6ff; color: #2563eb; }\r\n\r\n.quote-content { max-width: 640px; }\r\n\r\n.quote-header {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 6px;\r\n  margin-bottom: 6px;\r\n}\r\n.quote-icon-inline { font-size: 24px; }\r\n.quote-label { font-size: 16px; color: #9ca3af; }\r\n.quote-text { font-size: 17px; color: #4b5563; line-height: 1.6; }\r\n\r\n.slot-item.slot-available { background-color: #f9fafb; }\r\n.slot-item.slot-selected {\r\n  border-color: #2563eb;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #ffffff;\r\n}\r\n.slot-item.slot-selected .slot-range { color: #e0ecff; }\r\n.slot-item.slot-disabled {\r\n  background-color: #f3f4f6;\r\n  border-color: #e5e7eb;\r\n  color: #9ca3af;\r\n}\r\n.slot-item.slot-disabled .slot-range { color: #9ca3af; }\r\n\r\n.badge.badge-pending { background-color: #fef3c7; color: #92400e; }\r\n.badge.badge-done { background-color: #dcfce7; color: #166534; }\r\n.badge.badge-late { background-color: #ffe4e6; color: #9f1239; }\r\n.badge.badge-missed { background-color: #fee2e2; color: #991b1b; }\r\n.badge.badge-cancelled { background-color: #e5e7eb; color: #374151; }\r\n.badge.badge-cancel-overdue { background-color: #e0e7ff; color: #3730a3; }\r\n\r\n.home-panel-header{\r\n  display:flex;\r\n  align-items:center;\r\n  justify-content:space-between;\r\n  gap:12px;\r\n}\r\n.home-panel-body{ margin-top: 8px; }\r\n\r\n.my-res-table { table-layout: fixed; }\r\n.my-res-table th, .my-res-table td { padding: 10px 8px; }\r\n\r\n.my-res-table th.col-no,      .my-res-table td.col-no      { width: 140px; padding-right: 4px; }\r\n.my-res-table th.col-campus,  .my-res-table td.col-campus  { width: 80px;  padding-left: 4px;  }\r\n.my-res-table th.col-building,.my-res-table td.col-building{ width: 100px; }\r\n.my-res-table th.col-room,    .my-res-table td.col-room    { width: 80px;  }\r\n.my-res-table th.col-date,    .my-res-table td.col-date    { width: 110px; }\r\n.my-res-table th.col-time,    .my-res-table td.col-time    { width: 100px; }\r\n.my-res-table th.col-seat,    .my-res-table td.col-seat    { width: 70px;  text-align: center; }\r\n.my-res-table th.col-status,  .my-res-table td.col-status  { width: 90px;  text-align: center; }\r\n.my-res-table th.col-actions, .my-res-table td.col-actions { width: 80px; text-align: left; }\r\n\r\n.my-res-table td.col-no, .my-res-table td.col-building {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.my-res-table td.col-actions .actions{\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n}\r\n\r\n.res-filter-row{\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin: 6px 0 10px;\r\n}\r\n\r\n.res-filter{\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  user-select: none;\r\n}\r\n\r\n.res-filter-checkbox{\r\n  width: 14px;\r\n  height: 14px;\r\n  accent-color: #2563eb;\r\n  cursor: pointer;\r\n}\r\n\r\n/* ÂÖ¨Âëä‰∏≠ÂøÉÔºöÁ≠õÈÄâÊù°Êõ¥ÂÉè‚ÄúÂ∑•ÂÖ∑Ê†è‚Äù */\r\n.notice-all-head{\r\n  padding: 10px 12px;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 12px;\r\n  background: #f9fafb;\r\n}\r\n\r\n.notice-type-select :deep(.el-input__wrapper){\r\n  border-radius: 999px;\r\n  box-shadow: none;\r\n  border: 1px solid #e5e7eb;\r\n  background: #fff;\r\n}\r\n\r\n.notice-type-select :deep(.el-input__wrapper.is-focus){\r\n  border-color: #93c5fd;\r\n  box-shadow: 0 0 0 4px rgba(147, 197, 253, 0.35);\r\n}\r\n\r\n.notice-type-select :deep(.el-input__inner){\r\n  font-size: 12px;\r\n}\r\n\r\n.opt-row{\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n.opt-ico{ font-size: 14px; }\r\n.opt-text{ font-size: 12px; }\r\n\r\n/* ‚úÖ ÂÖ≥ÈîÆ‰øÆÂ§çÔºö‰Ω†ÁöÑ dialog ËÆæÁΩÆ‰∫Ü z-index=4000ÔºåËÄå el-select ‰∏ãÊãâÈªòËÆ§ z-index ËæÉ‰ΩéÔºå‰ºöË¢´ÈÅÆ‰Ωè\r\n   Áî® popper-class Êää‰∏ãÊãâÂ±Ç z-index Êèê‰∏äÊù• */\r\n:deep(.notice-type-popper){\r\n  z-index: 5005 !important;\r\n}\r\n:deep(.notice-type-popper .el-select-dropdown__item){\r\n  border-radius: 8px;\r\n  margin: 2px 6px;\r\n}\r\n:deep(.notice-type-popper .el-select-dropdown__item.selected){\r\n  font-weight: 600;\r\n}\r\n\r\n/* ÂÖ¨Âëä‰∏≠ÂøÉÂàóË°®ÔºöËÆ© 9 Êù°Âú®ÂÖ®Â±èÈáåÊõ¥ËàíÊúç */\r\n.notice-list-all{\r\n  max-height: calc(100vh - 260px);\r\n}\r\n\r\n/* ‚úÖ È°µÈù¢‚ÄúÁº©Â∞è‰∏ÄÁÇπ‚ÄùÔºöÂÖ®Â±èÂºπÁ™óÈáåÊääÂÜÖÂÆπÊúÄÂ§ßÂÆΩÂ∫¶ÈôêÂà∂‰ΩèÔºåÂ±Ö‰∏≠ÊòæÁ§∫ */\r\n.notice-all-wrap{\r\n  max-width: 1120px;\r\n  margin: 0 auto;\r\n}\r\n.notice-all-dialog :deep(.el-dialog__body){\r\n  padding: 12px 16px 16px;\r\n}\r\n</style>\r\n\r\n<!-- ‚úÖ ÂÖúÂ∫ïÔºöËÆ©ÊªöÂä®Êù°ÂßãÁªàÂç†‰ΩçÔºåÂΩªÂ∫ïÈÅøÂÖç‚ÄúÂºπÁ™óÊâìÂºÄËÉåÊôØÂèòÂÆΩ/ÂèòÁ™Ñ‚Äù -->\r\n<style>\r\nhtml { overflow-y: scroll; }\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}