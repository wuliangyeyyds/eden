{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, vModelRadio as _vModelRadio, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"home-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"card reserve-card\"\n};\nconst _hoisted_4 = {\n  class: \"reserve-header-row\"\n};\nconst _hoisted_5 = {\n  class: \"reserve-summary-box\"\n};\nconst _hoisted_6 = {\n  class: \"summary-main\"\n};\nconst _hoisted_7 = {\n  class: \"summary-row\"\n};\nconst _hoisted_8 = {\n  class: \"summary-value\"\n};\nconst _hoisted_9 = {\n  class: \"summary-row\"\n};\nconst _hoisted_10 = {\n  class: \"summary-value\"\n};\nconst _hoisted_11 = {\n  class: \"summary-row\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"summary-value\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"summary-value summary-empty\"\n};\nconst _hoisted_14 = {\n  class: \"reserve-toolbar\"\n};\nconst _hoisted_15 = {\n  class: \"venue-tabs\"\n};\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n  class: \"reserve-toolbar-right\"\n};\nconst _hoisted_18 = {\n  class: \"date-strip\"\n};\nconst _hoisted_19 = [\"disabled\"];\nconst _hoisted_20 = {\n  class: \"date-list\"\n};\nconst _hoisted_21 = [\"onClick\"];\nconst _hoisted_22 = {\n  class: \"date-month\"\n};\nconst _hoisted_23 = {\n  class: \"date-day-row\"\n};\nconst _hoisted_24 = {\n  class: \"date-day-number\"\n};\nconst _hoisted_25 = {\n  class: \"date-weekday\"\n};\nconst _hoisted_26 = {\n  key: 0,\n  class: \"date-extra\"\n};\nconst _hoisted_27 = {\n  key: 1,\n  class: \"date-extra\"\n};\nconst _hoisted_28 = [\"disabled\"];\nconst _hoisted_29 = {\n  class: \"slot-section\"\n};\nconst _hoisted_30 = {\n  class: \"slot-grid\"\n};\nconst _hoisted_31 = [\"disabled\", \"onClick\"];\nconst _hoisted_32 = {\n  class: \"slot-time\"\n};\nconst _hoisted_33 = {\n  class: \"slot-range\"\n};\nconst _hoisted_34 = {\n  class: \"reserve-bottom\"\n};\nconst _hoisted_35 = {\n  key: 0,\n  class: \"selected-tags\"\n};\nconst _hoisted_36 = {\n  class: \"selected-tag-text\"\n};\nconst _hoisted_37 = [\"onClick\"];\nconst _hoisted_38 = {\n  class: \"reserve-actions\"\n};\nconst _hoisted_39 = [\"disabled\"];\nconst _hoisted_40 = {\n  class: \"card card-reservations\"\n};\nconst _hoisted_41 = {\n  class: \"table-wrapper\"\n};\nconst _hoisted_42 = {\n  class: \"table\"\n};\nconst _hoisted_43 = {\n  class: \"text-right\"\n};\nconst _hoisted_44 = [\"onClick\"];\nconst _hoisted_45 = [\"disabled\", \"onClick\"];\nconst _hoisted_46 = {\n  key: 0\n};\nconst _hoisted_47 = {\n  key: 0,\n  class: \"pager\"\n};\nconst _hoisted_48 = [\"disabled\"];\nconst _hoisted_49 = {\n  class: \"pager-center\"\n};\nconst _hoisted_50 = [\"disabled\"];\nconst _hoisted_51 = {\n  class: \"card\"\n};\nconst _hoisted_52 = {\n  class: \"credit-summary\"\n};\nconst _hoisted_53 = {\n  class: \"credit-score\"\n};\nconst _hoisted_54 = {\n  class: \"score-number\"\n};\nconst _hoisted_55 = {\n  class: \"table-wrapper\"\n};\nconst _hoisted_56 = {\n  class: \"table\"\n};\nconst _hoisted_57 = {\n  key: 0\n};\nconst _hoisted_58 = {\n  key: 0,\n  class: \"pager\"\n};\nconst _hoisted_59 = [\"disabled\"];\nconst _hoisted_60 = {\n  class: \"pager-center\"\n};\nconst _hoisted_61 = [\"disabled\"];\nconst _hoisted_62 = {\n  class: \"card full-page-card\"\n};\nconst _hoisted_63 = {\n  class: \"user-header-section\"\n};\nconst _hoisted_64 = {\n  class: \"user-info-header\"\n};\nconst _hoisted_65 = {\n  class: \"user-info-left\"\n};\nconst _hoisted_66 = {\n  class: \"user-profile-info\"\n};\nconst _hoisted_67 = {\n  class: \"user-name\"\n};\nconst _hoisted_68 = {\n  class: \"profile-content\"\n};\nconst _hoisted_69 = {\n  class: \"form-section\"\n};\nconst _hoisted_70 = {\n  class: \"form-group\"\n};\nconst _hoisted_71 = {\n  class: \"form-grid\"\n};\nconst _hoisted_72 = {\n  class: \"form-item\"\n};\nconst _hoisted_73 = {\n  class: \"form-item\"\n};\nconst _hoisted_74 = {\n  class: \"form-item\"\n};\nconst _hoisted_75 = {\n  class: \"form-item\"\n};\nconst _hoisted_76 = {\n  class: \"form-section\"\n};\nconst _hoisted_77 = {\n  class: \"form-grid\"\n};\nconst _hoisted_78 = {\n  class: \"form-item\"\n};\nconst _hoisted_79 = {\n  class: \"input-with-action\"\n};\nconst _hoisted_80 = {\n  class: \"form-item\"\n};\nconst _hoisted_81 = {\n  class: \"input-with-action\"\n};\nconst _hoisted_82 = {\n  class: \"form-section\"\n};\nconst _hoisted_83 = {\n  class: \"form-grid\"\n};\nconst _hoisted_84 = {\n  class: \"form-item\"\n};\nconst _hoisted_85 = {\n  class: \"radio-group\"\n};\nconst _hoisted_86 = {\n  class: \"radio-option\"\n};\nconst _hoisted_87 = {\n  class: \"radio-option\"\n};\nconst _hoisted_88 = {\n  class: \"radio-option\"\n};\nconst _hoisted_89 = {\n  class: \"form-item full-width\"\n};\nconst _hoisted_90 = {\n  class: \"profile-actions\"\n};\nconst _hoisted_91 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_switch = _resolveComponent(\"el-switch\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 首页 \"), $props.currentPage === 'home' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [...(_cache[20] || (_cache[20] = [_createStaticVNode(\"<div class=\\\"card home-card\\\" data-v-45e03b0c><!-- 上半部分：左文字 --><div class=\\\"home-top\\\" data-v-45e03b0c><div class=\\\"home-intro\\\" data-v-45e03b0c><h2 class=\\\"page-title\\\" data-v-45e03b0c>欢迎使用自习室预约系统（学生端）</h2><p class=\\\"page-subtitle\\\" data-v-45e03b0c> 你可以在这里快速查看自习室开放情况、预约座位、查看自己的预约记录以及违规状态等。 </p><p class=\\\"home-tagline\\\" data-v-45e03b0c> 建议提前 <strong data-v-45e03b0c>30 分钟</strong> 到达自习室完成签到，保持良好信用记录。 </p></div></div><!-- 今日概况 --><div class=\\\"overview-wrapper\\\" data-v-45e03b0c><div class=\\\"home-panel\\\" data-v-45e03b0c><div data-v-45e03b0c><div class=\\\"home-panel-title\\\" data-v-45e03b0c>今日自习室概况</div><div class=\\\"home-panel-number\\\" data-v-45e03b0c>180 个座位</div><div class=\\\"home-panel-desc\\\" data-v-45e03b0c> 已预约 72 · 正在使用 58 · 剩余 50 </div></div><div class=\\\"home-panel-footer\\\" data-v-45e03b0c> 高峰时段：<span data-v-45e03b0c>19:00–21:30</span> · 301 自习室接近满座。 </div></div></div></div>\", 1)]))])) : $props.currentPage === 'user-reserve' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 我要预约页面（美化版） \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 顶部：标题 + 当前选择概览 \"), _createElementVNode(\"div\", _hoisted_4, [_cache[25] || (_cache[25] = _createElementVNode(\"div\", {\n    class: \"reserve-header-left\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"page-title\"\n  }, \"我要预约\"), _createElementVNode(\"p\", {\n    class: \"page-subtitle\"\n  }, \" 选择自习室、日期和时间段进行预约，点击卡片选择 / 取消，最多可同时选择 4 个时段。 \")], -1 /* CACHED */)), _createCommentVNode(\" 右侧：当前选择概要 \"), _createElementVNode(\"div\", _hoisted_5, [_cache[24] || (_cache[24] = _createElementVNode(\"div\", {\n    class: \"summary-title\"\n  }, \"当前选择\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"场地\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_8, _toDisplayString($options.currentVenueName), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_cache[22] || (_cache[22] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"日期\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($options.currentDateLabel || '请选择日期'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[23] || (_cache[23] = _createElementVNode(\"span\", {\n    class: \"summary-label\"\n  }, \"时段\", -1 /* CACHED */)), $data.selectedSlots.length ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \" 已选 \" + _toDisplayString($data.selectedSlots.length) + \" / 4 个 \", 1 /* TEXT */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \" 尚未选择 \"))])])])]), _createCommentVNode(\" 场地选择 + “只看可预约”开关 \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.reserveVenues, (venue, index) => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: venue,\n      type: \"button\",\n      class: _normalizeClass([\"venue-tab\", {\n        active: $data.reserveVenueIndex === index\n      }]),\n      onClick: $event => $options.handleVenueClick(index)\n    }, _toDisplayString(venue), 11 /* TEXT, CLASS, PROPS */, _hoisted_16);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_17, [_cache[26] || (_cache[26] = _createElementVNode(\"span\", {\n    class: \"switch-label\"\n  }, \"只看可预约时段\", -1 /* CACHED */)), _createCommentVNode(\" Element Plus 的开关组件 \"), _createVNode(_component_el_switch, {\n    modelValue: $data.onlyShowAvailable,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.onlyShowAvailable = $event),\n    size: \"small\"\n  }, null, 8 /* PROPS */, [\"modelValue\"])])]), _createCommentVNode(\" 日期条 \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    class: \"date-arrow\",\n    type: \"button\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.moveDates('prev')),\n    disabled: !$options.canMovePrev\n  }, \" ‹ \", 8 /* PROPS */, _hoisted_19), _createElementVNode(\"div\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.visibleDates, d => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: d.key,\n      type: \"button\",\n      class: _normalizeClass([\"date-item\", {\n        active: $data.currentDateIndex === d.index\n      }]),\n      onClick: $event => $options.selectDate(d.index)\n    }, [_createElementVNode(\"div\", _hoisted_22, _toDisplayString(d.monthLabel), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"span\", _hoisted_24, _toDisplayString(d.day), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_25, _toDisplayString(d.weekday), 1 /* TEXT */)]), d.isToday ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, \"今天\")) : d.isTomorrow ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, \"明天\")) : _createCommentVNode(\"v-if\", true)], 10 /* CLASS, PROPS */, _hoisted_21);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"button\", {\n    class: \"date-arrow\",\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.moveDates('next')),\n    disabled: !$options.canMoveNext\n  }, \" › \", 8 /* PROPS */, _hoisted_28)]), _createCommentVNode(\" 时间段选择区域 \"), _createElementVNode(\"div\", _hoisted_29, [_cache[27] || (_cache[27] = _createStaticVNode(\"<div class=\\\"slot-header\\\" data-v-45e03b0c><div class=\\\"slot-title\\\" data-v-45e03b0c>选择时间段</div><div class=\\\"slot-legend\\\" data-v-45e03b0c><span class=\\\"legend-item\\\" data-v-45e03b0c><span class=\\\"legend-dot legend-available\\\" data-v-45e03b0c></span>可预约 </span><span class=\\\"legend-item\\\" data-v-45e03b0c><span class=\\\"legend-dot legend-selected\\\" data-v-45e03b0c></span>已选 </span><span class=\\\"legend-item\\\" data-v-45e03b0c><span class=\\\"legend-dot legend-disabled\\\" data-v-45e03b0c></span>不可预约 </span></div></div>\", 1)), _createElementVNode(\"div\", _hoisted_30, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredTimeSlots, slot => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: slot.id,\n      type: \"button\",\n      class: _normalizeClass([\"slot-item\", $options.slotClass(slot)]),\n      disabled: $options.slotState(slot) === 'disabled',\n      onClick: $event => $options.toggleSlot(slot)\n    }, [_createElementVNode(\"span\", _hoisted_32, _toDisplayString(slot.label), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_33, _toDisplayString(slot.range), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_31);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" 已选时段 + 提交区域 \"), _createElementVNode(\"div\", _hoisted_34, [$data.selectedSlots.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_35, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.selectedSlots, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.key,\n      class: \"selected-tag\"\n    }, [_createElementVNode(\"span\", _hoisted_36, _toDisplayString(item.dateLabel) + \" · \" + _toDisplayString($options.currentVenueName) + \" · \" + _toDisplayString(item.slot.range), 1 /* TEXT */), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"selected-tag-close\",\n      onClick: $event => $options.removeSelected(item.key)\n    }, \" × \", 8 /* PROPS */, _hoisted_37)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_38, [$data.selectedSlots.length ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    type: \"button\",\n    class: \"link-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.resetSelections && $options.resetSelections(...args))\n  }, \" 清空选择 \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"primary-btn reserve-btn\",\n    disabled: !$data.selectedSlots.length,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.submitReservations && $options.submitReservations(...args))\n  }, \" 确认预约 \", 8 /* PROPS */, _hoisted_39)]), _cache[28] || (_cache[28] = _createElementVNode(\"p\", {\n    class: \"hint-text\"\n  }, \" 点击“确认预约”后会弹出当前选择的时段，并跳转到“我的预约”。 \", -1 /* CACHED */))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $props.currentPage === 'user-reservations' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" 我的预约 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_40, [_cache[34] || (_cache[34] = _createElementVNode(\"h2\", {\n    class: \"page-title\"\n  }, \"预约与签到签退\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"table\", _hoisted_42, [_cache[33] || (_cache[33] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"预约编号\"), _createElementVNode(\"th\", null, \"自习室\"), _createElementVNode(\"th\", null, \"日期\"), _createElementVNode(\"th\", null, \"时间段\"), _createElementVNode(\"th\", null, \"座位号\"), _createElementVNode(\"th\", null, \"状态\"), _createElementVNode(\"th\", {\n    style: {\n      \"text-align\": \"right\"\n    }\n  }, \"操作\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.pagedReservations, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.reservationNo), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.roomName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatTimeRange(item)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.seatLabel || '-'), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"span\", {\n      class: _normalizeClass([\"badge\", $options.statusClass(item.status)])\n    }, _toDisplayString($options.renderStatusText(item.status)), 3 /* TEXT, CLASS */)]), _createElementVNode(\"td\", _hoisted_43, [_createCommentVNode(\" 待签到：可以“签到 / 取消” \"), item.status === 'reserved' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 0\n    }, [_createElementVNode(\"button\", {\n      class: \"link-btn\",\n      type: \"button\",\n      onClick: $event => $options.handleCheckIn(item)\n    }, \" 签到 \", 8 /* PROPS */, _hoisted_44), _createElementVNode(\"button\", {\n      class: \"link-btn link-danger\",\n      type: \"button\",\n      disabled: !$options.canCancel(item),\n      onClick: $event => $options.handleCancel(item)\n    }, \" 取消 \", 8 /* PROPS */, _hoisted_45)], 64 /* STABLE_FRAGMENT */)) : item.status === 'checked_in' || item.status === 'late' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createCommentVNode(\" 已签到 / 迟到 \"), _cache[29] || (_cache[29] = _createElementVNode(\"button\", {\n      class: \"link-btn\",\n      type: \"button\",\n      disabled: \"\"\n    }, \" 已签到 \", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : item.status === 'no_show' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 2\n    }, [_createCommentVNode(\" 未签到 \"), _cache[30] || (_cache[30] = _createElementVNode(\"button\", {\n      class: \"link-btn\",\n      type: \"button\",\n      disabled: \"\"\n    }, \" 已过期 \", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : item.status === 'cancelled' || item.status === 'cancel_overdue' ? (_openBlock(), _createElementBlock(_Fragment, {\n      key: 3\n    }, [_createCommentVNode(\" 已取消 / 逾期取消（都不可再操作） \"), _cache[31] || (_cache[31] = _createElementVNode(\"button\", {\n      class: \"link-btn\",\n      type: \"button\",\n      disabled: \"\"\n    }, \" 不可操作 \", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" 没有任何预约时的占位行 \"), !$data.myReservations.length ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_46, [...(_cache[32] || (_cache[32] = [_createElementVNode(\"td\", {\n    colspan: \"7\",\n    style: {\n      \"text-align\": \"center\",\n      \"color\": \"#9ca3af\",\n      \"padding\": \"16px 0\"\n    }\n  }, \" 暂无预约记录 \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])]), _createCommentVNode(\" ⭐ 分页条：只有当总数 > 15 时才出现 \"), $options.totalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_47, [_createCommentVNode(\" 上一页 \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"pager-btn\", {\n      'pager-btn-disabled': $data.reservationPageIndex <= 1\n    }]),\n    disabled: $data.reservationPageIndex <= 1,\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.gotoPrevPage && $options.gotoPrevPage(...args))\n  }, \" 上一页 \", 10 /* CLASS, PROPS */, _hoisted_48), _createCommentVNode(\" 中间页码 \"), _createElementVNode(\"div\", _hoisted_49, \" 第 \" + _toDisplayString($data.reservationPageIndex) + \" / \" + _toDisplayString($options.totalPages) + \" 页 \", 1 /* TEXT */), _createCommentVNode(\" 下一页 \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"pager-btn\", {\n      'pager-btn-disabled': $data.reservationPageIndex >= $options.totalPages\n    }]),\n    disabled: $data.reservationPageIndex >= $options.totalPages,\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.gotoNextPage && $options.gotoNextPage(...args))\n  }, \" 下一页 \", 10 /* CLASS, PROPS */, _hoisted_50)])) : _createCommentVNode(\"v-if\", true)])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $props.currentPage === 'user-violations' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" 违规记录 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_51, [_cache[39] || (_cache[39] = _createElementVNode(\"h2\", {\n    class: \"page-title\"\n  }, \"违规记录与信用分\", -1 /* CACHED */)), _cache[40] || (_cache[40] = _createElementVNode(\"p\", {\n    class: \"page-subtitle\"\n  }, \" 信用分从 100 开始，未签到、迟到等行为会扣分。 \", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_52, [_createElementVNode(\"div\", _hoisted_53, [_cache[35] || (_cache[35] = _createTextVNode(\" 当前信用分： \", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_54, _toDisplayString(100 + ($data.myViolations || []).reduce((sum, v) => sum + (v.penaltyScore || 0), 0)), 1 /* TEXT */)]), _cache[36] || (_cache[36] = _createElementVNode(\"p\", {\n    class: \"hint-text\"\n  }, \" 信用分低于 60 可能会被列入黑名单，一段时间内无法预约。 \", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_55, [_createElementVNode(\"table\", _hoisted_56, [_cache[38] || (_cache[38] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"日期\"), _createElementVNode(\"th\", null, \"自习室\"), _createElementVNode(\"th\", null, \"违规类型\"), _createElementVNode(\"th\", null, \"扣分\"), _createElementVNode(\"th\", null, \"备注\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [!$options.pagedViolations.length ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_57, [...(_cache[37] || (_cache[37] = [_createElementVNode(\"td\", {\n    colspan: \"5\",\n    style: {\n      \"text-align\": \"center\",\n      \"color\": \"#999\"\n    }\n  }, \" 暂无违规记录 \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.pagedViolations, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.reservationId\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.date), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.roomFullName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.violationType), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.penaltyScore), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.remark), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 分页器 \"), $options.violationTotalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_58, [_createCommentVNode(\" 上一页 \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"pager-btn\", {\n      'pager-btn-disabled': $data.violationPageIndex <= 1\n    }]),\n    disabled: $data.violationPageIndex <= 1,\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.gotoPrevViolationPage && $options.gotoPrevViolationPage(...args))\n  }, \" 上一页 \", 10 /* CLASS, PROPS */, _hoisted_59), _createElementVNode(\"div\", _hoisted_60, \" 第 \" + _toDisplayString($data.violationPageIndex) + \" / \" + _toDisplayString($options.violationTotalPages) + \" 页 \", 1 /* TEXT */), _createCommentVNode(\" 下一页 \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"pager-btn\", {\n      'pager-btn-disabled': $data.violationPageIndex >= $options.violationTotalPages\n    }]),\n    disabled: $data.violationPageIndex >= $options.violationTotalPages,\n    onClick: _cache[8] || (_cache[8] = (...args) => $options.gotoNextViolationPage && $options.gotoNextViolationPage(...args))\n  }, \" 下一页 \", 10 /* CLASS, PROPS */, _hoisted_61)])) : _createCommentVNode(\"v-if\", true)])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $props.currentPage === 'user-feedback' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 4\n  }, [_createCommentVNode(\" 评价与投诉 \"), _cache[41] || (_cache[41] = _createStaticVNode(\"<div data-v-45e03b0c><div class=\\\"card\\\" data-v-45e03b0c><h2 class=\\\"page-title\\\" data-v-45e03b0c>评价与投诉</h2><p class=\\\"page-subtitle\\\" data-v-45e03b0c> 可以对自习环境、规则执行情况进行评价，也可以提交投诉信息（示意表单）。 </p><div class=\\\"feedback-grid\\\" data-v-45e03b0c><div class=\\\"feedback-column\\\" data-v-45e03b0c><h3 class=\\\"section-title\\\" data-v-45e03b0c>快速评价</h3><textarea class=\\\"textarea\\\" rows=\\\"4\\\" placeholder=\\\"例如：环境安静、卫生良好、管理员服务态度不错等。\\\" data-v-45e03b0c></textarea><button class=\\\"primary-btn\\\" data-v-45e03b0c>提交评价</button></div><div class=\\\"feedback-column\\\" data-v-45e03b0c><h3 class=\\\"section-title\\\" data-v-45e03b0c>投诉 / 建议</h3><textarea class=\\\"textarea\\\" rows=\\\"4\\\" placeholder=\\\"请详细描述问题：发生时间、地点、涉及人员、具体情况等，以便管理员跟进处理。\\\" data-v-45e03b0c></textarea><button class=\\\"primary-btn\\\" data-v-45e03b0c>提交投诉</button></div></div><p class=\\\"hint-text\\\" data-v-45e03b0c> 示例页面不会真正发送数据到后端，接入接口后，按钮可触发实际提交逻辑。 </p></div></div>\", 1))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $props.currentPage === 'user-profile' ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 5\n  }, [_createCommentVNode(\" 个人中心 \"), _createElementVNode(\"div\", null, [_createElementVNode(\"div\", _hoisted_62, [_createCommentVNode(\" 顶部用户信息区域 \"), _createElementVNode(\"div\", _hoisted_63, [_createElementVNode(\"div\", _hoisted_64, [_createElementVNode(\"div\", _hoisted_65, [_createElementVNode(\"div\", _hoisted_66, [_createCommentVNode(\" 这里显示后端来的姓名，没有就先叫“同学” \"), _createElementVNode(\"h2\", _hoisted_67, _toDisplayString($data.profileForm.name || '同学'), 1 /* TEXT */), _cache[42] || (_cache[42] = _createElementVNode(\"span\", {\n    class: \"user-role\"\n  }, \"学生\", -1 /* CACHED */))])]), _cache[43] || (_cache[43] = _createElementVNode(\"div\", {\n    class: \"header-actions\"\n  }, [_createCommentVNode(\" 预留退出登录按钮 \"), _createCommentVNode(\" <button class=\\\"logout-btn\\\">退出登录</button> \")], -1 /* CACHED */))])]), _createCommentVNode(\" 个人信息表单 \"), _createElementVNode(\"div\", _hoisted_68, [_createCommentVNode(\" 个人信息模块 \"), _createElementVNode(\"div\", _hoisted_69, [_cache[49] || (_cache[49] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"个人信息\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_70, [_createElementVNode(\"div\", _hoisted_71, [_createCommentVNode(\" 左边：姓名 \"), _createElementVNode(\"div\", _hoisted_72, [_cache[44] || (_cache[44] = _createElementVNode(\"label\", null, \"姓名:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.profileForm.name = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.name]])]), _createCommentVNode(\" 右边：学号（student_no） \"), _createElementVNode(\"div\", _hoisted_73, [_cache[45] || (_cache[45] = _createElementVNode(\"label\", null, \"学号:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.profileForm.studentNo = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.studentNo]])]), _createElementVNode(\"div\", _hoisted_74, [_cache[47] || (_cache[47] = _createElementVNode(\"label\", null, \"学院:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.profileForm.college = $event)\n  }, [...(_cache[46] || (_cache[46] = [_createStaticVNode(\"<option value=\\\"\\\" data-v-45e03b0c>请选择学院</option><option value=\\\"计算机学院\\\" data-v-45e03b0c>计算机学院</option><option value=\\\"信息工程学院\\\" data-v-45e03b0c>信息工程学院</option><option value=\\\"商学院\\\" data-v-45e03b0c>商学院</option><option value=\\\"法学院\\\" data-v-45e03b0c>法学院</option>\", 5)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.profileForm.college]])]), _createElementVNode(\"div\", _hoisted_75, [_cache[48] || (_cache[48] = _createElementVNode(\"label\", null, \"年级与班级:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.profileForm.gradeClass = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.gradeClass]])])])])]), _createCommentVNode(\" 联系方式模块 \"), _createElementVNode(\"div\", _hoisted_76, [_cache[52] || (_cache[52] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"联系方式\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_77, [_createElementVNode(\"div\", _hoisted_78, [_cache[50] || (_cache[50] = _createElementVNode(\"label\", null, \"手机号:\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_79, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.profileForm.phone = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.phone]])])]), _createElementVNode(\"div\", _hoisted_80, [_cache[51] || (_cache[51] = _createElementVNode(\"label\", null, \"邮箱:\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_81, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.profileForm.email = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.email]])])])])]), _createCommentVNode(\" 偏好设置模块 \"), _createElementVNode(\"div\", _hoisted_82, [_cache[58] || (_cache[58] = _createElementVNode(\"h3\", {\n    class: \"section-title\"\n  }, \"偏好设置\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_83, [_createElementVNode(\"div\", _hoisted_84, [_cache[56] || (_cache[56] = _createElementVNode(\"label\", null, \"常用校区:\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_85, [_createElementVNode(\"label\", _hoisted_86, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"本部校区\",\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.profileForm.commonCampus = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.profileForm.commonCampus]]), _cache[53] || (_cache[53] = _createElementVNode(\"span\", {\n    class: \"radio-label\"\n  }, \"本部校区\", -1 /* CACHED */))]), _createElementVNode(\"label\", _hoisted_87, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"东校区\",\n    \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.profileForm.commonCampus = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.profileForm.commonCampus]]), _cache[54] || (_cache[54] = _createElementVNode(\"span\", {\n    class: \"radio-label\"\n  }, \"东校区\", -1 /* CACHED */))]), _createElementVNode(\"label\", _hoisted_88, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"梅山校区\",\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.profileForm.commonCampus = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.profileForm.commonCampus]]), _cache[55] || (_cache[55] = _createElementVNode(\"span\", {\n    class: \"radio-label\"\n  }, \"梅山校区\", -1 /* CACHED */))])])]), _createElementVNode(\"div\", _hoisted_89, [_cache[57] || (_cache[57] = _createElementVNode(\"label\", null, \"备注信息:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    placeholder: \"例如：偏好图书馆、晚上时段较多、不擅长高数等\",\n    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $data.profileForm.profileRemark = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.profileForm.profileRemark]])])])]), _createCommentVNode(\" 操作按钮 \"), _createElementVNode(\"div\", _hoisted_90, [_createElementVNode(\"button\", {\n    class: \"primary-btn\",\n    type: \"button\",\n    onClick: _cache[19] || (_cache[19] = (...args) => $options.handleProfileSave && $options.handleProfileSave(...args)),\n    disabled: $data.profileSaving\n  }, _toDisplayString($data.profileSaving ? '保存中…' : '保存信息'), 9 /* TEXT, PROPS */, _hoisted_91)])])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","$props","currentPage","_hoisted_2","_cache","_Fragment","key","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$options","currentVenueName","_hoisted_9","_hoisted_10","currentDateLabel","_hoisted_11","$data","selectedSlots","length","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_renderList","reserveVenues","venue","index","type","_normalizeClass","active","reserveVenueIndex","onClick","$event","handleVenueClick","_hoisted_16","_hoisted_17","_createVNode","_component_el_switch","onlyShowAvailable","size","_hoisted_18","moveDates","disabled","canMovePrev","_hoisted_19","_hoisted_20","visibleDates","d","currentDateIndex","selectDate","_hoisted_22","monthLabel","_hoisted_23","_hoisted_24","day","_hoisted_25","weekday","isToday","_hoisted_26","isTomorrow","_hoisted_27","canMoveNext","_hoisted_28","_hoisted_29","_hoisted_30","filteredTimeSlots","slot","id","slotClass","slotState","toggleSlot","_hoisted_32","label","_hoisted_33","range","_hoisted_34","_hoisted_35","item","_hoisted_36","dateLabel","removeSelected","_hoisted_37","_hoisted_38","args","resetSelections","submitReservations","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","style","pagedReservations","reservationNo","roomName","date","formatTimeRange","seatLabel","statusClass","status","renderStatusText","_hoisted_43","handleCheckIn","_hoisted_44","canCancel","handleCancel","_hoisted_45","myReservations","_hoisted_46","colspan","totalPages","_hoisted_47","reservationPageIndex","gotoPrevPage","_hoisted_48","_hoisted_49","gotoNextPage","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","myViolations","reduce","sum","v","penaltyScore","_hoisted_55","_hoisted_56","pagedViolations","_hoisted_57","reservationId","roomFullName","violationType","remark","violationTotalPages","_hoisted_58","violationPageIndex","gotoPrevViolationPage","_hoisted_59","_hoisted_60","gotoNextViolationPage","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","profileForm","name","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","studentNo","_hoisted_74","college","_hoisted_75","gradeClass","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","phone","_hoisted_80","_hoisted_81","email","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","value","commonCampus","_hoisted_87","_hoisted_88","_hoisted_89","placeholder","profileRemark","_hoisted_90","handleProfileSave","profileSaving","_hoisted_91"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\UserHome.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <!-- 首页 -->\r\n    <div v-if=\"currentPage === 'home'\" class=\"home-wrapper\">\r\n      <div class=\"card home-card\">\r\n        <!-- 上半部分：左文字 -->\r\n        <div class=\"home-top\">\r\n          <div class=\"home-intro\">\r\n            <h2 class=\"page-title\">欢迎使用自习室预约系统（学生端）</h2>\r\n            <p class=\"page-subtitle\">\r\n              你可以在这里快速查看自习室开放情况、预约座位、查看自己的预约记录以及违规状态等。\r\n            </p>\r\n            <p class=\"home-tagline\">\r\n              建议提前 <strong>30 分钟</strong> 到达自习室完成签到，保持良好信用记录。\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 今日概况 -->\r\n        <div class=\"overview-wrapper\">\r\n          <div class=\"home-panel\">\r\n            <div>\r\n              <div class=\"home-panel-title\">今日自习室概况</div>\r\n              <div class=\"home-panel-number\">180 个座位</div>\r\n              <div class=\"home-panel-desc\">\r\n                已预约 72 · 正在使用 58 · 剩余 50\r\n              </div>\r\n            </div>\r\n            <div class=\"home-panel-footer\">\r\n              高峰时段：<span>19:00–21:30</span> · 301 自习室接近满座。\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 我要预约页面（美化版） -->\r\n    <div v-else-if=\"currentPage === 'user-reserve'\">\r\n      <div class=\"card reserve-card\">\r\n        <!-- 顶部：标题 + 当前选择概览 -->\r\n        <div class=\"reserve-header-row\">\r\n          <div class=\"reserve-header-left\">\r\n            <h2 class=\"page-title\">我要预约</h2>\r\n            <p class=\"page-subtitle\">\r\n              选择自习室、日期和时间段进行预约，点击卡片选择 / 取消，最多可同时选择 4 个时段。\r\n            </p>\r\n          </div>\r\n\r\n          <!-- 右侧：当前选择概要 -->\r\n          <div class=\"reserve-summary-box\">\r\n            <div class=\"summary-title\">当前选择</div>\r\n            <div class=\"summary-main\">\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">场地</span>\r\n                <span class=\"summary-value\">\r\n              {{ currentVenueName }}\r\n            </span>\r\n              </div>\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">日期</span>\r\n                <span class=\"summary-value\">\r\n              {{ currentDateLabel || '请选择日期' }}\r\n            </span>\r\n              </div>\r\n              <div class=\"summary-row\">\r\n                <span class=\"summary-label\">时段</span>\r\n                <span\r\n                    class=\"summary-value\"\r\n                    v-if=\"selectedSlots.length\"\r\n                >\r\n              已选 {{ selectedSlots.length }} / 4 个\r\n            </span>\r\n                <span\r\n                    class=\"summary-value summary-empty\"\r\n                    v-else\r\n                >\r\n              尚未选择\r\n            </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 场地选择 + “只看可预约”开关 -->\r\n        <div class=\"reserve-toolbar\">\r\n          <div class=\"venue-tabs\">\r\n            <button\r\n                v-for=\"(venue, index) in reserveVenues\"\r\n                :key=\"venue\"\r\n                type=\"button\"\r\n                class=\"venue-tab\"\r\n                :class=\"{ active: reserveVenueIndex === index }\"\r\n                @click=\"handleVenueClick(index)\"\r\n            >\r\n              {{ venue }}\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"reserve-toolbar-right\">\r\n            <span class=\"switch-label\">只看可预约时段</span>\r\n            <!-- Element Plus 的开关组件 -->\r\n            <el-switch\r\n                v-model=\"onlyShowAvailable\"\r\n                size=\"small\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 日期条 -->\r\n        <div class=\"date-strip\">\r\n          <button\r\n              class=\"date-arrow\"\r\n              type=\"button\"\r\n              @click=\"moveDates('prev')\"\r\n              :disabled=\"!canMovePrev\"\r\n          >\r\n            ‹\r\n          </button>\r\n\r\n          <div class=\"date-list\">\r\n            <button\r\n                v-for=\"d in visibleDates\"\r\n                :key=\"d.key\"\r\n                type=\"button\"\r\n                class=\"date-item\"\r\n                :class=\"{ active: currentDateIndex === d.index }\"\r\n                @click=\"selectDate(d.index)\"\r\n            >\r\n              <div class=\"date-month\">{{ d.monthLabel }}</div>\r\n              <div class=\"date-day-row\">\r\n                <span class=\"date-day-number\">{{ d.day }}</span>\r\n                <span class=\"date-weekday\">{{ d.weekday }}</span>\r\n              </div>\r\n              <div class=\"date-extra\" v-if=\"d.isToday\">今天</div>\r\n              <div class=\"date-extra\" v-else-if=\"d.isTomorrow\">明天</div>\r\n            </button>\r\n          </div>\r\n\r\n          <button\r\n              class=\"date-arrow\"\r\n              type=\"button\"\r\n              @click=\"moveDates('next')\"\r\n              :disabled=\"!canMoveNext\"\r\n          >\r\n            ›\r\n          </button>\r\n        </div>\r\n\r\n        <!-- 时间段选择区域 -->\r\n        <div class=\"slot-section\">\r\n          <div class=\"slot-header\">\r\n            <div class=\"slot-title\">选择时间段</div>\r\n            <div class=\"slot-legend\">\r\n          <span class=\"legend-item\">\r\n            <span class=\"legend-dot legend-available\"></span>可预约\r\n          </span>\r\n              <span class=\"legend-item\">\r\n            <span class=\"legend-dot legend-selected\"></span>已选\r\n          </span>\r\n              <span class=\"legend-item\">\r\n            <span class=\"legend-dot legend-disabled\"></span>不可预约\r\n          </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"slot-grid\">\r\n            <button\r\n                v-for=\"slot in filteredTimeSlots\"\r\n                :key=\"slot.id\"\r\n                type=\"button\"\r\n                class=\"slot-item\"\r\n                :class=\"slotClass(slot)\"\r\n                :disabled=\"slotState(slot) === 'disabled'\"\r\n                @click=\"toggleSlot(slot)\"\r\n            >\r\n              <span class=\"slot-time\">{{ slot.label }}</span>\r\n              <span class=\"slot-range\">{{ slot.range }}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 已选时段 + 提交区域 -->\r\n        <div class=\"reserve-bottom\">\r\n          <div class=\"selected-tags\" v-if=\"selectedSlots.length\">\r\n            <div\r\n                v-for=\"item in selectedSlots\"\r\n                :key=\"item.key\"\r\n                class=\"selected-tag\"\r\n            >\r\n          <span class=\"selected-tag-text\">\r\n            {{ item.dateLabel }} · {{ currentVenueName }} · {{ item.slot.range }}\r\n          </span>\r\n              <button\r\n                  type=\"button\"\r\n                  class=\"selected-tag-close\"\r\n                  @click=\"removeSelected(item.key)\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"reserve-actions\">\r\n            <button\r\n                type=\"button\"\r\n                class=\"link-btn\"\r\n                v-if=\"selectedSlots.length\"\r\n                @click=\"resetSelections\"\r\n            >\r\n              清空选择\r\n            </button>\r\n\r\n            <button\r\n                type=\"button\"\r\n                class=\"primary-btn reserve-btn\"\r\n                :disabled=\"!selectedSlots.length\"\r\n                @click=\"submitReservations\"\r\n            >\r\n              确认预约\r\n            </button>\r\n          </div>\r\n\r\n          <p class=\"hint-text\">\r\n            点击“确认预约”后会弹出当前选择的时段，并跳转到“我的预约”。\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 我的预约 -->\r\n    <div v-else-if=\"currentPage === 'user-reservations'\">\r\n      <div class=\"card card-reservations\">\r\n        <h2 class=\"page-title\">预约与签到签退</h2>\r\n        <div class=\"table-wrapper\">\r\n          <table class=\"table\">\r\n            <thead>\r\n            <tr>\r\n              <th>预约编号</th>\r\n              <th>自习室</th>\r\n              <th>日期</th>\r\n              <th>时间段</th>\r\n              <th>座位号</th>\r\n              <th>状态</th>\r\n              <th style=\"text-align: right;\">操作</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr\r\n                v-for=\"item in pagedReservations\"\r\n                :key=\"item.id\"\r\n            >\r\n              <td>{{ item.reservationNo }}</td>\r\n              <td>{{ item.roomName }}</td>\r\n              <td>{{ item.date }}</td>\r\n              <td>{{ formatTimeRange(item) }}</td>\r\n              <td>{{ item.seatLabel || '-' }}</td>\r\n              <td>\r\n      <span\r\n          class=\"badge\"\r\n          :class=\"statusClass(item.status)\"\r\n      >\r\n        {{ renderStatusText(item.status) }}\r\n      </span>\r\n              </td>\r\n              <td class=\"text-right\">\r\n                <!-- 待签到：可以“签到 / 取消” -->\r\n                <template v-if=\"item.status === 'reserved'\">\r\n                  <button\r\n                      class=\"link-btn\"\r\n                      type=\"button\"\r\n                      @click=\"handleCheckIn(item)\"\r\n                  >\r\n                    签到\r\n                  </button>\r\n                  <button\r\n                      class=\"link-btn link-danger\"\r\n                      type=\"button\"\r\n                      :disabled=\"!canCancel(item)\"\r\n                      @click=\"handleCancel(item)\"\r\n                  >\r\n                    取消\r\n                  </button>\r\n                </template>\r\n\r\n                <!-- 已签到 / 迟到 -->\r\n                <button\r\n                    class=\"link-btn\"\r\n                    v-else-if=\"item.status === 'checked_in' || item.status === 'late'\"\r\n                    type=\"button\"\r\n                    disabled\r\n                >\r\n                  已签到\r\n                </button>\r\n\r\n                <!-- 未签到 -->\r\n                <button\r\n                    class=\"link-btn\"\r\n                    v-else-if=\"item.status === 'no_show'\"\r\n                    type=\"button\"\r\n                    disabled\r\n                >\r\n                  已过期\r\n                </button>\r\n\r\n                <!-- 已取消 / 逾期取消（都不可再操作） -->\r\n                <button\r\n                    class=\"link-btn\"\r\n                    v-else-if=\"item.status === 'cancelled' || item.status === 'cancel_overdue'\"\r\n                    type=\"button\"\r\n                    disabled\r\n                >\r\n                  不可操作\r\n                </button>\r\n              </td>\r\n            </tr>\r\n            <!-- 没有任何预约时的占位行 -->\r\n            <tr v-if=\"!myReservations.length\">\r\n              <td colspan=\"7\" style=\"text-align: center; color: #9ca3af; padding: 16px 0;\">\r\n                暂无预约记录\r\n              </td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <!-- ⭐ 分页条：只有当总数 > 15 时才出现 -->\r\n        <div class=\"pager\" v-if=\"totalPages > 1\">\r\n          <!-- 上一页 -->\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': reservationPageIndex <= 1 }\"\r\n              :disabled=\"reservationPageIndex <= 1\"\r\n              @click=\"gotoPrevPage\"\r\n          >\r\n            上一页\r\n          </button>\r\n\r\n          <!-- 中间页码 -->\r\n          <div class=\"pager-center\">\r\n            第 {{ reservationPageIndex }} / {{ totalPages }} 页\r\n          </div>\r\n\r\n          <!-- 下一页 -->\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': reservationPageIndex >= totalPages }\"\r\n              :disabled=\"reservationPageIndex >= totalPages\"\r\n              @click=\"gotoNextPage\"\r\n          >\r\n            下一页\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 违规记录 -->\r\n    <div v-else-if=\"currentPage === 'user-violations'\">\r\n      <div class=\"card\">\r\n        <h2 class=\"page-title\">违规记录与信用分</h2>\r\n        <p class=\"page-subtitle\">\r\n          信用分从 100 开始，未签到、迟到等行为会扣分。\r\n        </p>\r\n\r\n        <div class=\"credit-summary\">\r\n          <div class=\"credit-score\">\r\n            当前信用分：\r\n            <span class=\"score-number\">\r\n          {{ 100 + (myViolations || []).reduce((sum, v) => sum + (v.penaltyScore || 0), 0) }}\r\n        </span>\r\n          </div>\r\n          <p class=\"hint-text\">\r\n            信用分低于 60 可能会被列入黑名单，一段时间内无法预约。\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"table-wrapper\">\r\n          <table class=\"table\">\r\n            <thead>\r\n            <tr>\r\n              <th>日期</th>\r\n              <th>自习室</th>\r\n              <th>违规类型</th>\r\n              <th>扣分</th>\r\n              <th>备注</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr v-if=\"!pagedViolations.length\">\r\n              <td colspan=\"5\" style=\"text-align: center; color: #999;\">\r\n                暂无违规记录\r\n              </td>\r\n            </tr>\r\n            <tr v-for=\"item in pagedViolations\" :key=\"item.reservationId\">\r\n              <td>{{ item.date }}</td>\r\n              <td>{{ item.roomFullName }}</td>\r\n              <td>{{ item.violationType }}</td>\r\n              <td>{{ item.penaltyScore }}</td>\r\n              <td>{{ item.remark }}</td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- 分页器 -->\r\n        <div class=\"pager\" v-if=\"violationTotalPages > 1\">\r\n          <!-- 上一页 -->\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': violationPageIndex <= 1 }\"\r\n              :disabled=\"violationPageIndex <= 1\"\r\n              @click=\"gotoPrevViolationPage\"\r\n          >\r\n            上一页\r\n          </button>\r\n\r\n          <div class=\"pager-center\">\r\n            第 {{ violationPageIndex }} / {{ violationTotalPages }} 页\r\n          </div>\r\n\r\n          <!-- 下一页 -->\r\n          <button\r\n              type=\"button\"\r\n              class=\"pager-btn\"\r\n              :class=\"{ 'pager-btn-disabled': violationPageIndex >= violationTotalPages }\"\r\n              :disabled=\"violationPageIndex >= violationTotalPages\"\r\n              @click=\"gotoNextViolationPage\"\r\n          >\r\n            下一页\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 评价与投诉 -->\r\n    <div v-else-if=\"currentPage === 'user-feedback'\">\r\n      <div class=\"card\">\r\n        <h2 class=\"page-title\">评价与投诉</h2>\r\n        <p class=\"page-subtitle\">\r\n          可以对自习环境、规则执行情况进行评价，也可以提交投诉信息（示意表单）。\r\n        </p>\r\n\r\n        <div class=\"feedback-grid\">\r\n          <div class=\"feedback-column\">\r\n            <h3 class=\"section-title\">快速评价</h3>\r\n            <textarea\r\n                class=\"textarea\"\r\n                rows=\"4\"\r\n                placeholder=\"例如：环境安静、卫生良好、管理员服务态度不错等。\"\r\n            ></textarea>\r\n            <button class=\"primary-btn\">提交评价</button>\r\n          </div>\r\n          <div class=\"feedback-column\">\r\n            <h3 class=\"section-title\">投诉 / 建议</h3>\r\n            <textarea\r\n                class=\"textarea\"\r\n                rows=\"4\"\r\n                placeholder=\"请详细描述问题：发生时间、地点、涉及人员、具体情况等，以便管理员跟进处理。\"\r\n            ></textarea>\r\n            <button class=\"primary-btn\">提交投诉</button>\r\n          </div>\r\n        </div>\r\n\r\n        <p class=\"hint-text\">\r\n          示例页面不会真正发送数据到后端，接入接口后，按钮可触发实际提交逻辑。\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 个人中心 -->\r\n    <div v-else-if=\"currentPage === 'user-profile'\">\r\n      <div class=\"card full-page-card\">\r\n        <!-- 顶部用户信息区域 -->\r\n        <div class=\"user-header-section\">\r\n          <div class=\"user-info-header\">\r\n            <div class=\"user-info-left\">\r\n              <div class=\"user-profile-info\">\r\n                <!-- 这里显示后端来的姓名，没有就先叫“同学” -->\r\n                <h2 class=\"user-name\">\r\n                  {{ profileForm.name || '同学' }}\r\n                </h2>\r\n                <span class=\"user-role\">学生</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"header-actions\">\r\n              <!-- 预留退出登录按钮 -->\r\n              <!-- <button class=\"logout-btn\">退出登录</button> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 个人信息表单 -->\r\n        <div class=\"profile-content\">\r\n          <!-- 个人信息模块 -->\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">个人信息</h3>\r\n\r\n            <div class=\"form-group\">\r\n              <div class=\"form-grid\">\r\n                <!-- 左边：姓名 -->\r\n                <div class=\"form-item\">\r\n                  <label>姓名:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.name\"\r\n                  />\r\n                </div>\r\n                <!-- 右边：学号（student_no） -->\r\n                <div class=\"form-item\">\r\n                  <label>学号:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.studentNo\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <label>学院:</label>\r\n                  <select v-model=\"profileForm.college\">\r\n                    <option value=\"\">请选择学院</option>\r\n                    <option value=\"计算机学院\">计算机学院</option>\r\n                    <option value=\"信息工程学院\">信息工程学院</option>\r\n                    <option value=\"商学院\">商学院</option>\r\n                    <option value=\"法学院\">法学院</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <label>年级与班级:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.gradeClass\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 联系方式模块 -->\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">联系方式</h3>\r\n\r\n            <div class=\"form-grid\">\r\n              <div class=\"form-item\">\r\n                <label>手机号:</label>\r\n                <div class=\"input-with-action\">\r\n                  <input\r\n                      type=\"text\"\r\n                      v-model=\"profileForm.phone\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div class=\"form-item\">\r\n                <label>邮箱:</label>\r\n                <div class=\"input-with-action\">\r\n                  <input\r\n                      type=\"email\"\r\n                      v-model=\"profileForm.email\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 偏好设置模块 -->\r\n          <div class=\"form-section\">\r\n            <h3 class=\"section-title\">偏好设置</h3>\r\n\r\n            <div class=\"form-grid\">\r\n              <div class=\"form-item\">\r\n                <label>常用校区:</label>\r\n                <div class=\"radio-group\">\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"本部校区\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">本部校区</span>\r\n                  </label>\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"东校区\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">东校区</span>\r\n                  </label>\r\n                  <label class=\"radio-option\">\r\n                    <input\r\n                        type=\"radio\"\r\n                        value=\"梅山校区\"\r\n                        v-model=\"profileForm.commonCampus\"\r\n                    />\r\n                    <span class=\"radio-label\">梅山校区</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-item full-width\">\r\n                <label>备注信息:</label>\r\n                <textarea\r\n                    placeholder=\"例如：偏好图书馆、晚上时段较多、不擅长高数等\"\r\n                    v-model=\"profileForm.profileRemark\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 操作按钮 -->\r\n          <div class=\"profile-actions\">\r\n            <button\r\n                class=\"primary-btn\"\r\n                type=\"button\"\r\n                @click=\"handleProfileSave\"\r\n                :disabled=\"profileSaving\"\r\n            >\r\n              {{ profileSaving ? '保存中…' : '保存信息' }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppHome',\r\n  props: {\r\n    currentPage: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['change-page'],\r\n  data () {\r\n    return {\r\n      // 场地（地点）列表\r\n      reserveVenues: ['本部 · 图书馆 301', '本部 · 图书馆 401', '东校区 · 教学楼 3 楼'],\r\n      reserveVenueIndex: 0,\r\n\r\n      // 日期相关\r\n      dateList: [],\r\n      visibleStart: 0,\r\n      visibleCount: 7, // 一屏展示多少天\r\n      currentDateIndex: 0,\r\n\r\n      // 时间段列表（0 点~24 点）\r\n      timeSlots: [],\r\n\r\n      // 后端返回的“已满时段”（id 列表，例如 [8,9,14]）\r\n      disabledSlotIds: [],\r\n\r\n      // 已选时段（最多 4 个）\r\n      selectedSlots: [],\r\n\r\n      // 是否只展示“可预约”的时段\r\n      onlyShowAvailable: false,\r\n\r\n      // 房间 id 映射（按顺序和 reserveVenues 对应）\r\n      roomIds: [1, 2, 3], // 换成你 room 表里的真实 id\r\n\r\n      // 当前登录用户 id（从登录时存的用户信息里读）\r\n      currentUserId: null,\r\n\r\n      // 我的预约列表\r\n      myReservations: [],\r\n\r\n      // 我的预约分页\r\n      pageSize: 15,\r\n      reservationPageIndex: 1,\r\n\r\n      // 违规记录相关\r\n      myViolations: [],        // 后端拉回来的完整违规列表\r\n      violationPageIndex: 1,   // 当前违规页码\r\n      violationPageSize: 15,    // 每页 15 条\r\n\r\n      // 个人中心表单数据\r\n      profileForm: {\r\n        name: '',          // 姓名\r\n        account: '',       // 登录账号\r\n        studentNo: '',     // 学号\r\n        college: '',\r\n        gradeClass: '',\r\n        phone: '',\r\n        email: '',\r\n        commonCampus: '',\r\n        profileRemark: ''\r\n      },\r\n      profileLoading: false,\r\n      profileSaving: false,\r\n\r\n      // 首页 - 天气、金句、快捷反馈\r\n      weatherData: null,       // 天气数据对象\r\n      dailyQuote: '',          // 今日一句话\r\n      openFeedback: false,     // 右下角快捷评价浮层是否打开\r\n      scoreRate: 0.96,         // 信用分进度条占比（0~1），先写死，后面你可以按实际信用分改\r\n\r\n      // 放一个函数在 data 里也没问题，模板中可以直接调用\r\n      emojiWeather: function (desc) {\r\n        if (!desc) return '⛅'\r\n        if (desc.includes('雨')) return '🌧️'\r\n        if (desc.includes('云')) return '⛅'\r\n        if (desc.includes('晴')) return '☀️'\r\n        if (desc.includes('雪')) return '❄️'\r\n        return '⛅'\r\n      },\r\n\r\n      // 首页底部的随机一句话\r\n      quotes: [\r\n        '代码写完要多测试，bug 总会在你最不想看到它的时候出现。',\r\n        '保持自律的最好方式，就是给自己设一个很清晰的小目标。',\r\n        '信用记录就像存钱罐，一点一滴都在累积你的形象。',\r\n        '早点到教室，晚点离开，安静的自习室会给你额外的安全感。',\r\n        '学习是场马拉松，保持节奏比短时间爆发更重要。'\r\n      ],\r\n    }\r\n  },\r\n  computed: {\r\n    visibleDates () {\r\n      return this.dateList\r\n          .slice(this.visibleStart, this.visibleStart + this.visibleCount)\r\n          .map((d, idx) => ({\r\n            ...d,\r\n            index: this.visibleStart + idx\r\n          }))\r\n    },\r\n    canMovePrev () {\r\n      return this.visibleStart > 0\r\n    },\r\n    canMoveNext () {\r\n      return this.visibleStart + this.visibleCount < this.dateList.length\r\n    },\r\n    currentVenueName () {\r\n      return this.reserveVenues[this.reserveVenueIndex] || ''\r\n    },\r\n    // 当前选中的日期完整文本（用于右侧概要）\r\n    currentDateLabel () {\r\n      const cur = this.dateList[this.currentDateIndex]\r\n      return cur ? cur.fullLabel : ''\r\n    },\r\n    // 根据开关过滤时间段列表\r\n    filteredTimeSlots () {\r\n      if (!this.onlyShowAvailable) {\r\n        return this.timeSlots\r\n      }\r\n      // 只展示“可预约”的时段\r\n      return this.timeSlots.filter(slot => this.slotState(slot) === 'available')\r\n    },\r\n    // 当前房间 id\r\n    currentRoomId () {\r\n      return this.roomIds[this.reserveVenueIndex]\r\n    },\r\n    // 后端需要 yyyy-MM-dd 格式的日期字符串\r\n    currentDateStr () {\r\n      const cur = this.dateList[this.currentDateIndex]\r\n      // 我们在 initDates 里已经生成了 fullLabel = '2025-12-13'\r\n      return cur ? cur.fullLabel : null\r\n    },\r\n    // 总页数\r\n    totalPages () {\r\n      if (!this.myReservations.length) return 0\r\n      return Math.ceil(this.myReservations.length / this.pageSize)\r\n    },\r\n    // 当前页要展示的 15 条\r\n    pagedReservations () {\r\n      if (!this.myReservations.length) return []\r\n      const total = this.totalPages || 1\r\n      const page = Math.min(this.reservationPageIndex, total)\r\n      const start = (page - 1) * this.pageSize\r\n      const end = start + this.pageSize\r\n      return this.myReservations.slice(start, end)\r\n    },\r\n    violationTotalPages () {\r\n      if (!this.myViolations.length) return 0\r\n      return Math.ceil(this.myViolations.length / this.violationPageSize)\r\n    },\r\n    pagedViolations () {\r\n      if (!this.myViolations.length) return []\r\n      const total = this.violationTotalPages || 1\r\n      const page = Math.min(this.violationPageIndex, total)\r\n      const start = (page - 1) * this.violationPageSize\r\n      const end = start + this.violationPageSize\r\n      return this.myViolations.slice(start, end)\r\n    },\r\n    // 首页问候：今天日期、星期几、时间段问候语\r\n    todayStr () {\r\n      const d = new Date()\r\n      return `${d.getMonth() + 1} 月 ${d.getDate()} 日`\r\n    },\r\n    weekDayStr () {\r\n      const list = ['日', '一', '二', '三', '四', '五', '六']\r\n      return '星期' + list[new Date().getDay()]\r\n    },\r\n    timeGreeting () {\r\n      const h = new Date().getHours()\r\n      if (h < 11) return '上午好'\r\n      if (h < 14) return '中午好'\r\n      if (h < 19) return '下午好'\r\n      return '晚上好'\r\n    },\r\n  },\r\n  created () {\r\n    // 初始化时间段、日期\r\n    this.timeSlots = this.buildTimeSlots()\r\n    this.initDates()\r\n\r\n    // 读取当前登录用户：从 localStorage 的 ssrmsUser 里取\r\n    const raw = localStorage.getItem('ssrmsUser')\r\n    if (raw) {\r\n      try {\r\n        const user = JSON.parse(raw)\r\n        console.log('localStorage ssrmsUser = ', user)\r\n\r\n        // ⭐ 先把 currentUserId 和表单都用本地数据填上\r\n        this.currentUserId = user.id  // 如果你登录返回的是 user.userId，这里就改成 user.userId\r\n\r\n        this.profileForm = {\r\n          name: user.name || '',\r\n          account: user.account || '',          // 登录账号\r\n          studentNo: user.studentNo || '',      // 学号\r\n          college: user.college || '',\r\n          gradeClass: user.gradeClass || '',\r\n          phone: user.phone || '',\r\n          email: user.email || '',\r\n          commonCampus: user.commonCampus || '',\r\n          profileRemark: user.profileRemark || ''\r\n        }\r\n\r\n        // ⭐ 再去请求后端，拿“最新”的一份覆盖\r\n        this.loadUserProfile()\r\n      } catch (e) {\r\n        console.error('解析 ssrmsUser 失败', e)\r\n      }\r\n    } else {\r\n      console.warn('localStorage 里没有 ssrmsUser')\r\n    }\r\n\r\n    // 初始化完后拉一次当前选中日期（“明天”）的占用情况\r\n    this.fetchSlotStatus()\r\n  },\r\n  methods: {\r\n    emitChange (page) {\r\n      this.$emit('change-page', page)\r\n    },\r\n\r\n    // 点击场地 tab\r\n    handleVenueClick (index) {\r\n      this.reserveVenueIndex = index\r\n      this.fetchSlotStatus()\r\n    },\r\n\r\n    buildTimeSlots () {\r\n      const list = []\r\n\r\n      // 👉 这里控制开放的时间段\r\n      // startHour：第一个时段的开始小时\r\n      // endHour：最后一个时段的开始小时\r\n      // 下面这个例子：从 08:00-09:00 一直到 22:00-23:00\r\n      const startHour = 8   // 08:00\r\n      const endHour = 22    // 22:00\r\n\r\n      for (let h = startHour; h <= endHour; h++) {\r\n        const next = h + 1\r\n        const id = String(h)   // 仍然用小时当作 slotId，和后端保持一致\r\n\r\n        const range =\r\n            `${h.toString().padStart(2, '0')}:00 - ` +\r\n            `${next.toString().padStart(2, '0')}:00`\r\n\r\n        const label =\r\n            (h % 12 === 0 ? 12 : h % 12) +\r\n            ': 00 ' +\r\n            (h < 12 ? 'AM' : 'PM')\r\n\r\n        list.push({\r\n          id,\r\n          label,\r\n          range\r\n        })\r\n      }\r\n\r\n      return list\r\n    },\r\n\r\n    // 生成接下来 14 天的日期条（从“明天”开始）\r\n    initDates () {\r\n      const today = new Date()\r\n      const list = []\r\n      const weekdays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n\r\n      for (let i = 0; i < 14; i++) {\r\n        // ⭐ 这里加 1，表示从“明天”开始\r\n        const d = new Date(today)\r\n        d.setDate(d.getDate() + i + 1)\r\n\r\n        const month = d.getMonth() + 1\r\n        const day = d.getDate()\r\n        const fullLabel =\r\n            `${d.getFullYear()}-${month.toString().padStart(2, '0')}-` +\r\n            `${day.toString().padStart(2, '0')}`\r\n\r\n        list.push({\r\n          key: i,   // 用 0~13 当 key 就够了\r\n          year: d.getFullYear(),\r\n          month,\r\n          day,\r\n          weekday: weekdays[d.getDay()],\r\n          monthLabel: `${d.getFullYear()}-${month.toString().padStart(2, '0')}`,\r\n          isToday: false,        // ⭐ 不再有“今天”\r\n          isTomorrow: i === 0,   // ⭐ 第一张标记为“明天”\r\n          fullLabel\r\n        })\r\n      }\r\n\r\n      this.dateList = list\r\n      this.visibleStart = 0\r\n      this.currentDateIndex = 0   // ⭐ 默认选中第一天（也就是“明天”）\r\n    },\r\n\r\n    moveDates (direction) {\r\n      if (direction === 'prev' && this.canMovePrev) {\r\n        this.visibleStart -= 1\r\n      } else if (direction === 'next' && this.canMoveNext) {\r\n        this.visibleStart += 1\r\n      }\r\n    },\r\n\r\n    // 点击日期\r\n    selectDate (index) {\r\n      this.currentDateIndex = index\r\n      this.fetchSlotStatus()\r\n    },\r\n\r\n    buildKey (dateIndex, slotId) {\r\n      return `${dateIndex}-${slotId}`\r\n    },\r\n\r\n    // 当前时段是可预约 / 已选 / 不可预约\r\n    slotState (slot) {\r\n      if (this.disabledSlotIds.includes(slot.id)) {\r\n        return 'disabled'\r\n      }\r\n      const key = this.buildKey(this.currentDateIndex, slot.id)\r\n      const exists = this.selectedSlots.some(item => item.key === key)\r\n      if (exists) {\r\n        return 'selected'\r\n      }\r\n      return 'available'\r\n    },\r\n\r\n    slotClass (slot) {\r\n      const state = this.slotState(slot)\r\n      return {\r\n        'slot-available': state === 'available',\r\n        'slot-disabled': state === 'disabled',\r\n        'slot-selected': state === 'selected'\r\n      }\r\n    },\r\n\r\n    // 点击时段：选中 / 取消\r\n    toggleSlot (slot) {\r\n      if (this.slotState(slot) === 'disabled') {\r\n        return\r\n      }\r\n      const key = this.buildKey(this.currentDateIndex, slot.id)\r\n      const index = this.selectedSlots.findIndex(item => item.key === key)\r\n      if (index !== -1) {\r\n        this.selectedSlots.splice(index, 1)\r\n        return\r\n      }\r\n      if (this.selectedSlots.length >= 4) {\r\n        alert('最多只能选择 4 个预约时段')\r\n        return\r\n      }\r\n      const dateInfo = this.dateList[this.currentDateIndex]\r\n      const dateLabel = dateInfo.fullLabel\r\n      this.selectedSlots.push({\r\n        key,\r\n        dateIndex: this.currentDateIndex,\r\n        dateLabel,\r\n        slot\r\n      })\r\n    },\r\n\r\n    removeSelected (key) {\r\n      const index = this.selectedSlots.findIndex(item => item.key === key)\r\n      if (index !== -1) {\r\n        this.selectedSlots.splice(index, 1)\r\n      }\r\n    },\r\n\r\n    resetSelections () {\r\n      this.selectedSlots = []\r\n    },\r\n\r\n    // 提交预约：调用后端 /reservation/create\r\n    async submitReservations () {\r\n      if (!this.selectedSlots.length) return\r\n\r\n      if (!this.currentUserId) {\r\n        alert('请先登录后再预约')\r\n        return\r\n      }\r\n\r\n      const slotIds = this.selectedSlots.map(item => Number(item.slot.id))\r\n\r\n      try {\r\n        const resp = await this.$axios.post('/reservation/create', {\r\n          userId: this.currentUserId, // 先直接传，之后可以改成后端从登录态获取\r\n          roomId: this.currentRoomId,\r\n          date: this.currentDateStr,\r\n          slotIds\r\n        })\r\n\r\n        const result = resp.data\r\n        if (result.code && result.code !== 200) {\r\n          alert(result.msg || '预约失败')\r\n          return\r\n        }\r\n\r\n        alert('预约成功')\r\n        // 清空选择\r\n        this.selectedSlots = []\r\n        // 重新拉一遍时段状态，刷新灰色/可选状态\r\n        await this.fetchSlotStatus()\r\n        // 保留原来的行为：预约后跳到“我的预约”\r\n        this.emitChange('user-reservations')\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('预约失败，服务器异常')\r\n      }\r\n    },\r\n\r\n    // 从后端拉取某房间某天的“已满时段”\r\n    async fetchSlotStatus () {\r\n      // 房间或日期还没准备好就先不调\r\n      if (!this.currentRoomId || !this.currentDateStr) return\r\n\r\n      try {\r\n        const resp = await this.$axios.get('/reservation/slots', {\r\n          params: {\r\n            roomId: this.currentRoomId,\r\n            date: this.currentDateStr\r\n          }\r\n        })\r\n\r\n        const result = resp.data\r\n        const dto = result.data || {}\r\n        // 后端返回的是 [8,9,14] 这样，我们前端用字符串 id\r\n        this.disabledSlotIds = (dto.disabledSlotIds || []).map(id => String(id))\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('获取时段状态失败')\r\n      }\r\n    },\r\n\r\n    // 把后端返回的预约列表加载到表格\r\n    async loadMyReservations () {\r\n      // 确保有 currentUserId，没有的话再尝试从 localStorage 读一次\r\n      if (!this.currentUserId) {\r\n        const raw = localStorage.getItem('ssrmsUser')\r\n        if (raw) {\r\n          try {\r\n            const user = JSON.parse(raw)\r\n            this.currentUserId = user.id   // 如果主键叫 userId，就改成 user.userId\r\n          } catch (e) {\r\n            console.error(e)\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this.currentUserId) return\r\n\r\n      // ⭐ 关键：先让后端刷新一次“未签到”状态\r\n      await this.refreshNoShowStatus()\r\n\r\n      try {\r\n        const resp = await this.$axios.get('/reservation/my', {\r\n          params: { userId: this.currentUserId }\r\n        })\r\n        const result = resp.data\r\n        const list = Array.isArray(result.data) ? result.data.slice() : []\r\n\r\n        // 日期升序，同一天按开始时间升序\r\n        list.sort((a, b) => {\r\n          const da = a.date || ''\r\n          const db = b.date || ''\r\n          if (da !== db) {\r\n            // 日期升序\r\n            return da.localeCompare(db)\r\n          }\r\n          const ta = a.startTime || ''\r\n          const tb = b.startTime || ''\r\n          // 同一天时间升序\r\n          return ta.localeCompare(tb)\r\n        })\r\n\r\n        this.myReservations = list\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('加载预约列表失败')\r\n      }\r\n    },\r\n\r\n    // 把 startTime / endTime 拼成 “HH:mm-HH:mm”\r\n    formatTimeRange (item) {\r\n      const s = (item.startTime || '').slice(0, 5)\r\n      const e = (item.endTime || '').slice(0, 5)\r\n      return s && e ? `${s}-${e}` : ''\r\n    },\r\n\r\n    // 把后端状态英文转成中文文案\r\n    renderStatusText (status) {\r\n      switch (status) {\r\n        case 'reserved':\r\n          return '待签到'\r\n        case 'checked_in':\r\n          return '已签到'\r\n        case 'late':\r\n          return '迟到'\r\n        case 'no_show':\r\n          return '未签到'\r\n        case 'cancelled':\r\n          return '已取消'\r\n        case 'cancel_overdue':\r\n          return '逾期取消'\r\n        default:\r\n          return status || ''\r\n      }\r\n    },\r\n\r\n    // 根据状态决定徽标颜色（先留好钩子，样式后面想美化再改）\r\n    statusClass (status) {\r\n      return {\r\n        'badge-pending': status === 'reserved',\r\n        'badge-done': status === 'checked_in',\r\n        'badge-late': status === 'late',\r\n        'badge-missed': status === 'no_show',\r\n        'badge-cancelled': status === 'cancelled',\r\n        'badge-cancel-overdue': status === 'cancel_overdue'\r\n      }\r\n    },\r\n\r\n    gotoPrevPage () {\r\n      if (this.reservationPageIndex > 1) {\r\n        this.reservationPageIndex--\r\n      }\r\n    },\r\n\r\n    gotoNextPage () {\r\n      if (this.reservationPageIndex < this.totalPages) {\r\n        this.reservationPageIndex++\r\n      }\r\n    },\r\n\r\n    // 签到\r\n    async handleCheckIn (item) {\r\n      try {\r\n        const resp = await this.$axios.post(`/reservation/checkin/${item.id}`)\r\n        const result = resp.data\r\n        if (result.code && result.code !== 200) {\r\n          alert(result.msg || '签到失败')\r\n          return\r\n        }\r\n        alert(result.msg || '签到成功')\r\n        // 重新刷新列表和占用情况\r\n        await this.loadMyReservations()\r\n        // 如果你希望“我要预约”那边也立即刷新占用，可以顺带：\r\n        // await this.fetchSlotStatus()\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('签到失败，服务器异常')\r\n      }\r\n    },\r\n\r\n    // 取消预约\r\n    async handleCancel (item) {\r\n      // 前端再保险一次 10 分钟规则\r\n      if (!this.canCancel(item)) {\r\n        alert('距离开始不足 10 分钟，无法取消，请联系管理员处理')\r\n        return\r\n      }\r\n\r\n      const ok = window.confirm(`确定要取消本次预约（${item.date} ${this.formatTimeRange(item)}）吗？`)\r\n      if (!ok) {\r\n        return\r\n      }\r\n\r\n      try {\r\n        const resp = await this.$axios.post(`/reservation/cancel/${item.id}`)\r\n        const result = resp.data || {}\r\n\r\n        // 这里按你的 Result 约定来，如果后端是 code === 200 代表成功就保留这一句\r\n        if (result.code && result.code !== 200) {\r\n          alert(result.msg || '取消失败')\r\n          return\r\n        }\r\n\r\n        // 后端会根据规则把状态改成 cancelled 或 cancel_overdue\r\n        alert(result.msg || '取消成功')\r\n\r\n        // 重新加载预约列表\r\n        await this.loadMyReservations()\r\n        // 释放座位后，顺便刷新一下“我要预约”页面的占用情况\r\n        await this.fetchSlotStatus()\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('取消失败，服务器异常')\r\n      }\r\n    },\r\n\r\n    // 是否允许取消：只拦“开始前 10 分钟”的情况\r\n    canCancel (item) {\r\n      if (item.status !== 'reserved') return false\r\n      if (!item.date || !item.startTime) return false\r\n\r\n      try {\r\n        // date 例如 '2025-12-22'，startTime 例如 '01:00:00'\r\n        const startStr = item.date + 'T' + (item.startTime || '').slice(0, 8)\r\n        const start = new Date(startStr)\r\n        if (isNaN(start.getTime())) {\r\n          // 解析失败就不在前端拦，交给后端判断\r\n          return true\r\n        }\r\n        const now = new Date()\r\n        const diffMs = start.getTime() - now.getTime()\r\n        const tenMinutes = 10 * 60 * 1000\r\n\r\n        // diffMs > 10 分钟 ⇒ 可以取消\r\n        return diffMs > tenMinutes\r\n      } catch (e) {\r\n        console.error(e)\r\n        // 出异常直接放行，交给后端\r\n        return true\r\n      }\r\n    },\r\n    // 进入“我的预约”前，先让后台把已过期的预约批量标记为未签到\r\n    async refreshNoShowStatus () {\r\n      // 确保 currentUserId 有值\r\n      if (!this.currentUserId) {\r\n        const raw = localStorage.getItem('ssrmsUser')\r\n        if (raw) {\r\n          try {\r\n            const user = JSON.parse(raw)\r\n            this.currentUserId = user.id   // 如果你用的是 userId，就改成 user.userId\r\n          } catch (e) {\r\n            console.error(e)\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this.currentUserId) return\r\n\r\n      try {\r\n        const resp = await this.$axios.post('/reservation/refreshNoShow', null, {\r\n          params: { userId: this.currentUserId }\r\n        })\r\n        const result = resp.data || {}\r\n        const updated = typeof result.data === 'number' ? result.data : 0\r\n\r\n        // 有新被标记为“未签到”的记录，再提醒一次\r\n        if (updated > 0) {\r\n          alert(`有 ${updated} 条已过期但未签到的预约，系统已自动标记为“未签到”，请留意信用分变化。`)\r\n        }\r\n      } catch (e) {\r\n        console.error(e)\r\n        // 这里不强制报错给用户，避免影响列表加载\r\n      }\r\n    },\r\n    async loadMyViolations () {\r\n      // 和 loadMyReservations 一样，先确保有 currentUserId\r\n      if (!this.currentUserId) {\r\n        const raw = localStorage.getItem('ssrmsUser')\r\n        if (raw) {\r\n          try {\r\n            const user = JSON.parse(raw)\r\n            this.currentUserId = user.id\r\n          } catch (e) {\r\n            console.error(e)\r\n          }\r\n        }\r\n      }\r\n      if (!this.currentUserId) return\r\n\r\n      try {\r\n        // 先让后端更新一次未签到状态\r\n        await this.refreshNoShowStatus()\r\n\r\n        const resp = await this.$axios.get('/reservation/violations', {\r\n          params: { userId: this.currentUserId }\r\n        })\r\n        const result = resp.data\r\n        const list = Array.isArray(result.data) ? result.data.slice() : []\r\n\r\n        // 这里后端已经按日期倒序 + 时间升序排过了，也可以再按你想要的顺序排一次\r\n        this.myViolations = list\r\n        this.violationPageIndex = 1   // 每次加载回到第一页\r\n      } catch (e) {\r\n        console.error(e)\r\n        alert('加载违规记录失败')\r\n      }\r\n    },\r\n\r\n    gotoPrevViolationPage () {\r\n      if (this.violationPageIndex > 1) {\r\n        this.violationPageIndex--\r\n      }\r\n    },\r\n\r\n    gotoNextViolationPage () {\r\n      if (this.violationPageIndex < this.violationTotalPages) {\r\n        this.violationPageIndex++\r\n      }\r\n    },\r\n\r\n    // 加载个人信息\r\n    async loadUserProfile () {\r\n      // 先确保 currentUserId 有值\r\n      if (!this.currentUserId) {\r\n        const raw = localStorage.getItem('ssrmsUser')\r\n        if (raw) {\r\n          try {\r\n            const user = JSON.parse(raw)\r\n            // 登录时返回的就是 User，所以这里取 id 就行\r\n            this.currentUserId = user.id\r\n          } catch (e) {\r\n            console.error(e)\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!this.currentUserId) {\r\n        console.warn('currentUserId 为空，无法加载个人信息')\r\n        return\r\n      }\r\n\r\n      this.profileLoading = true\r\n      try {\r\n        // ✅ 和你后端一致：@RequestParam Integer userId\r\n        const resp = await this.$axios.get('/user/profile', {\r\n          params: { userId: this.currentUserId }\r\n        })\r\n\r\n        const result = resp.data || {}\r\n        console.log('GET /user/profile 返回：', result)\r\n\r\n        // 兼容两种写法：\r\n        // 1）{ code, msg, data: { ...user } }\r\n        // 2）直接就是 { id, name, ... }（万一以后你改 Result）\r\n        const u = result.data || result\r\n        if (!u || !u.id) {\r\n          console.error('加载个人信息失败：', result.msg || '返回数据为空')\r\n          return\r\n        }\r\n\r\n        // 和实体字段一一对应\r\n        this.profileForm = {\r\n          name: u.name || '',\r\n          account: u.account || '',\r\n          studentNo: u.studentNo || '',\r\n          college: u.college || '',\r\n          gradeClass: u.gradeClass || '',\r\n          phone: u.phone || '',\r\n          email: u.email || '',\r\n          commonCampus: u.commonCampus || '',\r\n          profileRemark: u.profileRemark || ''\r\n        }\r\n      } catch (e) {\r\n        console.error('请求 /user/profile 失败', e)\r\n      } finally {\r\n        this.profileLoading = false\r\n      }\r\n    },\r\n\r\n    // 保存个人信息\r\n    async handleProfileSave () {\r\n      if (!this.currentUserId) {\r\n        alert('当前用户信息缺失，请重新登录后再试')\r\n        return\r\n      }\r\n\r\n      this.profileSaving = true\r\n      try {\r\n        const payload = {\r\n          id: this.currentUserId,\r\n          name: this.profileForm.name,\r\n          college: this.profileForm.college,\r\n          gradeClass: this.profileForm.gradeClass,\r\n          phone: this.profileForm.phone,\r\n          email: this.profileForm.email,\r\n          commonCampus: this.profileForm.commonCampus,\r\n          profileRemark: this.profileForm.profileRemark,\r\n          studentNo: this.profileForm.studentNo\r\n        }\r\n\r\n        const resp = await this.$axios.post('/user/profile', payload)\r\n        const result = resp.data || {}\r\n\r\n        if (result.code === 200) {\r\n          alert('保存成功')\r\n\r\n          // 顺便更新 localStorage 里的 ssrmsUser，让其他页面也用到最新信息\r\n          const raw = localStorage.getItem('ssrmsUser')\r\n          if (raw) {\r\n            try {\r\n              const user = JSON.parse(raw)\r\n              Object.assign(user, payload)\r\n              localStorage.setItem('ssrmsUser', JSON.stringify(user))\r\n            } catch (e) {\r\n              console.error(e)\r\n            }\r\n          }\r\n        } else {\r\n          alert(result.msg || '保存失败')\r\n        }\r\n      } catch (e) {\r\n        console.error('请求 /user/profile 失败', e)\r\n        alert('保存失败，请稍后重试')\r\n      } finally {\r\n        this.profileSaving = false\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    currentPage (newVal) {\r\n      if (newVal === 'user-reservations') {\r\n        this.loadMyReservations()\r\n      }\r\n      if (newVal === 'user-reserve') {\r\n        this.fetchSlotStatus()\r\n      }\r\n      if (newVal === 'user-violations') {\r\n        this.loadMyViolations()\r\n      }\r\n      if (newVal === 'user-profile') {\r\n        this.loadUserProfile()\r\n      }\r\n    },\r\n    myReservations () {\r\n      this.reservationPageIndex = 1\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n  flex: 1;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* 首页外层容器，拉满右侧高度 */\r\n.home-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* 通用卡片样式 */\r\n.card {\r\n  background-color: #ffffff;\r\n  padding: 22px 24px;\r\n  margin-bottom: 16px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);\r\n  border: 1px solid #e5e7eb;\r\n}\r\n\r\n/* 首页这张大卡片要撑满高度 */\r\n.home-card {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.page-title {\r\n  font-size: 24px;\r\n  margin: 0 0 10px 0;\r\n  color: #111827;\r\n}\r\n\r\n.page-subtitle {\r\n  font-size: 15px;\r\n  color: #6b7280;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n/* 首页上半部分：欢迎文案 */\r\n.home-top {\r\n  display: flex;\r\n  align-items: stretch;\r\n  gap: 24px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.home-intro {\r\n  flex: 1.3;\r\n}\r\n\r\n.overview-wrapper {\r\n  margin-top: 8px;\r\n}\r\n\r\n.home-tagline {\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n  margin-top: 6px;\r\n}\r\n.home-tagline strong {\r\n  color: #2563eb;\r\n}\r\n\r\n/* 今日概况卡片：统一为白色卡片背景 */\r\n.home-panel {\r\n  border-radius: 12px;\r\n  padding: 16px 18px;\r\n  background-color: #ffffff;\r\n  border: 1px solid #e5e7eb;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.04);\r\n  color: #111827;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n.home-panel-title {\r\n  font-size: 14px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.home-panel-number {\r\n  font-size: 26px;\r\n  font-weight: 600;\r\n  margin: 6px 0 2px;\r\n}\r\n\r\n.home-panel-desc {\r\n  font-size: 13px;\r\n  opacity: 0.95;\r\n}\r\n\r\n.home-panel-footer {\r\n  font-size: 12px;\r\n  opacity: 0.88;\r\n  margin-top: 8px;\r\n}\r\n.home-panel-footer span {\r\n  font-weight: 500;\r\n}\r\n\r\n/* 我要预约页面 */\r\n.reserve-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.reserve-header {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.venue-tabs {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.venue-tab {\r\n  border-radius: 999px;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #f9fafb;\r\n  padding: 6px 16px;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  color: #4b5563;\r\n}\r\n.venue-tab.active {\r\n  background-color: #eef2ff;\r\n  border-color: #6366f1;\r\n  color: #3730a3;\r\n  font-weight: 600;\r\n}\r\n\r\n.date-strip {\r\n  display: flex;\r\n  align-items: stretch;\r\n  gap: 8px;\r\n}\r\n\r\n.date-arrow {\r\n  border-radius: 8px;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #f9fafb;\r\n  width: 32px;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n}\r\n.date-arrow:disabled {\r\n  opacity: 0.4;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.date-list {\r\n  flex: 1;\r\n  display: flex;\r\n  overflow-x: auto;\r\n  gap: 8px;\r\n}\r\n\r\n.date-item {\r\n  min-width: 110px;\r\n  border-radius: 10px;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #ffffff;\r\n  padding: 6px 10px;\r\n  text-align: left;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  color: #4b5563;\r\n}\r\n.date-item.active {\r\n  border-color: #6366f1;\r\n  background-color: #eef2ff;\r\n  color: #3730a3;\r\n}\r\n\r\n.date-month {\r\n  font-size: 11px;\r\n  opacity: 0.8;\r\n}\r\n\r\n.date-day-row {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 6px;\r\n}\r\n\r\n.date-day-number {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.date-weekday {\r\n  font-size: 12px;\r\n}\r\n\r\n.date-extra {\r\n  font-size: 11px;\r\n  color: #2563eb;\r\n  margin-top: 2px;\r\n}\r\n\r\n.reserve-legend {\r\n  margin-top: 8px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  display: flex;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.legend-item {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.legend-dot {\r\n  width: 12px;\r\n  height: 6px;\r\n  border-radius: 6px;\r\n}\r\n\r\n.legend-available {\r\n  background-color: #bbf7d0;\r\n}\r\n.legend-disabled {\r\n  background-color: #e5e7eb;\r\n}\r\n.legend-selected {\r\n  background-color: #bfdbfe;\r\n}\r\n\r\n/* 时段卡片 */\r\n.slot-grid {\r\n  margin-top: 12px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 10px;\r\n}\r\n\r\n.slot-item {\r\n  border-radius: 10px;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 10px 8px;\r\n  text-align: left;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.slot-time {\r\n  font-size: 13px;\r\n  margin-bottom: 4px;\r\n}\r\n.slot-range {\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n.slot-available {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.slot-disabled {\r\n  background-color: #e5e7eb;\r\n  color: #9ca3af;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.slot-selected {\r\n  background-color: #4f46e5;\r\n  color: #ffffff;\r\n  border-color: #4338ca;\r\n}\r\n.slot-selected .slot-range {\r\n  color: #e0e7ff;\r\n}\r\n\r\n.reserve-bottom {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.selected-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.selected-tag {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  border-radius: 8px;\r\n  background-color: #e0e7ff;\r\n  padding: 6px 8px;\r\n  font-size: 12px;\r\n  color: #3730a3;\r\n}\r\n\r\n.selected-tag-main {\r\n  margin-right: 4px;\r\n}\r\n\r\n.selected-tag-close {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n.reserve-submit {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n/* 公共表格样式 */\r\n\r\n.table-wrapper {\r\n  margin-top: 12px;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  border: 1px solid #e5e7eb;\r\n}\r\n\r\n.table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: 13px;\r\n}\r\n\r\n.table th,\r\n.table td {\r\n  padding: 10px 12px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.table th {\r\n  background-color: #f3f4f6;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: #374151;\r\n}\r\n\r\n.table tr:nth-child(even) td {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.link-btn {\r\n  border: none;\r\n  background: transparent;\r\n  color: #2563eb;\r\n  font-size: 13px;\r\n  cursor: pointer;\r\n  margin-left: 6px;\r\n}\r\n\r\n.link-btn[disabled] {\r\n  color: #9ca3af;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.link-danger {\r\n  color: #dc2626;\r\n}\r\n\r\n/* 信用分 */\r\n\r\n.credit-summary {\r\n  margin-top: 6px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.credit-score {\r\n  font-size: 15px;\r\n  color: #111827;\r\n}\r\n\r\n.score-number {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #16a34a;\r\n}\r\n\r\n/* 评价与投诉 */\r\n\r\n.feedback-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\r\n  gap: 16px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.feedback-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.section-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.textarea {\r\n  border-radius: 10px;\r\n  border: 1px solid #d1d5db;\r\n  padding: 8px 10px;\r\n  resize: vertical;\r\n  font-size: 13px;\r\n}\r\n\r\n/* 个人中心 */\r\n\r\n.profile-form {\r\n  margin-top: 12px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.form-row {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n  gap: 12px;\r\n}\r\n\r\n.form-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  font-size: 13px;\r\n}\r\n\r\n.form-item label {\r\n  margin-bottom: 4px;\r\n  color: #4b5563;\r\n}\r\n\r\n.form-item input,\r\n.form-item select {\r\n  border-radius: 8px;\r\n  border: 1px solid #d1d5db;\r\n  padding: 6px 10px;\r\n  font-size: 13px;\r\n  outline: none;\r\n}\r\n\r\n.form-item input:focus,\r\n.form-item select:focus {\r\n  border-color: #2563eb;\r\n}\r\n\r\n.profile-actions {\r\n  margin-top: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n/* 通用按钮和提示 */\r\n\r\n.primary-btn {\r\n  padding: 8px 18px;\r\n  border-radius: 999px;\r\n  border: none;\r\n  outline: none;\r\n  background-color: #2563eb;\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n}\r\n\r\n.primary-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.badge {\r\n  display: inline-block;\r\n  padding: 2px 8px;\r\n  border-radius: 999px;\r\n  font-size: 11px;\r\n  background-color: #e0e7ff;\r\n  color: #3730a3;\r\n}\r\n\r\n.hint-text {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  margin-top: 8px;\r\n}\r\n\r\n/* ===========================\r\n   我要预约页面样式（美化）\r\n   =========================== */\r\n\r\n.reserve-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n}\r\n\r\n/* 顶部：标题 + 概要卡片 */\r\n.reserve-header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 24px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.reserve-header-left {\r\n  flex: 1;\r\n}\r\n\r\n.reserve-summary-box {\r\n  width: 260px;\r\n  padding: 12px 14px;\r\n  border-radius: 14px;\r\n  background: linear-gradient(135deg, #eef2ff, #f5f7ff);\r\n  border: 1px solid #e0e7ff;\r\n  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.04);\r\n  font-size: 13px;\r\n}\r\n\r\n.summary-title {\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.summary-main {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.summary-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.summary-label {\r\n  color: #6b7280;\r\n}\r\n\r\n.summary-value {\r\n  color: #111827;\r\n  font-weight: 500;\r\n  text-align: right;\r\n}\r\n\r\n.summary-empty {\r\n  color: #9ca3af;\r\n  font-weight: 400;\r\n}\r\n\r\n/* 场地 tabs + 开关 */\r\n.reserve-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n  margin-top: 2px;\r\n}\r\n\r\n.venue-tabs {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.venue-tab {\r\n  padding: 6px 14px;\r\n  border-radius: 999px;\r\n  border: 1px solid #e5e7eb;\r\n  background-color: #fff;\r\n  font-size: 13px;\r\n  color: #374151;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.venue-tab:hover {\r\n  border-color: #93c5fd;\r\n  background-color: #eff6ff;\r\n}\r\n\r\n.venue-tab.active {\r\n  border-color: #2563eb;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n  box-shadow: 0 6px 14px rgba(37, 99, 235, 0.25);\r\n}\r\n\r\n.reserve-toolbar-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.switch-label {\r\n  white-space: nowrap;\r\n}\r\n\r\n/* 日期条 */\r\n.date-strip {\r\n  margin-top: 6px;\r\n  padding: 10px 12px;\r\n  border-radius: 14px;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  align-items: stretch;\r\n  gap: 8px;\r\n}\r\n\r\n.date-arrow {\r\n  width: 32px;\r\n  border-radius: 10px;\r\n  border: none;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);\r\n  font-size: 18px;\r\n  color: #4b5563;\r\n  cursor: pointer;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.date-arrow:disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n  box-shadow: none;\r\n}\r\n\r\n.date-list {\r\n  display: flex;\r\n  gap: 8px;\r\n  flex: 1;\r\n}\r\n\r\n.date-item {\r\n  flex: 1;\r\n  min-width: 90px;\r\n  border-radius: 12px;\r\n  border: 1px solid transparent;\r\n  background-color: #fff;\r\n  padding: 8px 10px;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n  height: 80px;\r\n}\r\n\r\n.date-item:hover {\r\n  border-color: #bfdbfe;\r\n  box-shadow: 0 3px 10px rgba(15, 23, 42, 0.06);\r\n}\r\n\r\n.date-item.active {\r\n  border-color: #2563eb;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n}\r\n\r\n.date-item.active .date-month,\r\n.date-item.active .date-weekday,\r\n.date-item.active .date-extra {\r\n  color: #e0ecff;\r\n}\r\n\r\n.date-item.active .date-day-number {\r\n  color: #fff;\r\n}\r\n\r\n.date-month {\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n.date-day-row {\r\n  display: flex;\r\n  align-items: baseline;\r\n  gap: 4px;\r\n  margin: 4px 0;\r\n}\r\n\r\n.date-day-number {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.date-weekday {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.date-extra {\r\n  font-size: 11px;\r\n  color: #2563eb;\r\n}\r\n\r\n/* 时间段区域 */\r\n\r\n.slot-section {\r\n  margin-top: 16px;\r\n}\r\n\r\n.slot-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.slot-title {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.slot-legend {\r\n  display: flex;\r\n  gap: 12px;\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n.legend-item {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.legend-dot {\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 999px;\r\n}\r\n\r\n.legend-available {\r\n  background-color: #e5f3ff;\r\n  border: 1px solid #93c5fd;\r\n}\r\n\r\n.legend-selected {\r\n  background-color: #2563eb;\r\n}\r\n\r\n.legend-disabled {\r\n  background-color: #e5e7eb;\r\n}\r\n\r\n.slot-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, minmax(0, 1fr));\r\n  gap: 10px;\r\n}\r\n\r\n.slot-item {\r\n  border-radius: 12px;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 8px 10px;\r\n  background-color: #f9fafb;\r\n  text-align: left;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.slot-item:disabled {\r\n  cursor: not-allowed;\r\n}\r\n\r\n.slot-time {\r\n  font-size: 13px;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.slot-range {\r\n  font-size: 11px;\r\n  color: #6b7280;\r\n}\r\n\r\n/* 状态色 */\r\n.slot-available {\r\n  background-color: #f9fafb;\r\n}\r\n\r\n.slot-disabled {\r\n  background-color: #f3f4f6;\r\n  color: #9ca3af;\r\n  border-style: dashed;\r\n}\r\n\r\n.slot-selected {\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n  border-color: transparent;\r\n  box-shadow: 0 6px 14px rgba(37, 99, 235, 0.25);\r\n}\r\n\r\n.slot-selected .slot-range {\r\n  color: #e0ecff;\r\n}\r\n\r\n/* 已选时段 + 提交区域 */\r\n\r\n.reserve-bottom {\r\n  margin-top: 16px;\r\n  border-top: 1px dashed #e5e7eb;\r\n  padding-top: 12px;\r\n}\r\n\r\n.selected-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.selected-tag {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  border-radius: 999px;\r\n  background-color: #eff6ff;\r\n  padding: 4px 8px 4px 10px;\r\n  font-size: 11px;\r\n  color: #1f2937;\r\n}\r\n\r\n.selected-tag-close {\r\n  border: none;\r\n  background: none;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.selected-tag-close:hover {\r\n  color: #111827;\r\n}\r\n\r\n.reserve-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.link-btn {\r\n  border: none;\r\n  background: none;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  padding: 4px 8px;\r\n}\r\n\r\n.link-btn:hover {\r\n  color: #111827;\r\n  text-decoration: underline;\r\n}\r\n\r\n.reserve-btn {\r\n  padding: 8px 20px;\r\n}\r\n\r\n.primary-btn {\r\n  border: none;\r\n  border-radius: 999px;\r\n  background: linear-gradient(135deg, #2563eb, #4f46e5);\r\n  color: #fff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  padding: 8px 18px;\r\n  box-shadow: 0 8px 18px rgba(37, 99, 235, 0.3);\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.primary-btn:disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n  box-shadow: none;\r\n}\r\n\r\n.primary-btn:not(:disabled):hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 10px 22px rgba(37, 99, 235, 0.38);\r\n}\r\n\r\n.pager {\r\n  margin-top: 10px;\r\n  padding: 8px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n}\r\n\r\n.pager-center {\r\n  min-width: 120px;\r\n  text-align: center;\r\n}\r\n\r\n.pager-btn {\r\n  padding: 4px 12px;\r\n  border-radius: 999px;\r\n  border: 1px solid #d1d5db;\r\n  background-color: #ffffff;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  min-width: 72px;\r\n}\r\n\r\n.pager-btn:hover {\r\n  border-color: #2563eb;\r\n  color: #2563eb;\r\n}\r\n\r\n/* 禁用状态的样式 */\r\n.pager-btn-disabled,\r\n.pager-btn:disabled {\r\n  color: #9ca3af;\r\n  border-color: #e5e7eb;\r\n  background-color: #f9fafb;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 只调“我的预约”那一页的间距 */\r\n.card-reservations .page-title {\r\n  margin-bottom: 15px;   /* 标题到表格的上间距的一半来自这里 */\r\n}\r\n\r\n.card-reservations .table-wrapper {\r\n  margin-top: 15px;      /* 标题到表格的另一半来自这里 */\r\n  margin-bottom: 15px;   /* 表格到底下分页的间距的一半 */\r\n}\r\n\r\n.card-reservations .pager {\r\n  margin-top: 15px;      /* 表格到底部分页的另一半 */\r\n}\r\n\r\n.badge-pending {\r\n  background-color: #e0f2fe;\r\n  color: #0369a1;\r\n}\r\n.badge-done {\r\n  background-color: #dcfce7;\r\n  color: #166534;\r\n}\r\n.badge-late {\r\n  background-color: #fef9c3;\r\n  color: #854d0e;\r\n}\r\n.badge-missed {\r\n  background-color: #fee2e2;\r\n  color: #b91c1c;\r\n}\r\n.badge-cancelled {\r\n  background-color: #e5e7eb;\r\n  color: #4b5563;\r\n}\r\n\r\n.badge-cancel-overdue {\r\n  background-color: #fee2e2; /* 浅红底 */\r\n  color: #b91c1c;            /* 深红字，比已取消更“严重”一点 */\r\n}\r\n\r\n/* 个人中心 - 新版布局和样式 */\r\n\r\n/* 外层卡片，让个人中心撑满右侧高度 */\r\n.full-page-card {\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #ffffff;\r\n  /* 一般内容不多，也不需要滚动条了，可以改成 auto 或干脆删掉 */\r\n  overflow-y: auto;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 顶部用户信息区域 */\r\n.user-header-section {\r\n  background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);\r\n  padding: 24px 32px;\r\n  color: #ffffff;\r\n  border-radius: 12px 12px 0 0;\r\n}\r\n\r\n.user-info-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n.user-info-left {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n/* 这里的 page-title 只用在个人中心头部，如果你全局有别的 page-title，可以按需保留 */\r\n.user-header-section .page-title {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  color: #ffffff;\r\n}\r\n\r\n.user-profile-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.user-name {\r\n  font-size: 28px;\r\n  font-weight: 600;\r\n  margin: 0;\r\n  color: #ffffff;\r\n}\r\n\r\n.user-role {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  padding: 4px 16px;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #ffffff;\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n/* 右上角操作（预留“退出登录”按钮之类） */\r\n.header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.logout-btn {\r\n  padding: 8px 24px;\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border: 1px solid rgba(255, 255, 255, 0.3);\r\n  border-radius: 6px;\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.logout-btn:hover {\r\n  background: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n/* 主内容区域 */\r\n.profile-content {\r\n  padding: 20px;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  background: #ffffff;\r\n}\r\n\r\n/* 表单模块（个人信息 / 联系方式 / 偏好设置 / 备注） */\r\n.form-section {\r\n  background: #ffffff;\r\n  border-radius: 8px;\r\n  padding: 0;\r\n  border-bottom: none;\r\n}\r\n\r\n.profile-content .section-title {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n  margin: 0 0 12px 0;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #f3f4f6;\r\n}\r\n\r\n.form-group {\r\n  margin-top: 8px;\r\n}\r\n\r\n.form-group-title {\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  color: #374151;\r\n  margin: 0 0 16px 0;\r\n  padding-left: 4px;\r\n}\r\n\r\n/* 两列栅格布局 */\r\n.form-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 14px;\r\n}\r\n\r\n/* 单个表单项 */\r\n.form-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.form-item label {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #374151;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n/* 文本输入框/下拉/文本域的通用样式，排除掉 radio */\r\n.form-item input:not([type=\"radio\"]),\r\n.form-item select,\r\n.form-item textarea {\r\n  width: 100%;\r\n  padding: 10px 12px;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  color: #111827;\r\n  background: #ffffff;\r\n  transition: all 0.2s ease;\r\n  outline: none;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* 文本输入框获得焦点时的高亮（不作用于 radio） */\r\n.form-item input:not([type=\"radio\"]):focus,\r\n.form-item select:focus,\r\n.form-item textarea:focus {\r\n  border-color: #3b82f6;\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n.form-item input:read-only {\r\n  background-color: #f9fafb;\r\n  border-color: #e5e7eb;\r\n  color: #6b7280;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 备注文本域占满一整行 */\r\n.form-item.full-width {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n/* 小提示文字：放在输入框下面 */\r\n.form-hint {\r\n  font-size: 12px;\r\n  color: #9ca3af;\r\n  margin-top: 4px;\r\n  line-height: 1.4;\r\n}\r\n\r\n/* 下拉框的小箭头（可以删掉这一段，也不影响功能） */\r\n.form-item select {\r\n  width: 100%;\r\n  appearance: none;\r\n  /* 这里原本有一长串 SVG 的 background-image，用来画下拉箭头。\r\n     你可以先不写，有需要再补；不影响表单功能。 */\r\n  background-repeat: no-repeat;\r\n  background-position: right 12px center;\r\n  background-size: 12px;\r\n  padding-right: 36px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 输入框 + 右侧“修改”按钮 */\r\n.input-with-action {\r\n  display: flex;\r\n  gap: 8px;\r\n  align-items: center;\r\n}\r\n\r\n.input-with-action input {\r\n  flex: 1;\r\n}\r\n\r\n.edit-btn {\r\n  padding: 6px 16px;\r\n  background: #f3f4f6;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #4b5563;\r\n  cursor: pointer;\r\n  white-space: nowrap;\r\n  transition: all 0.2s ease;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.edit-btn:hover {\r\n  background: #e5e7eb;\r\n  border-color: #9ca3af;\r\n  color: #374151;\r\n}\r\n\r\n.radio-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  margin-top: 2px;\r\n}\r\n\r\n.radio-option {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n  padding: 2px 0;\r\n}\r\n\r\n.radio-option input[type=\"radio\"] {\r\n  width: 16px;\r\n  height: 16px;\r\n  accent-color: #3b82f6;\r\n}\r\n\r\n.radio-label {\r\n  font-size: 14px;\r\n  color: #374151;\r\n  font-weight: 500;\r\n}\r\n\r\n.radio-option input[type=\"radio\"]:checked + .radio-label {\r\n  color: #3b82f6;\r\n}\r\n\r\n/* 备注文本域 */\r\n.form-item textarea {\r\n  min-height: 100px;\r\n  resize: vertical;\r\n  font-family: inherit;\r\n  line-height: 1.5;\r\n  padding: 12px;\r\n}\r\n\r\n/* 操作按钮区域（底部的 取消 / 保存 + 提示） */\r\n.profile-actions {\r\n  margin-top: 4px;\r\n  padding-top: 0;\r\n  border-top: none;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n/* 只在个人中心底部使用的按钮样式 */\r\n.profile-actions .primary-btn {\r\n  padding: 10px 32px;\r\n  background: #3b82f6;\r\n  color: #ffffff;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.profile-actions .primary-btn:hover {\r\n  background: #2563eb;\r\n}\r\n\r\n.profile-actions .secondary-btn {\r\n  padding: 10px 32px;\r\n  background: #ffffff;\r\n  color: #6b7280;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.profile-actions .secondary-btn:hover {\r\n  background: #f9fafb;\r\n  border-color: #9ca3af;\r\n  color: #4b5563;\r\n}\r\n\r\n/* 只在个人中心底部使用的提示文字 */\r\n.profile-actions .hint-text {\r\n  font-size: 13px;\r\n  color: #9ca3af;\r\n  margin-left: auto;\r\n  text-align: right;\r\n  flex: 1;\r\n  min-width: 300px;\r\n}\r\n\r\n/* 响应式适配：窄屏时压缩边距 & 按钮纵向排列 */\r\n@media (max-width: 768px) {\r\n  .user-header-section {\r\n    padding: 20px;\r\n  }\r\n\r\n  .profile-content {\r\n    padding: 20px;\r\n  }\r\n\r\n  .user-info-header {\r\n    flex-direction: column;\r\n    gap: 20px;\r\n  }\r\n\r\n  .form-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .profile-actions {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 12px;\r\n  }\r\n\r\n  .profile-actions .hint-text {\r\n    text-align: center;\r\n    margin-left: 0;\r\n    margin-top: 8px;\r\n    min-width: 100%;\r\n  }\r\n}\r\n\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}