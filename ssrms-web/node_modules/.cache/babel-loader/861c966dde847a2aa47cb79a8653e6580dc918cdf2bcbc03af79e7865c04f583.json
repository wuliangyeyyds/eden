{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nexport default {\n  name: 'AdminHome',\n  props: {\n    currentPage: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['change-page'],\n  data() {\n    return {\n      /* timers */\n      dashboardTimer: null,\n      reservationTimer: null,\n      userTimer: null,\n      /* Dashboard */\n      autoRefresh: false,\n      metrics: {\n        todayReservations: 120,\n        todayTrend: 12,\n        todaySignRate: 82,\n        openRooms: 12,\n        totalSeats: 680,\n        pendingItems: 5\n      },\n      trendItems: [{\n        key: 'weekReservation',\n        title: 'æœ¬å‘¨é¢„çº¦å®Œæˆç‡',\n        value: '86%',\n        percent: 86,\n        status: 'success',\n        desc: 'é¢„çº¦å®Œæˆç‡ä¿æŒåœ¨è¾ƒé«˜æ°´å¹³ï¼Œå¯ç»§ç»­è§‚å¯Ÿå‘¨æœ«æ³¢åŠ¨ã€‚'\n      }, {\n        key: 'weekCheckin',\n        title: 'æœ¬å‘¨å¹³å‡ç­¾åˆ°ç‡',\n        value: '79%',\n        percent: 79,\n        status: 'success',\n        desc: 'å»ºè®®é’ˆå¯¹ä½å¹´çº§åŒå­¦å¼€å±•ä¸€æ¬¡åˆ°é¦†æé†’æ´»åŠ¨ã€‚'\n      }, {\n        key: 'weekViolation',\n        title: 'æœ¬å‘¨è¿çº¦ç‡',\n        value: '6%',\n        percent: 6,\n        status: 'warning',\n        desc: 'æœ‰ 8 ä½åŒå­¦å‡ºç°å¤šæ¬¡è¿çº¦ï¼Œå¯ç»“åˆä¿¡ç”¨åˆ†è§„åˆ™é‡ç‚¹å…³æ³¨ã€‚'\n      }],\n      notices: [{\n        id: 1,\n        tag: 'ç³»ç»Ÿç»´æŠ¤',\n        level: 'info',\n        time: 'ä»Šå¤© 22:30-23:00',\n        title: 'ä»Šæ™šå°†è¿›è¡ŒçŸ­æš‚ç³»ç»Ÿå‡çº§ç»´æŠ¤',\n        desc: 'ç»´æŠ¤æœŸé—´å°†æš‚åœæ–°é¢„çº¦ä¸å–æ¶ˆæ“ä½œï¼Œå·²ç”Ÿæ•ˆé¢„çº¦ä¸å—å½±å“ã€‚'\n      }, {\n        id: 2,\n        tag: 'ä½¿ç”¨å»ºè®®',\n        level: 'warning',\n        time: 'æœ¬å‘¨å†…æœ‰æ•ˆ',\n        title: 'å»ºè®®ç®¡ç†å‘˜æ£€æŸ¥å‡æœŸé¢„çº¦è§„åˆ™é…ç½®',\n        desc: 'å¦‚é‡æ ¡å†è°ƒæ•´ï¼Œè¯·åŠæ—¶ä¿®æ”¹å‡æœŸå¼€æ”¾æ—¶é—´ä¸é¢„çº¦é™åˆ¶ã€‚'\n      }, {\n        id: 3,\n        tag: 'å¼‚å¸¸æé†’',\n        level: 'danger',\n        time: 'åˆšåˆš',\n        title: 'å›¾ä¹¦é¦† 401 æœ‰ 3 ä¸ªåº§ä½å¤šæ¬¡è¿çº¦',\n        desc: 'å¯è€ƒè™‘å¯¹å¯¹åº”å­¦ç”Ÿè¿›è¡Œæé†’æˆ–æš‚æ—¶ç¦ç”¨ç›¸å…³åº§ä½ã€‚'\n      }],\n      todos: [{\n        id: 1,\n        type: 'complaint',\n        content: 'å¤„ç† 2 æ¡å…³äºè‡ªä¹ å®¤å™ªéŸ³çš„æŠ•è¯‰è®°å½•ã€‚',\n        from: 'æŠ•è¯‰å¤„ç†',\n        time: '2025-12-10 09:20',\n        priority: 'high'\n      }, {\n        id: 2,\n        type: 'violation',\n        content: 'æ£€æŸ¥æœ¬å‘¨è¿ç»­è¿çº¦è¶…è¿‡ 3 æ¬¡çš„å­¦ç”Ÿåå•ã€‚',\n        from: 'æ—¥å¿—ç»Ÿè®¡',\n        time: '2025-12-10 08:50',\n        priority: 'medium'\n      }, {\n        id: 3,\n        type: 'rule',\n        content: 'ç¡®è®¤æœŸæœ«è€ƒè¯•å‘¨è‡ªä¹ å®¤å¼€æ”¾æ—¶é—´ä¸é¢„çº¦ä¸Šé™ã€‚',\n        from: 'åº§ä½ç®¡ç†',\n        time: '2025-12-09 16:10',\n        priority: 'medium'\n      }, {\n        id: 4,\n        type: 'system',\n        content: 'å¯¼å‡ºæœ¬æœˆé¢„çº¦ä¸ç­¾åˆ°æŠ¥è¡¨å­˜æ¡£ã€‚',\n        from: 'æ—¥å¿—ç»Ÿè®¡',\n        time: '2025-12-09 10:25',\n        priority: 'low'\n      }],\n      latestActivities: [{\n        id: 1,\n        text: 'å¼ ä¸‰ é¢„çº¦äº† å›¾ä¹¦é¦† 401 Â· 10:00-12:00',\n        type: 'book',\n        typeLabel: 'æ–°é¢„çº¦',\n        time: '09:15'\n      }, {\n        id: 2,\n        text: 'æå›› åœ¨ æœ¬éƒ¨ Â· 3 æ¥¼ 301 å®Œæˆç­¾åˆ°',\n        type: 'sign',\n        typeLabel: 'å·²ç­¾åˆ°',\n        time: '08:05'\n      }, {\n        id: 3,\n        text: 'ç‹äº” å–æ¶ˆäº† æ˜æ—¥çš„é¢„çº¦ï¼ˆåŸå› ï¼šè¯¾ç¨‹è°ƒæ•´ï¼‰',\n        type: 'cancel',\n        typeLabel: 'å·²å–æ¶ˆ',\n        time: '07:48'\n      }],\n      /* Reservation Manage */\n      reservationFilters: {\n        keyword: '',\n        room: '',\n        date: '',\n        status: ''\n      },\n      reservationAutoRefresh: false,\n      roomOptions: ['3 æ¥¼ 301', 'å›¾ä¹¦é¦† 401', 'å›¾ä¹¦é¦† 501'],\n      statusOptions: [{\n        label: 'å·²é¢„çº¦',\n        value: 'booked'\n      }, {\n        label: 'å·²ç­¾åˆ°',\n        value: 'signed'\n      }, {\n        label: 'å·²å–æ¶ˆ',\n        value: 'canceled'\n      }, {\n        label: 'è¿çº¦',\n        value: 'violation'\n      }],\n      reservations: [{\n        id: 1,\n        code: 'Y20251204001',\n        studentNo: '20210001',\n        studentName: 'å¼ ä¸‰',\n        room: '3 æ¥¼ 301',\n        seatNo: 'A-15',\n        date: '2025-12-05',\n        timeRange: '08:00-10:00',\n        status: 'booked',\n        remark: 'è¿Ÿåˆ°éœ€äººå·¥ç¡®è®¤'\n      }, {\n        id: 2,\n        code: 'Y20251204002',\n        studentNo: '20210002',\n        studentName: 'æå››',\n        room: 'å›¾ä¹¦é¦† 401',\n        seatNo: 'B-08',\n        date: '2025-12-05',\n        timeRange: '10:00-12:00',\n        status: 'signed',\n        remark: 'æŒ‰æ—¶ç­¾åˆ°'\n      }, {\n        id: 3,\n        code: 'Y20251204003',\n        studentNo: '20210003',\n        studentName: 'ç‹äº”',\n        room: 'å›¾ä¹¦é¦† 401',\n        seatNo: 'C-07',\n        date: '2025-12-05',\n        timeRange: '14:00-16:00',\n        status: 'canceled',\n        remark: 'å­¦ç”Ÿä¸»åŠ¨å–æ¶ˆ'\n      }, {\n        id: 4,\n        code: 'Y20251204004',\n        studentNo: '20210004',\n        studentName: 'èµµå…­',\n        room: '3 æ¥¼ 301',\n        seatNo: 'A-01',\n        date: '2025-12-04',\n        timeRange: '18:00-20:00',\n        status: 'violation',\n        remark: 'æœªåˆ°åœºä¸”æœªå–æ¶ˆ'\n      }],\n      reservationSelection: [],\n      reservationPage: 1,\n      reservationPageSize: 10,\n      /* User Manage */\n      userFilters: {\n        keyword: '',\n        role: '',\n        status: '',\n        onlyAbnormal: false\n      },\n      userAutoRefresh: false,\n      userRoleOptions: [{\n        label: 'å­¦ç”Ÿ',\n        value: 'student'\n      }, {\n        label: 'æ•™å¸ˆ',\n        value: 'teacher'\n      }, {\n        label: 'ç®¡ç†å‘˜',\n        value: 'admin'\n      }],\n      userStatusOptions: [{\n        label: 'æ­£å¸¸',\n        value: 'normal'\n      }, {\n        label: 'é¢„è­¦',\n        value: 'warning'\n      }, {\n        label: 'é»‘åå•',\n        value: 'blacklist'\n      }],\n      users: [{\n        id: 1,\n        studentNo: '20210001',\n        name: 'å¼ ä¸‰',\n        role: 'student',\n        major: 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯',\n        clazz: '3ç­',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 08:10',\n        phone: '138****0001'\n      }, {\n        id: 2,\n        studentNo: '20210002',\n        name: 'æå››',\n        role: 'student',\n        major: 'è½¯ä»¶å·¥ç¨‹',\n        clazz: '2ç­',\n        creditScore: 78,\n        violationCount: 1,\n        status: 'warning',\n        lastLoginAt: '2025-12-05 09:05',\n        phone: '138****0002'\n      }, {\n        id: 3,\n        studentNo: '20210003',\n        name: 'ç‹äº”',\n        role: 'student',\n        major: 'äººå·¥æ™ºèƒ½',\n        clazz: '1ç­',\n        creditScore: 55,\n        violationCount: 3,\n        status: 'blacklist',\n        lastLoginAt: '2025-12-03 19:20',\n        phone: '138****0003'\n      }, {\n        id: 4,\n        studentNo: 'T00001',\n        name: 'èµµè€å¸ˆ',\n        role: 'teacher',\n        major: 'ä¿¡æ¯å­¦é™¢',\n        clazz: 'è¾…å¯¼å‘˜',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 07:40',\n        phone: '139****8888'\n      }, {\n        id: 5,\n        studentNo: 'A00001',\n        name: 'ç³»ç»Ÿç®¡ç†å‘˜',\n        role: 'admin',\n        major: 'ä¿¡æ¯ä¸­å¿ƒ',\n        clazz: 'åå°ç®¡ç†',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 08:00',\n        phone: 'â€”'\n      }],\n      userSelection: [],\n      userPage: 1,\n      userPageSize: 10,\n      /* Seat Manage */\n      currentCampus: 'main',\n      campusOptions: [{\n        label: 'æœ¬éƒ¨æ ¡åŒº',\n        value: 'main'\n      }, {\n        label: 'ä¸œæ ¡åŒº',\n        value: 'east'\n      }],\n      currentBuild: '',\n      buildOptions: [{\n        label: '3 å·æ•™å­¦æ¥¼',\n        value: '3F'\n      }, {\n        label: 'å›¾ä¹¦é¦†',\n        value: 'LIB'\n      }],\n      onlyShowOpen: true,\n      roomKeyword: '',\n      roomCapacityFilter: 'all',\n      rooms: [{\n        id: 1,\n        name: '3 æ¥¼ 301 è‡ªä¹ å®¤',\n        campus: 'main',\n        building: '3 å·æ•™å­¦æ¥¼',\n        buildingCode: '3F',\n        floor: 3,\n        capacity: 60,\n        usedSeats: 32,\n        status: 'open'\n      }, {\n        id: 2,\n        name: '3 æ¥¼ 302 è‡ªä¹ å®¤',\n        campus: 'main',\n        building: '3 å·æ•™å­¦æ¥¼',\n        buildingCode: '3F',\n        floor: 3,\n        capacity: 40,\n        usedSeats: 12,\n        status: 'open'\n      }, {\n        id: 3,\n        name: 'å›¾ä¹¦é¦† 401 è‡ªä¹ åŒº',\n        campus: 'main',\n        building: 'å›¾ä¹¦é¦†',\n        buildingCode: 'LIB',\n        floor: 4,\n        capacity: 90,\n        usedSeats: 76,\n        status: 'open'\n      }, {\n        id: 4,\n        name: 'å›¾ä¹¦é¦† 501 ç ”è®¨åŒº',\n        campus: 'main',\n        building: 'å›¾ä¹¦é¦†',\n        buildingCode: 'LIB',\n        floor: 5,\n        capacity: 30,\n        usedSeats: 5,\n        status: 'closed'\n      }],\n      selectedRoomId: 1,\n      activeTab: 'layout',\n      showSeatNo: true,\n      showDemoOccupied: true,\n      seatGrid: [],\n      seatRule: {\n        allowCrossTime: false,\n        maxHoursPerOrder: 4,\n        maxOrdersPerDay: 2,\n        autoReleaseNoSign: true,\n        releaseAfterMinutes: 20,\n        violationStrategy: 'day-ban',\n        description: 'æœ¬è‡ªä¹ å®¤éœ€ä¿æŒå®‰é™ï¼Œè¿Ÿåˆ°è¶…è¿‡ 20 åˆ†é’Ÿç³»ç»Ÿå°†è‡ªåŠ¨é‡Šæ”¾åº§ä½ã€‚'\n      }\n    };\n  },\n  computed: {\n    todayText() {\n      const d = new Date();\n      const y = d.getFullYear();\n      const m = String(d.getMonth() + 1).padStart(2, '0');\n      const day = String(d.getDate()).padStart(2, '0');\n      return `${y}-${m}-${day}`;\n    },\n    /* reservation computed */\n    filteredReservations() {\n      const {\n        keyword,\n        room,\n        date,\n        status\n      } = this.reservationFilters;\n      return this.reservations.filter(item => {\n        let ok = true;\n        if (keyword && keyword.trim()) {\n          const k = keyword.trim();\n          ok = ok && (item.studentName.includes(k) || item.studentNo.includes(k) || item.code.includes(k));\n        }\n        if (room) ok = ok && item.room === room;\n        if (date) ok = ok && item.date === date;\n        if (status) ok = ok && item.status === status;\n        return ok;\n      });\n    },\n    paginatedReservations() {\n      const start = (this.reservationPage - 1) * this.reservationPageSize;\n      return this.filteredReservations.slice(start, start + this.reservationPageSize);\n    },\n    reservationStats() {\n      const stats = {\n        total: 0,\n        booked: 0,\n        signed: 0,\n        canceled: 0,\n        violation: 0\n      };\n      stats.total = this.filteredReservations.length;\n      this.filteredReservations.forEach(item => {\n        if (item.status === 'booked') stats.booked++;else if (item.status === 'signed') stats.signed++;else if (item.status === 'canceled') stats.canceled++;else if (item.status === 'violation') stats.violation++;\n      });\n      return stats;\n    },\n    /* user computed */\n    filteredUsers() {\n      const {\n        keyword,\n        role,\n        status,\n        onlyAbnormal\n      } = this.userFilters;\n      return this.users.filter(user => {\n        let ok = true;\n        if (keyword && keyword.trim()) {\n          const k = keyword.trim();\n          ok = ok && (user.name.includes(k) || user.studentNo.includes(k) || user.major && user.major.includes(k));\n        }\n        if (role) ok = ok && user.role === role;\n        if (status) ok = ok && user.status === status;\n        if (onlyAbnormal) ok = ok && (user.status === 'warning' || user.status === 'blacklist');\n        return ok;\n      });\n    },\n    paginatedUsers() {\n      const start = (this.userPage - 1) * this.userPageSize;\n      return this.filteredUsers.slice(start, start + this.userPageSize);\n    },\n    userStats() {\n      const stats = {\n        total: 0,\n        normal: 0,\n        warning: 0,\n        blacklist: 0\n      };\n      stats.total = this.filteredUsers.length;\n      this.filteredUsers.forEach(user => {\n        if (user.status === 'normal') stats.normal++;else if (user.status === 'warning') stats.warning++;else if (user.status === 'blacklist') stats.blacklist++;\n      });\n      return stats;\n    },\n    /* seat computed */\n    filteredRooms() {\n      return this.rooms.filter(room => {\n        let ok = true;\n        if (this.currentCampus) ok = ok && room.campus === this.currentCampus;\n        if (this.currentBuild) ok = ok && room.buildingCode === this.currentBuild;\n        if (this.onlyShowOpen) ok = ok && room.status === 'open';\n        if (this.roomKeyword && this.roomKeyword.trim()) {\n          const k = this.roomKeyword.trim();\n          ok = ok && (room.name.includes(k) || String(room.floor).includes(k) || room.building.includes(k));\n        }\n        if (this.roomCapacityFilter === 'small') ok = ok && room.capacity <= 40;\n        if (this.roomCapacityFilter === 'medium') ok = ok && room.capacity > 40 && room.capacity < 80;\n        if (this.roomCapacityFilter === 'large') ok = ok && room.capacity >= 80;\n        return ok;\n      });\n    },\n    selectedRoom() {\n      const room = this.rooms.find(r => r.id === this.selectedRoomId);\n      if (!room) return null;\n      return {\n        ...room,\n        statusModel: room.status === 'open'\n      };\n    },\n    seatStats() {\n      const stats = {\n        free: 0,\n        occupied: 0,\n        disabled: 0,\n        blockedArea: 1\n      };\n      this.seatGrid.forEach(row => {\n        row.seats.forEach(seat => {\n          if (seat.status === 'free') stats.free++;else if (seat.status === 'occupied') stats.occupied++;else if (seat.status === 'disabled') stats.disabled++;\n        });\n      });\n      return stats;\n    },\n    latestActivitiesLeft() {\n      const mid = Math.ceil(this.latestActivities.length / 2);\n      return this.latestActivities.slice(0, mid);\n    },\n    latestActivitiesRight() {\n      const mid = Math.ceil(this.latestActivities.length / 2);\n      return this.latestActivities.slice(mid);\n    }\n  },\n  watch: {\n    currentPage(val) {\n      if (val !== 'admin-home') this.stopDashboardTimer();else if (this.autoRefresh) this.startDashboardTimer();\n      if (val !== 'admin-reservations') this.stopReservationTimer();else if (this.reservationAutoRefresh) this.startReservationTimer();\n      if (val !== 'admin-users') this.stopUserTimer();else if (this.userAutoRefresh) this.startUserTimer();\n    },\n    autoRefresh(val) {\n      if (val && this.currentPage === 'admin-home') this.startDashboardTimer();else this.stopDashboardTimer();\n    },\n    reservationAutoRefresh(val) {\n      if (val && this.currentPage === 'admin-reservations') this.startReservationTimer();else this.stopReservationTimer();\n    },\n    userAutoRefresh(val) {\n      if (val && this.currentPage === 'admin-users') this.startUserTimer();else this.stopUserTimer();\n    }\n  },\n  created() {\n    this.initSeatGrid();\n  },\n  beforeUnmount() {\n    this.stopDashboardTimer();\n    this.stopReservationTimer();\n    this.stopUserTimer();\n  },\n  methods: {\n    emitChange(page) {\n      this.$emit('change-page', page);\n    },\n    /* ---------- dashboard timers ---------- */\n    startDashboardTimer() {\n      this.stopDashboardTimer();\n      this.dashboardTimer = setInterval(() => {\n        this.refreshDashboardMetrics();\n      }, 8000);\n    },\n    stopDashboardTimer() {\n      if (this.dashboardTimer) {\n        clearInterval(this.dashboardTimer);\n        this.dashboardTimer = null;\n      }\n    },\n    refreshDashboardMetrics() {\n      // çº¯å‰ç«¯æ¼”ç¤ºï¼šè½»å¾®æ³¢åŠ¨ä¸€ä¸‹æ•°å€¼ï¼Œä½“ç°â€œè‡ªåŠ¨åˆ·æ–°â€ç¡®å®åœ¨åŠ¨\n      const jitter = (n, min, max) => Math.min(max, Math.max(min, n));\n      this.metrics.todayReservations = jitter(this.metrics.todayReservations + (Math.random() < 0.5 ? -1 : 1) * Math.floor(Math.random() * 3), 80, 200);\n      this.metrics.todaySignRate = jitter(this.metrics.todaySignRate + (Math.random() < 0.5 ? -1 : 1) * Math.floor(Math.random() * 2), 60, 98);\n      this.metrics.pendingItems = jitter(this.metrics.pendingItems + (Math.random() < 0.5 ? -1 : 1), 0, 20);\n    },\n    getTodoTagType(type) {\n      if (type === 'complaint') return 'danger';\n      if (type === 'violation') return 'warning';\n      if (type === 'rule') return 'success';\n      return 'info';\n    },\n    getTodoTypeText(type) {\n      if (type === 'complaint') return 'æŠ•è¯‰';\n      if (type === 'violation') return 'è¿çº¦';\n      if (type === 'rule') return 'è§„åˆ™é…ç½®';\n      if (type === 'system') return 'ç³»ç»Ÿ';\n      return 'å…¶ä»–';\n    },\n    getPriorityText(p) {\n      if (p === 'high') return 'é«˜';\n      if (p === 'medium') return 'ä¸­';\n      return 'ä½';\n    },\n    handleTodoGo(row) {\n      // è®©â€œå‰å¾€å¤„ç†â€çœŸçš„èƒ½è·³é¡µï¼ˆæ•´åˆåå¯ç”¨ï¼‰\n      if (row.type === 'complaint') return this.emitChange('admin-complaints');\n      if (row.type === 'rule') return this.emitChange('admin-seats');\n      // violation / system ç»Ÿä¸€å¼•å¯¼åˆ°æ—¥å¿—ç»Ÿè®¡\n      return this.emitChange('admin-logs');\n    },\n    handleTodoDone(row) {\n      this.todos = this.todos.filter(t => t.id !== row.id);\n    },\n    handleMarkAllDone() {\n      this.todos = [];\n    },\n    /* ---------- reservation timers ---------- */\n    startReservationTimer() {\n      this.stopReservationTimer();\n      this.reservationTimer = setInterval(() => {\n        this.handleReservationSearch();\n      }, 8000);\n    },\n    stopReservationTimer() {\n      if (this.reservationTimer) {\n        clearInterval(this.reservationTimer);\n        this.reservationTimer = null;\n      }\n    },\n    /* reservation methods */\n    handleReservationSearch() {\n      this.reservationPage = 1;\n    },\n    resetReservationFilters() {\n      this.reservationFilters = {\n        keyword: '',\n        room: '',\n        date: '',\n        status: ''\n      };\n      this.reservationPage = 1;\n    },\n    handleSelectionChange(val) {\n      this.reservationSelection = val || [];\n    },\n    handlePageChange(page) {\n      this.reservationPage = page;\n    },\n    handlePageSizeChange(size) {\n      this.reservationPageSize = size;\n      this.reservationPage = 1;\n    },\n    getStatusTagType(status) {\n      if (status === 'booked') return 'info';\n      if (status === 'signed') return 'success';\n      if (status === 'canceled') return 'warning';\n      if (status === 'violation') return 'danger';\n      return '';\n    },\n    getStatusText(status) {\n      if (status === 'booked') return 'å·²é¢„çº¦';\n      if (status === 'signed') return 'å·²ç­¾åˆ°';\n      if (status === 'canceled') return 'å·²å–æ¶ˆ';\n      if (status === 'violation') return 'è¿çº¦';\n      return status;\n    },\n    handleSign(row) {\n      row.status = 'signed';\n    },\n    handleCancel(row) {\n      row.status = 'canceled';\n    },\n    handleMarkViolation(row) {\n      row.status = 'violation';\n    },\n    handleViewDetail(row) {\n      console.log('æŸ¥çœ‹é¢„çº¦è¯¦æƒ…', row);\n    },\n    handleBatchSign() {\n      this.reservationSelection.forEach(item => {\n        if (item.status === 'booked') item.status = 'signed';\n      });\n      this.reservationSelection = [];\n    },\n    handleBatchCancel() {\n      this.reservationSelection.forEach(item => {\n        if (item.status === 'booked') item.status = 'canceled';\n      });\n      this.reservationSelection = [];\n    },\n    /* ---------- user timers ---------- */\n    startUserTimer() {\n      this.stopUserTimer();\n      this.userTimer = setInterval(() => {\n        this.handleUserSearch();\n      }, 8000);\n    },\n    stopUserTimer() {\n      if (this.userTimer) {\n        clearInterval(this.userTimer);\n        this.userTimer = null;\n      }\n    },\n    /* user methods */\n    handleUserSearch() {\n      this.userPage = 1;\n    },\n    resetUserFilters() {\n      this.userFilters = {\n        keyword: '',\n        role: '',\n        status: '',\n        onlyAbnormal: false\n      };\n      this.userPage = 1;\n    },\n    handleUserSelectionChange(val) {\n      this.userSelection = val || [];\n    },\n    handleUserPageChange(page) {\n      this.userPage = page;\n    },\n    handleUserPageSizeChange(size) {\n      this.userPageSize = size;\n      this.userPage = 1;\n    },\n    getUserStatusTagType(status) {\n      if (status === 'normal') return 'success';\n      if (status === 'warning') return 'warning';\n      if (status === 'blacklist') return 'danger';\n      return '';\n    },\n    getUserStatusText(status) {\n      if (status === 'normal') return 'æ­£å¸¸';\n      if (status === 'warning') return 'é¢„è­¦';\n      if (status === 'blacklist') return 'é»‘åå•';\n      return status;\n    },\n    handleLockUser(row) {\n      row.status = 'blacklist';\n      if (row.creditScore > 60) row.creditScore = 60;\n    },\n    handleUnlockUser(row) {\n      row.status = 'normal';\n      if (row.creditScore < 80) row.creditScore = 80;\n    },\n    handleResetPassword(row) {\n      console.log('é‡ç½®å¯†ç ', row);\n    },\n    handleViewUserDetail(row) {\n      console.log('æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…', row);\n    },\n    handleBatchLock() {\n      this.userSelection.forEach(user => {\n        user.status = 'blacklist';\n        if (user.creditScore > 60) user.creditScore = 60;\n      });\n      this.userSelection = [];\n    },\n    handleBatchUnlock() {\n      this.userSelection.forEach(user => {\n        user.status = 'normal';\n        if (user.creditScore < 80) user.creditScore = 80;\n      });\n      this.userSelection = [];\n    },\n    /* seat methods */\n    initSeatGrid() {\n      const rows = 6;\n      const cols = 8;\n      const grid = [];\n      let id = 1;\n      for (let r = 0; r < rows; r++) {\n        const row = {\n          rowIndex: r,\n          seats: []\n        };\n        for (let c = 0; c < cols; c++) {\n          row.seats.push({\n            id: id++,\n            row: r,\n            col: c,\n            label: `${r + 1}-${c + 1}`,\n            status: 'free',\n            selected: false\n          });\n        }\n        grid.push(row);\n      }\n      grid[0].seats[0].status = 'occupied';\n      grid[0].seats[1].status = 'occupied';\n      grid[2].seats[3].status = 'disabled';\n      grid[3].seats[4].status = 'disabled';\n      this.seatGrid = grid;\n    },\n    handleSelectRoom(row) {\n      this.selectedRoomId = row.id;\n    },\n    toggleRoomOpen(row) {\n      row.status = row.status === 'open' ? 'closed' : 'open';\n    },\n    handleEditRoom(row) {\n      console.log('ç¼–è¾‘è‡ªä¹ å®¤é…ç½®ï¼ˆå¼¹çª—é¢„ç•™ï¼‰', row);\n    },\n    syncRoomStatus(val) {\n      const room = this.rooms.find(r => r.id === this.selectedRoomId);\n      if (room) room.status = val ? 'open' : 'closed';\n    },\n    seatCellClass(seat) {\n      return [`seat-status-${seat.status}`, seat.selected ? 'seat-selected' : ''];\n    },\n    handleSeatClick(seat) {\n      seat.selected = !seat.selected;\n      if (this.showDemoOccupied && seat.status === 'free' && Math.random() < 0.05) {\n        seat.status = 'occupied';\n      }\n    },\n    handleBatchDisable() {\n      this.seatGrid.forEach(row => {\n        row.seats.forEach(seat => {\n          if (seat.selected) {\n            seat.status = 'disabled';\n            seat.selected = false;\n          }\n        });\n      });\n    },\n    handleClearSelection() {\n      this.seatGrid.forEach(row => {\n        row.seats.forEach(seat => {\n          seat.selected = false;\n        });\n      });\n    },\n    resetSeatRule() {\n      this.seatRule = {\n        allowCrossTime: false,\n        maxHoursPerOrder: 4,\n        maxOrdersPerDay: 2,\n        autoReleaseNoSign: true,\n        releaseAfterMinutes: 20,\n        violationStrategy: 'day-ban',\n        description: 'æœ¬è‡ªä¹ å®¤éœ€ä¿æŒå®‰é™ï¼Œè¿Ÿåˆ°è¶…è¿‡ 20 åˆ†é’Ÿç³»ç»Ÿå°†è‡ªåŠ¨é‡Šæ”¾åº§ä½ã€‚'\n      };\n    }\n  }\n};","map":{"version":3,"names":["name","props","currentPage","type","String","required","emits","data","dashboardTimer","reservationTimer","userTimer","autoRefresh","metrics","todayReservations","todayTrend","todaySignRate","openRooms","totalSeats","pendingItems","trendItems","key","title","value","percent","status","desc","notices","id","tag","level","time","todos","content","from","priority","latestActivities","text","typeLabel","reservationFilters","keyword","room","date","reservationAutoRefresh","roomOptions","statusOptions","label","reservations","code","studentNo","studentName","seatNo","timeRange","remark","reservationSelection","reservationPage","reservationPageSize","userFilters","role","onlyAbnormal","userAutoRefresh","userRoleOptions","userStatusOptions","users","major","clazz","creditScore","violationCount","lastLoginAt","phone","userSelection","userPage","userPageSize","currentCampus","campusOptions","currentBuild","buildOptions","onlyShowOpen","roomKeyword","roomCapacityFilter","rooms","campus","building","buildingCode","floor","capacity","usedSeats","selectedRoomId","activeTab","showSeatNo","showDemoOccupied","seatGrid","seatRule","allowCrossTime","maxHoursPerOrder","maxOrdersPerDay","autoReleaseNoSign","releaseAfterMinutes","violationStrategy","description","computed","todayText","d","Date","y","getFullYear","m","getMonth","padStart","day","getDate","filteredReservations","filter","item","ok","trim","k","includes","paginatedReservations","start","slice","reservationStats","stats","total","booked","signed","canceled","violation","length","forEach","filteredUsers","user","paginatedUsers","userStats","normal","warning","blacklist","filteredRooms","selectedRoom","find","r","statusModel","seatStats","free","occupied","disabled","blockedArea","row","seats","seat","latestActivitiesLeft","mid","Math","ceil","latestActivitiesRight","watch","val","stopDashboardTimer","startDashboardTimer","stopReservationTimer","startReservationTimer","stopUserTimer","startUserTimer","created","initSeatGrid","beforeUnmount","methods","emitChange","page","$emit","setInterval","refreshDashboardMetrics","clearInterval","jitter","n","min","max","random","getTodoTagType","getTodoTypeText","getPriorityText","p","handleTodoGo","handleTodoDone","t","handleMarkAllDone","handleReservationSearch","resetReservationFilters","handleSelectionChange","handlePageChange","handlePageSizeChange","size","getStatusTagType","getStatusText","handleSign","handleCancel","handleMarkViolation","handleViewDetail","console","log","handleBatchSign","handleBatchCancel","handleUserSearch","resetUserFilters","handleUserSelectionChange","handleUserPageChange","handleUserPageSizeChange","getUserStatusTagType","getUserStatusText","handleLockUser","handleUnlockUser","handleResetPassword","handleViewUserDetail","handleBatchLock","handleBatchUnlock","rows","cols","grid","rowIndex","c","push","col","selected","handleSelectRoom","toggleRoomOpen","handleEditRoom","syncRoomStatus","seatCellClass","handleSeatClick","handleBatchDisable","handleClearSelection","resetSeatRule"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\AdminHome.vue"],"sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <!-- ============ åå°é¦–é¡µï¼ˆDashboard æ•´åˆç‰ˆï¼‰ ============ -->\r\n    <div v-if=\"currentPage === 'admin-home'\" class=\"dashboard-page\">\r\n      <!-- é¡¶éƒ¨æ¬¢è¿ + ä»Šæ—¥æ¦‚è§ˆ -->\r\n      <div class=\"card welcome-card\">\r\n        <div class=\"welcome-left\">\r\n          <div class=\"welcome-title-row\">\r\n            <h2 class=\"welcome-title\">è‡ªä¹ å®¤é¢„çº¦ç³»ç»Ÿ Â· ç®¡ç†åå°</h2>\r\n            <el-tag size=\"small\" type=\"success\">è¿è¡Œæ­£å¸¸</el-tag>\r\n          </div>\r\n          <p class=\"welcome-subtitle\">\r\n            æ¬¢è¿å›æ¥ï¼Œç®¡ç†å‘˜ã€‚åŒä¸€æ—¶é—´å¯ä»¥åœ¨è¿™é‡Œæ€»è§ˆé¢„çº¦æƒ…å†µã€ç­¾åˆ°ç‡å’Œå¼‚å¸¸æé†’ï¼Œå¿«é€Ÿè¿›å…¥å„ä¸ªç®¡ç†æ¨¡å—ã€‚\r\n          </p>\r\n\r\n          <div class=\"welcome-meta\">\r\n            <span class=\"meta-item\">ä»Šå¤©ï¼š{{ todayText }}</span>\r\n            <span class=\"meta-separator\">Â·</span>\r\n            <span class=\"meta-item\">æœ€è¿‘ç™»å½• IPï¼š192.168.1.23ï¼ˆç¤ºä¾‹ï¼‰</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"welcome-right\">\r\n          <div class=\"metric-grid\">\r\n            <div class=\"metric-item\">\r\n              <div class=\"metric-label\">ä»Šæ—¥é¢„çº¦æ€»æ•°</div>\r\n              <div class=\"metric-value\">{{ metrics.todayReservations }}</div>\r\n              <div class=\"metric-desc\">è¾ƒæ˜¨æ—¥ {{ metrics.todayTrend }}%</div>\r\n            </div>\r\n\r\n            <div class=\"metric-item\">\r\n              <div class=\"metric-label\">ä»Šæ—¥ç­¾åˆ°ç‡</div>\r\n              <div class=\"metric-value\">\r\n                {{ metrics.todaySignRate }}<span class=\"metric-unit\">%</span>\r\n              </div>\r\n              <el-progress\r\n                  :percentage=\"metrics.todaySignRate\"\r\n                  :stroke-width=\"6\"\r\n                  status=\"success\"\r\n                  class=\"metric-progress\"\r\n              />\r\n            </div>\r\n\r\n            <div class=\"metric-item\">\r\n              <div class=\"metric-label\">å½“å‰å¼€æ”¾è‡ªä¹ å®¤</div>\r\n              <div class=\"metric-value\">{{ metrics.openRooms }}</div>\r\n              <div class=\"metric-desc\">è¦†ç›– {{ metrics.totalSeats }} ä¸ªåº§ä½</div>\r\n            </div>\r\n\r\n            <div class=\"metric-item\">\r\n              <div class=\"metric-label\">å¾…å¤„ç†äº‹é¡¹</div>\r\n              <div class=\"metric-value warning\">{{ metrics.pendingItems }}</div>\r\n              <div class=\"metric-desc\">æŠ•è¯‰ / å¼‚å¸¸ / å®¡æ ¸ ç­‰</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ä¸­é—´ä¸¤åˆ—ï¼šè¶‹åŠ¿é¢„è§ˆ + æ»šåŠ¨å…¬å‘Š -->\r\n      <div class=\"middle-row\">\r\n        <!-- è¶‹åŠ¿é¢„è§ˆ -->\r\n        <div class=\"card trend-card\">\r\n          <div class=\"card-header-row\">\r\n            <div>\r\n              <h3 class=\"card-title\">æœ¬å‘¨è¿è¡Œæ¦‚è§ˆ</h3>\r\n              <p class=\"card-subtitle\">é€šè¿‡ç®€å•çš„è¿›åº¦æ¡å¿«é€Ÿæ„ŸçŸ¥æœ¬å‘¨æ•´ä½“æƒ…å†µã€‚</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"trend-list\">\r\n            <div class=\"trend-item\" v-for=\"item in trendItems\" :key=\"item.key\">\r\n              <div class=\"trend-item-header\">\r\n                <span class=\"trend-item-title\">{{ item.title }}</span>\r\n                <span class=\"trend-item-value\">{{ item.value }}</span>\r\n              </div>\r\n              <el-progress\r\n                  :percentage=\"item.percent\"\r\n                  :stroke-width=\"8\"\r\n                  :status=\"item.status || 'success'\"\r\n                  class=\"trend-progress\"\r\n              />\r\n              <div class=\"trend-item-desc\">{{ item.desc }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- ç³»ç»Ÿå…¬å‘Š & æ»šåŠ¨æé†’ -->\r\n        <div class=\"card notice-card\">\r\n          <div class=\"card-header-row\">\r\n            <div>\r\n              <h3 class=\"card-title\">ç³»ç»Ÿå…¬å‘Šä¸æé†’</h3>\r\n              <p class=\"card-subtitle\">\r\n                æ”¯æŒæ»šåŠ¨å±•ç¤ºæœ€è¿‘çš„ç³»ç»Ÿå…¬å‘Šã€ç»´æŠ¤é€šçŸ¥å’Œé‡è¦æé†’ã€‚\r\n              </p>\r\n            </div>\r\n            <el-button size=\"small\" type=\"primary\" plain>å‘å¸ƒæ–°å…¬å‘Š</el-button>\r\n          </div>\r\n\r\n          <el-carousel\r\n              height=\"96px\"\r\n              direction=\"vertical\"\r\n              :autoplay=\"true\"\r\n              indicator-position=\"none\"\r\n              :interval=\"3800\"\r\n              class=\"notice-carousel\"\r\n          >\r\n            <el-carousel-item\r\n                v-for=\"notice in notices\"\r\n                :key=\"notice.id\"\r\n                class=\"notice-item\"\r\n            >\r\n              <div class=\"notice-tag-wrapper\">\r\n                <el-tag\r\n                    size=\"small\"\r\n                    :type=\"notice.level === 'warning' ? 'warning' : (notice.level === 'danger' ? 'danger' : 'info')\"\r\n                >\r\n                  {{ notice.tag }}\r\n                </el-tag>\r\n                <span class=\"notice-time\">{{ notice.time }}</span>\r\n              </div>\r\n              <div class=\"notice-title\">{{ notice.title }}</div>\r\n              <div class=\"notice-desc\">{{ notice.desc }}</div>\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n\r\n          <div class=\"notice-footer\">\r\n            <span class=\"notice-dot\" />\r\n            <span class=\"notice-footer-text\">\r\n              æ¸©é¦¨æç¤ºï¼šå¯åœ¨å·¦ä¾§å¯¼èˆªæˆ–ä¸‹æ–¹å¾…åŠäº‹é¡¹ä¸­å¿«é€Ÿè¿›å…¥å¯¹åº”å¤„ç†é¡µé¢ã€‚\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- è¡¥å……ä¸€è¡Œï¼šæœ€è¿‘é¢„çº¦åŠ¨æ€ï¼ˆæ•´è¡Œ + ä¸¤åˆ—å±•ç¤ºï¼‰ -->\r\n      <div class=\"dashboard-row\">\r\n        <div class=\"card dashboard-card dashboard-card-full\">\r\n          <h3 class=\"card-title\">æœ€è¿‘é¢„çº¦åŠ¨æ€</h3>\r\n\r\n          <div class=\"activity-two-col\">\r\n            <!-- å·¦åˆ— -->\r\n            <ul class=\"timeline-list activity-col\">\r\n              <li v-for=\"item in latestActivitiesLeft\" :key=\"item.id\" class=\"timeline-item\">\r\n                <div class=\"timeline-main\">\r\n                  <span class=\"timeline-text\">{{ item.text }}</span>\r\n                  <span class=\"timeline-tag\" :class=\"'tag-' + item.type\">\r\n              {{ item.typeLabel }}\r\n            </span>\r\n                </div>\r\n                <div class=\"timeline-time\">{{ item.time }}</div>\r\n              </li>\r\n            </ul>\r\n\r\n            <!-- ä¸­é—´ç«–çº¿ -->\r\n            <div v-if=\"latestActivitiesRight.length\" class=\"activity-divider\"></div>\r\n\r\n            <!-- å³åˆ— -->\r\n            <ul v-if=\"latestActivitiesRight.length\" class=\"timeline-list activity-col\">\r\n              <li v-for=\"item in latestActivitiesRight\" :key=\"item.id\" class=\"timeline-item\">\r\n                <div class=\"timeline-main\">\r\n                  <span class=\"timeline-text\">{{ item.text }}</span>\r\n                  <span class=\"timeline-tag\" :class=\"'tag-' + item.type\">\r\n              {{ item.typeLabel }}\r\n            </span>\r\n                </div>\r\n                <div class=\"timeline-time\">{{ item.time }}</div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- å¾…åŠäº‹é¡¹ / å¿«é€Ÿå…¥å£ -->\r\n      <div class=\"card todo-card\">\r\n        <div class=\"card-header-row\">\r\n          <div>\r\n            <h3 class=\"card-title\">å¾…åŠäº‹é¡¹</h3>\r\n            <p class=\"card-subtitle\">\r\n              è¿™é‡Œæ±‡æ€»äº†ä½ è¿‘æœŸéœ€è¦å¤„ç†çš„å…³é”®äº‹é¡¹ï¼Œæ¯”å¦‚æŠ•è¯‰ã€å¼‚å¸¸è®°å½•å’Œè§„åˆ™é…ç½®ã€‚\r\n            </p>\r\n          </div>\r\n          <el-button size=\"small\" @click=\"handleMarkAllDone\">\r\n            ä¸€é”®æ ‡è®°å·²è¯»ï¼ˆç¤ºä¾‹ï¼‰\r\n          </el-button>\r\n        </div>\r\n\r\n        <el-table\r\n            :data=\"todos\"\r\n            size=\"small\"\r\n            class=\"todo-table\"\r\n            border\r\n            stripe\r\n        >\r\n          <el-table-column prop=\"type\" label=\"ç±»å‹\" min-width=\"110\">\r\n            <template #default=\"scope\">\r\n              <el-tag size=\"small\" :type=\"getTodoTagType(scope.row.type)\">\r\n                {{ getTodoTypeText(scope.row.type) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"content\" label=\"å†…å®¹\" min-width=\"260\" />\r\n\r\n          <el-table-column prop=\"from\" label=\"æ¥æº\" min-width=\"120\" />\r\n\r\n          <el-table-column prop=\"time\" label=\"åˆ›å»ºæ—¶é—´\" min-width=\"150\" />\r\n\r\n          <el-table-column prop=\"priority\" label=\"ä¼˜å…ˆçº§\" min-width=\"80\">\r\n            <template #default=\"scope\">\r\n              <el-tag\r\n                  size=\"small\"\r\n                  :type=\"scope.row.priority === 'high' ? 'danger' : (scope.row.priority === 'medium' ? 'warning' : 'info')\"\r\n                  effect=\"plain\"\r\n              >\r\n                {{ getPriorityText(scope.row.priority) }}\r\n              </el-tag>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column label=\"æ“ä½œ\" min-width=\"200\" fixed=\"right\">\r\n            <template #default=\"scope\">\r\n              <div class=\"todo-actions\">\r\n                <el-button size=\"small\" type=\"primary\" link @click=\"handleTodoGo(scope.row)\">\r\n                  å‰å¾€å¤„ç†\r\n                </el-button>\r\n                <el-button size=\"small\" type=\"success\" link @click=\"handleTodoDone(scope.row)\">\r\n                  æ ‡è®°å®Œæˆ\r\n                </el-button>\r\n                <el-tooltip content=\"åªæ˜¯ç¤ºä¾‹ï¼Œä¸ä¼šçœŸæ­£ä¿®æ”¹åç«¯æ•°æ®\" placement=\"top\">\r\n                  <el-button size=\"small\" type=\"info\" link>è¯¦æƒ…</el-button>\r\n                </el-tooltip>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ============ é¢„çº¦ç®¡ç†ï¼ˆæ•´åˆç‰ˆï¼‰ ============ -->\r\n    <div v-else-if=\"currentPage === 'admin-reservations'\" class=\"card reservation-card\">\r\n      <div class=\"card-header reservation-header\">\r\n        <div>\r\n          <h2 class=\"page-title\">é¢„çº¦ç®¡ç†</h2>\r\n          <p class=\"page-subtitle\">\r\n            æŸ¥çœ‹å’Œç®¡ç†å­¦ç”Ÿé¢„çº¦è®°å½•ï¼Œæ”¯æŒç­›é€‰ã€æ‰¹é‡æ“ä½œã€è¡¥å½•ç­¾åˆ°ä¸æ ‡è®°è¿çº¦ã€‚\r\n          </p>\r\n        </div>\r\n        <div class=\"reservation-header-right\">\r\n          <div class=\"auto-refresh\">\r\n            <span class=\"auto-refresh-label\">è‡ªåŠ¨åˆ·æ–°</span>\r\n            <el-switch v-model=\"reservationAutoRefresh\" size=\"small\" />\r\n          </div>\r\n          <el-button type=\"primary\" plain size=\"small\" @click=\"handleReservationSearch\">\r\n            åˆ·æ–°æ•°æ®\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filter-bar\">\r\n        <el-input\r\n            v-model=\"reservationFilters.keyword\"\r\n            placeholder=\"æŒ‰å§“å / å­¦å· / é¢„çº¦ç¼–å·æœç´¢\"\r\n            clearable\r\n            class=\"filter-item filter-input\"\r\n        >\r\n          <template #prefix>\r\n            <span class=\"input-prefix-icon\">ğŸ”</span>\r\n          </template>\r\n        </el-input>\r\n\r\n        <el-select\r\n            v-model=\"reservationFilters.room\"\r\n            placeholder=\"é€‰æ‹©è‡ªä¹ å®¤\"\r\n            clearable\r\n            class=\"filter-item filter-select\"\r\n        >\r\n          <el-option v-for=\"room in roomOptions\" :key=\"room\" :label=\"room\" :value=\"room\" />\r\n        </el-select>\r\n\r\n        <el-date-picker\r\n            v-model=\"reservationFilters.date\"\r\n            type=\"date\"\r\n            placeholder=\"é€‰æ‹©æ—¥æœŸ\"\r\n            value-format=\"YYYY-MM-DD\"\r\n            clearable\r\n            class=\"filter-item filter-date\"\r\n        />\r\n\r\n        <el-select\r\n            v-model=\"reservationFilters.status\"\r\n            placeholder=\"é¢„çº¦çŠ¶æ€\"\r\n            clearable\r\n            class=\"filter-item filter-select\"\r\n        >\r\n          <el-option v-for=\"item in statusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\" />\r\n        </el-select>\r\n\r\n        <div class=\"filter-actions\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleReservationSearch\">\r\n            æŸ¥è¯¢\r\n          </el-button>\r\n          <el-button size=\"small\" @click=\"resetReservationFilters\">\r\n            é‡ç½®\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"reservation-stats\">\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">å½“å‰è®°å½•</div>\r\n          <div class=\"stat-value\">{{ reservationStats.total }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">å·²é¢„çº¦</div>\r\n          <div class=\"stat-value\">{{ reservationStats.booked }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">å·²ç­¾åˆ°</div>\r\n          <div class=\"stat-value\">{{ reservationStats.signed }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">å·²å–æ¶ˆ / è¿çº¦</div>\r\n          <div class=\"stat-value\">\r\n            {{ reservationStats.canceled }} / {{ reservationStats.violation }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"reservation-toolbar\">\r\n        <div class=\"toolbar-left\">\r\n          <el-button\r\n              type=\"success\"\r\n              size=\"small\"\r\n              :disabled=\"!reservationSelection.length\"\r\n              @click=\"handleBatchSign\"\r\n          >\r\n            æ‰¹é‡è¡¥å½•ç­¾åˆ°\r\n          </el-button>\r\n          <el-button\r\n              type=\"danger\"\r\n              size=\"small\"\r\n              plain\r\n              :disabled=\"!reservationSelection.length\"\r\n              @click=\"handleBatchCancel\"\r\n          >\r\n            æ‰¹é‡å–æ¶ˆé¢„çº¦\r\n          </el-button>\r\n          <span v-if=\"reservationSelection.length\" class=\"toolbar-tip\">\r\n            å·²é€‰ä¸­ {{ reservationSelection.length }} æ¡è®°å½•\r\n          </span>\r\n        </div>\r\n        <div class=\"toolbar-right\">\r\n          <span class=\"toolbar-tip\">å½“å‰ä¸ºç¤ºä¾‹æ•°æ®ï¼Œåç»­å¯æ›¿æ¢ä¸ºåç«¯æ¥å£è¿”å›çš„æ•°æ®ã€‚</span>\r\n        </div>\r\n      </div>\r\n\r\n      <el-table\r\n          :data=\"paginatedReservations\"\r\n          border\r\n          stripe\r\n          size=\"small\"\r\n          @selection-change=\"handleSelectionChange\"\r\n          class=\"reservation-table\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"48\" />\r\n        <el-table-column prop=\"code\" label=\"é¢„çº¦ç¼–å·\" min-width=\"120\" />\r\n\r\n        <el-table-column prop=\"studentName\" label=\"å­¦ç”Ÿ\" min-width=\"110\">\r\n          <template #default=\"scope\">\r\n            <div class=\"student-cell\">\r\n              <div class=\"student-name\">{{ scope.row.studentName }}</div>\r\n              <div class=\"student-no\">{{ scope.row.studentNo }}</div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"room\" label=\"è‡ªä¹ å®¤\" min-width=\"130\" />\r\n        <el-table-column prop=\"seatNo\" label=\"åº§ä½\" min-width=\"80\" />\r\n        <el-table-column prop=\"date\" label=\"æ—¥æœŸ\" min-width=\"110\" />\r\n        <el-table-column prop=\"timeRange\" label=\"æ—¶é—´æ®µ\" min-width=\"120\" />\r\n\r\n        <el-table-column prop=\"status\" label=\"çŠ¶æ€\" min-width=\"90\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getStatusTagType(scope.row.status)\" size=\"small\">\r\n              {{ getStatusText(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"å¤‡æ³¨\" min-width=\"160\">\r\n          <template #default=\"scope\">\r\n            <span class=\"remark-text\">{{ scope.row.remark || 'â€”' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"æ“ä½œ\" fixed=\"right\" min-width=\"200\">\r\n          <template #default=\"scope\">\r\n            <div class=\"action-buttons\">\r\n              <el-button\r\n                  v-if=\"scope.row.status === 'booked'\"\r\n                  type=\"primary\"\r\n                  link\r\n                  size=\"small\"\r\n                  @click=\"handleSign(scope.row)\"\r\n              >\r\n                è¡¥å½•ç­¾åˆ°\r\n              </el-button>\r\n\r\n              <el-button\r\n                  v-if=\"scope.row.status === 'booked'\"\r\n                  type=\"danger\"\r\n                  link\r\n                  size=\"small\"\r\n                  @click=\"handleCancel(scope.row)\"\r\n              >\r\n                å–æ¶ˆé¢„çº¦\r\n              </el-button>\r\n\r\n              <el-dropdown v-if=\"scope.row.status !== 'canceled'\">\r\n                <span class=\"el-dropdown-link\">æ›´å¤š</span>\r\n                <template #dropdown>\r\n                  <el-dropdown-menu>\r\n                    <el-dropdown-item @click=\"handleMarkViolation(scope.row)\">\r\n                      æ ‡è®°è¿çº¦\r\n                    </el-dropdown-item>\r\n                    <el-dropdown-item @click=\"handleViewDetail(scope.row)\">\r\n                      æŸ¥çœ‹è¯¦æƒ…\r\n                    </el-dropdown-item>\r\n                  </el-dropdown-menu>\r\n                </template>\r\n              </el-dropdown>\r\n\r\n              <span v-else class=\"disabled-text\">ä¸å¯æ“ä½œ</span>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"table-footer\">\r\n        <el-pagination\r\n            background\r\n            layout=\"total, prev, pager, next, sizes\"\r\n            :total=\"filteredReservations.length\"\r\n            :page-sizes=\"[5, 10, 20]\"\r\n            :page-size=\"reservationPageSize\"\r\n            :current-page=\"reservationPage\"\r\n            @size-change=\"handlePageSizeChange\"\r\n            @current-change=\"handlePageChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ============ ç”¨æˆ·ç®¡ç†ï¼ˆæ•´åˆç‰ˆï¼‰ ============ -->\r\n    <div v-else-if=\"currentPage === 'admin-users'\" class=\"card user-card\">\r\n      <div class=\"card-header user-header\">\r\n        <div>\r\n          <h2 class=\"page-title\">ç”¨æˆ·ç®¡ç†</h2>\r\n          <p class=\"page-subtitle\">\r\n            æŸ¥è¯¢å­¦ç”ŸåŸºæœ¬ä¿¡æ¯ã€ä¿¡ç”¨çŠ¶æ€ä¸è¿çº¦è®°å½•ï¼Œæ”¯æŒç­›é€‰ã€æ‰¹é‡é»‘åå•ä¸é¢„è­¦ç®¡ç†ã€‚\r\n          </p>\r\n        </div>\r\n        <div class=\"user-header-right\">\r\n          <div class=\"auto-refresh\">\r\n            <span class=\"auto-refresh-label\">è‡ªåŠ¨åˆ·æ–°</span>\r\n            <el-switch v-model=\"userAutoRefresh\" size=\"small\" />\r\n          </div>\r\n          <el-button type=\"primary\" plain size=\"small\">\r\n            æ–°å¢ç®¡ç†å‘˜è´¦å·\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"filter-bar\">\r\n        <el-input\r\n            v-model=\"userFilters.keyword\"\r\n            placeholder=\"æŒ‰å§“å / å­¦å· / ä¸“ä¸šæœç´¢\"\r\n            clearable\r\n            class=\"filter-item filter-input\"\r\n        >\r\n          <template #prefix>\r\n            <span class=\"input-prefix-icon\">ğŸ”</span>\r\n          </template>\r\n        </el-input>\r\n\r\n        <el-select\r\n            v-model=\"userFilters.role\"\r\n            placeholder=\"ç”¨æˆ·è§’è‰²\"\r\n            clearable\r\n            class=\"filter-item filter-select\"\r\n        >\r\n          <el-option\r\n              v-for=\"role in userRoleOptions\"\r\n              :key=\"role.value\"\r\n              :label=\"role.label\"\r\n              :value=\"role.value\"\r\n          />\r\n        </el-select>\r\n\r\n        <el-select\r\n            v-model=\"userFilters.status\"\r\n            placeholder=\"ä¿¡ç”¨çŠ¶æ€\"\r\n            clearable\r\n            class=\"filter-item filter-select\"\r\n        >\r\n          <el-option\r\n              v-for=\"item in userStatusOptions\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n\r\n        <el-checkbox v-model=\"userFilters.onlyAbnormal\" class=\"filter-item\">\r\n          ä»…æŸ¥çœ‹é¢„è­¦ / é»‘åå•\r\n        </el-checkbox>\r\n\r\n        <div class=\"filter-actions\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleUserSearch\">\r\n            æŸ¥è¯¢\r\n          </el-button>\r\n          <el-button size=\"small\" @click=\"resetUserFilters\">\r\n            é‡ç½®\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"reservation-stats user-stats\">\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">å½“å‰ç”¨æˆ·æ•°</div>\r\n          <div class=\"stat-value\">{{ userStats.total }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">æ­£å¸¸</div>\r\n          <div class=\"stat-value\">{{ userStats.normal }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">é¢„è­¦</div>\r\n          <div class=\"stat-value\">{{ userStats.warning }}</div>\r\n        </div>\r\n        <div class=\"stat-card\">\r\n          <div class=\"stat-label\">é»‘åå•</div>\r\n          <div class=\"stat-value\">{{ userStats.blacklist }}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"reservation-toolbar user-toolbar\">\r\n        <div class=\"toolbar-left\">\r\n          <el-button\r\n              type=\"warning\"\r\n              size=\"small\"\r\n              plain\r\n              :disabled=\"!userSelection.length\"\r\n              @click=\"handleBatchLock\"\r\n          >\r\n            æ‰¹é‡åŠ å…¥é»‘åå•\r\n          </el-button>\r\n          <el-button\r\n              type=\"success\"\r\n              size=\"small\"\r\n              plain\r\n              :disabled=\"!userSelection.length\"\r\n              @click=\"handleBatchUnlock\"\r\n          >\r\n            æ‰¹é‡è§£é™¤é»‘åå•\r\n          </el-button>\r\n          <span v-if=\"userSelection.length\" class=\"toolbar-tip\">\r\n            å·²é€‰ä¸­ {{ userSelection.length }} ä½ç”¨æˆ·\r\n          </span>\r\n        </div>\r\n        <div class=\"toolbar-right\">\r\n          <span class=\"toolbar-tip\">\r\n            è¯´æ˜ï¼šæœ¬é¡µç¤ºä¾‹æ•°æ®ä»…ç”¨äºå‰ç«¯å±•ç¤ºï¼Œåç»­å¯å¯¹æ¥å­¦ç”Ÿä¿¡æ¯ä¸ç»Ÿä¸€èº«ä»½è®¤è¯ã€‚\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <el-table\r\n          :data=\"paginatedUsers\"\r\n          border\r\n          stripe\r\n          size=\"small\"\r\n          @selection-change=\"handleUserSelectionChange\"\r\n          class=\"user-table\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"48\" />\r\n        <el-table-column prop=\"studentNo\" label=\"å­¦å· / å·¥å·\" min-width=\"120\" />\r\n\r\n        <el-table-column prop=\"name\" label=\"å§“å\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div class=\"user-name-cell\">\r\n              <div class=\"user-name-main\">\r\n                {{ scope.row.name }}\r\n                <span class=\"user-role-tag\" v-if=\"scope.row.role === 'student'\">å­¦ç”Ÿ</span>\r\n                <span class=\"user-role-tag teacher\" v-else-if=\"scope.row.role === 'teacher'\">æ•™å¸ˆ</span>\r\n                <span class=\"user-role-tag admin\" v-else-if=\"scope.row.role === 'admin'\">ç®¡ç†å‘˜</span>\r\n              </div>\r\n              <div class=\"user-extra\">{{ scope.row.major }} Â· {{ scope.row.clazz }}</div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"creditScore\" label=\"ä¿¡ç”¨åˆ†\" min-width=\"90\">\r\n          <template #default=\"scope\">\r\n            <span\r\n                :class=\"[\r\n                'credit-score',\r\n                scope.row.creditScore <= 60 ? 'credit-low' : '',\r\n                scope.row.creditScore >= 95 ? 'credit-high' : ''\r\n              ]\"\r\n            >\r\n              {{ scope.row.creditScore }}\r\n            </span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"violationCount\" label=\"è¿çº¦æ¬¡æ•°\" min-width=\"90\" />\r\n\r\n        <el-table-column prop=\"status\" label=\"çŠ¶æ€\" min-width=\"90\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getUserStatusTagType(scope.row.status)\" size=\"small\">\r\n              {{ getUserStatusText(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"lastLoginAt\" label=\"æœ€è¿‘ç™»å½•\" min-width=\"140\" />\r\n\r\n        <el-table-column label=\"è”ç³»æ–¹å¼\" min-width=\"130\">\r\n          <template #default=\"scope\">\r\n            <span class=\"user-extra\">{{ scope.row.phone || 'â€”' }}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"æ“ä½œ\" fixed=\"right\" min-width=\"230\">\r\n          <template #default=\"scope\">\r\n            <div class=\"action-buttons\">\r\n              <el-button type=\"primary\" link size=\"small\" @click=\"handleResetPassword(scope.row)\">\r\n                é‡ç½®å¯†ç \r\n              </el-button>\r\n\r\n              <el-button\r\n                  v-if=\"scope.row.status !== 'blacklist'\"\r\n                  type=\"danger\"\r\n                  link\r\n                  size=\"small\"\r\n                  @click=\"handleLockUser(scope.row)\"\r\n              >\r\n                åŠ å…¥é»‘åå•\r\n              </el-button>\r\n\r\n              <el-button\r\n                  v-else\r\n                  type=\"success\"\r\n                  link\r\n                  size=\"small\"\r\n                  @click=\"handleUnlockUser(scope.row)\"\r\n              >\r\n                è§£é™¤é»‘åå•\r\n              </el-button>\r\n\r\n              <el-button type=\"info\" link size=\"small\" @click=\"handleViewUserDetail(scope.row)\">\r\n                è¯¦æƒ…\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"table-footer\">\r\n        <el-pagination\r\n            background\r\n            layout=\"total, prev, pager, next, sizes\"\r\n            :total=\"filteredUsers.length\"\r\n            :page-sizes=\"[5, 10, 20]\"\r\n            :page-size=\"userPageSize\"\r\n            :current-page=\"userPage\"\r\n            @size-change=\"handleUserPageSizeChange\"\r\n            @current-change=\"handleUserPageChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ============ åº§ä½ç®¡ç†ï¼ˆæ•´åˆç‰ˆï¼‰ ============ -->\r\n    <div v-else-if=\"currentPage === 'admin-seats'\" class=\"seat-manage\">\r\n      <div class=\"card seat-top-card\">\r\n        <div class=\"seat-top-left\">\r\n          <h2 class=\"page-title\">åº§ä½ç®¡ç†</h2>\r\n          <p class=\"page-subtitle\">\r\n            æŒ‰æ¥¼æ ‹ã€è‡ªä¹ å®¤é…ç½®å¼€æ”¾æ—¶é—´ä¸åº§ä½å¸ƒå±€ï¼Œæ”¯æŒå¿«é€ŸæŸ¥çœ‹ç©ºä½™åº§ä½ã€ç¦ç”¨é—®é¢˜åº§ä½ï¼Œä»¥åŠè®¾ç½®é¢„çº¦è§„åˆ™ã€‚\r\n          </p>\r\n        </div>\r\n        <div class=\"seat-top-right\">\r\n          <el-select v-model=\"currentCampus\" size=\"small\" class=\"top-select\" placeholder=\"é€‰æ‹©æ ¡åŒº\">\r\n            <el-option\r\n                v-for=\"item in campusOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n\r\n          <el-select v-model=\"currentBuild\" size=\"small\" class=\"top-select\" placeholder=\"é€‰æ‹©æ¥¼æ ‹\" clearable>\r\n            <el-option\r\n                v-for=\"item in buildOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n            />\r\n          </el-select>\r\n\r\n          <div class=\"top-switch\">\r\n            <span class=\"top-switch-label\">æ˜¾ç¤ºä»…å¼€æ”¾è‡ªä¹ å®¤</span>\r\n            <el-switch v-model=\"onlyShowOpen\" size=\"small\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"seat-layout\">\r\n        <div class=\"card seat-left-card\">\r\n          <div class=\"left-header\">\r\n            <div class=\"left-header-main\">\r\n              <h3 class=\"left-title\">è‡ªä¹ å®¤åˆ—è¡¨</h3>\r\n              <p class=\"left-subtitle\">æŒ‰æ¡ä»¶ç­›é€‰è‡ªä¹ å®¤ï¼ŒæŸ¥çœ‹å®¹é‡ä¸å¼€æ”¾çŠ¶æ€ã€‚</p>\r\n            </div>\r\n            <el-button size=\"small\" type=\"primary\" plain>æ–°å»ºè‡ªä¹ å®¤</el-button>\r\n          </div>\r\n\r\n          <div class=\"left-filter\">\r\n            <el-input\r\n                v-model=\"roomKeyword\"\r\n                placeholder=\"æŒ‰åç§° / æˆ¿é—´å·æœç´¢\"\r\n                clearable\r\n                size=\"small\"\r\n                class=\"left-filter-input\"\r\n            >\r\n              <template #prefix>\r\n                <span class=\"input-prefix-icon\">ğŸ”</span>\r\n              </template>\r\n            </el-input>\r\n\r\n            <el-radio-group v-model=\"roomCapacityFilter\" size=\"small\" class=\"capacity-radio\">\r\n              <el-radio-button label=\"all\">å…¨éƒ¨å®¹é‡</el-radio-button>\r\n              <el-radio-button label=\"small\">â‰¤40 äºº</el-radio-button>\r\n              <el-radio-button label=\"medium\">40-80 äºº</el-radio-button>\r\n              <el-radio-button label=\"large\">â‰¥80 äºº</el-radio-button>\r\n            </el-radio-group>\r\n          </div>\r\n\r\n          <el-table\r\n              :data=\"filteredRooms\"\r\n              highlight-current-row\r\n              size=\"small\"\r\n              class=\"room-table\"\r\n              @row-click=\"handleSelectRoom\"\r\n              :current-row-key=\"selectedRoomId\"\r\n              row-key=\"id\"\r\n          >\r\n            <el-table-column prop=\"name\" label=\"è‡ªä¹ å®¤\" min-width=\"140\">\r\n              <template #default=\"scope\">\r\n                <div class=\"room-name\">\r\n                  <div class=\"room-name-main\">{{ scope.row.name }}</div>\r\n                  <div class=\"room-name-sub\">{{ scope.row.building }} Â· {{ scope.row.floor }}å±‚</div>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"å®¹é‡\" min-width=\"80\">\r\n              <template #default=\"scope\">\r\n                <span class=\"room-capacity\">{{ scope.row.capacity }}</span>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"å·²å ç”¨\" min-width=\"90\">\r\n              <template #default=\"scope\">\r\n                <span class=\"room-used\">{{ scope.row.usedSeats }}/{{ scope.row.capacity }}</span>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"çŠ¶æ€\" min-width=\"90\">\r\n              <template #default=\"scope\">\r\n                <el-tag size=\"small\" :type=\"scope.row.status === 'open' ? 'success' : 'info'\">\r\n                  {{ scope.row.status === 'open' ? 'å¼€æ”¾ä¸­' : 'æœªå¼€æ”¾' }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"æ“ä½œ\" min-width=\"120\" fixed=\"right\">\r\n              <template #default=\"scope\">\r\n                <el-button type=\"primary\" link size=\"small\" @click.stop=\"toggleRoomOpen(scope.row)\">\r\n                  {{ scope.row.status === 'open' ? 'å…³é—­è‡ªä¹ å®¤' : 'å¼€æ”¾è‡ªä¹ å®¤' }}\r\n                </el-button>\r\n                <el-button type=\"info\" link size=\"small\" @click.stop=\"handleEditRoom(scope.row)\">\r\n                  è®¾ç½®\r\n                </el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n\r\n        <div class=\"seat-right\">\r\n          <div class=\"card seat-right-card\">\r\n            <div class=\"right-header\">\r\n              <div>\r\n                <h3 class=\"right-title\">{{ selectedRoom ? selectedRoom.name : 'è¯·é€‰æ‹©å·¦ä¾§è‡ªä¹ å®¤' }}</h3>\r\n                <p class=\"right-subtitle\" v-if=\"selectedRoom\">\r\n                  {{ selectedRoom.building }} Â· {{ selectedRoom.floor }}å±‚ Â· å…± {{ selectedRoom.capacity }} ä¸ªåº§ä½\r\n                </p>\r\n                <p class=\"right-subtitle\" v-else>\r\n                  åœ¨å·¦ä¾§é€‰æ‹©ä¸€ä¸ªè‡ªä¹ å®¤å³å¯æŸ¥çœ‹åº§ä½å¸ƒå±€ä¸è§„åˆ™ã€‚\r\n                </p>\r\n              </div>\r\n\r\n              <div class=\"right-header-actions\" v-if=\"selectedRoom\">\r\n                <div class=\"top-switch\">\r\n                  <span class=\"top-switch-label\">å½“å‰è‡ªä¹ å®¤å¼€æ”¾</span>\r\n                  <el-switch\r\n                      v-model=\"selectedRoom.statusModel\"\r\n                      size=\"small\"\r\n                      @change=\"syncRoomStatus\"\r\n                  />\r\n                </div>\r\n                <el-button size=\"small\" plain>å¯¼å‡ºåº§ä½é…ç½®</el-button>\r\n              </div>\r\n            </div>\r\n\r\n            <template v-if=\"selectedRoom\">\r\n              <div class=\"seat-stats\">\r\n                <div class=\"stat-card\">\r\n                  <div class=\"stat-label\">å¯é¢„çº¦åº§ä½</div>\r\n                  <div class=\"stat-value\">{{ seatStats.free }}</div>\r\n                </div>\r\n                <div class=\"stat-card\">\r\n                  <div class=\"stat-label\">å·²å ç”¨åº§ä½</div>\r\n                  <div class=\"stat-value\">{{ seatStats.occupied }}</div>\r\n                </div>\r\n                <div class=\"stat-card\">\r\n                  <div class=\"stat-label\">ç¦ç”¨åº§ä½</div>\r\n                  <div class=\"stat-value\">{{ seatStats.disabled }}</div>\r\n                </div>\r\n                <div class=\"stat-card\">\r\n                  <div class=\"stat-label\">å°é”åŒºåŸŸ</div>\r\n                  <div class=\"stat-value\">{{ seatStats.blockedArea }}</div>\r\n                </div>\r\n              </div>\r\n\r\n              <el-tabs v-model=\"activeTab\" class=\"seat-tabs\">\r\n                <el-tab-pane label=\"åº§ä½å¸ƒå±€\" name=\"layout\">\r\n                  <div class=\"layout-toolbar\">\r\n                    <div class=\"layout-toolbar-left\">\r\n                      <div class=\"top-switch\">\r\n                        <span class=\"top-switch-label\">æ˜¾ç¤ºåº§ä½ç¼–å·</span>\r\n                        <el-switch v-model=\"showSeatNo\" size=\"small\" />\r\n                      </div>\r\n                      <div class=\"top-switch\">\r\n                        <span class=\"top-switch-label\">æ ‡è®°å ç”¨ç¤ºæ„</span>\r\n                        <el-switch v-model=\"showDemoOccupied\" size=\"small\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"layout-toolbar-right\">\r\n                      <el-button size=\"small\" plain @click=\"handleBatchDisable\">æ‰¹é‡ç¦ç”¨é€‰ä¸­</el-button>\r\n                      <el-button size=\"small\" plain @click=\"handleClearSelection\">æ¸…ç©ºé€‰æ‹©</el-button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"seat-legend\">\r\n                    <div class=\"legend-item\"><span class=\"legend-box legend-free\" /> å¯é¢„çº¦</div>\r\n                    <div class=\"legend-item\"><span class=\"legend-box legend-occupied\" /> å·²å ç”¨</div>\r\n                    <div class=\"legend-item\"><span class=\"legend-box legend-disabled\" /> ç¦ç”¨</div>\r\n                    <div class=\"legend-item\"><span class=\"legend-box legend-selected\" /> å½“å‰é€‰æ‹©</div>\r\n                  </div>\r\n\r\n                  <div class=\"seat-grid\">\r\n                    <div v-for=\"row in seatGrid\" :key=\"row.rowIndex\" class=\"seat-row\">\r\n                      <div class=\"seat-row-label\">ç¬¬ {{ row.rowIndex + 1 }} è¡Œ</div>\r\n                      <div class=\"seat-row-seats\">\r\n                        <div\r\n                            v-for=\"seat in row.seats\"\r\n                            :key=\"seat.id\"\r\n                            class=\"seat-cell\"\r\n                            :class=\"seatCellClass(seat)\"\r\n                            @click=\"handleSeatClick(seat)\"\r\n                        >\r\n                          <span v-if=\"showSeatNo\" class=\"seat-no\">{{ seat.label }}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </el-tab-pane>\r\n\r\n                <el-tab-pane label=\"é¢„çº¦è§„åˆ™ä¸å¼€æ”¾æ—¶é—´\" name=\"rules\">\r\n                  <el-form\r\n                      :model=\"seatRule\"\r\n                      label-width=\"150px\"\r\n                      size=\"small\"\r\n                      class=\"rule-form\"\r\n                  >\r\n                    <el-form-item label=\"å…è®¸è·¨æ—¶æ®µé¢„çº¦\">\r\n                      <el-switch v-model=\"seatRule.allowCrossTime\" />\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"å•æ¬¡é¢„çº¦æœ€é•¿æ—¶é•¿\">\r\n                      <el-input-number v-model=\"seatRule.maxHoursPerOrder\" :min=\"1\" :max=\"8\" />\r\n                      <span class=\"item-desc\">å°æ—¶</span>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"æ¯å¤©æœ€å¤šé¢„çº¦æ¬¡æ•°\">\r\n                      <el-input-number v-model=\"seatRule.maxOrdersPerDay\" :min=\"1\" :max=\"5\" />\r\n                      <span class=\"item-desc\">æ¬¡/äºº/è‡ªä¹ å®¤</span>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"è‡ªåŠ¨é‡Šæ”¾æœªç­¾åˆ°åº§ä½\">\r\n                      <div class=\"inline-group\">\r\n                        <el-switch v-model=\"seatRule.autoReleaseNoSign\" />\r\n                        <span class=\"item-desc\">è¶…è¿‡</span>\r\n                        <el-input-number v-model=\"seatRule.releaseAfterMinutes\" :min=\"5\" :max=\"60\" />\r\n                        <span class=\"item-desc\">åˆ†é’Ÿè‡ªåŠ¨é‡Šæ”¾</span>\r\n                      </div>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"è¿ç»­è¿çº¦å¤„ç†ç­–ç•¥\">\r\n                      <el-select v-model=\"seatRule.violationStrategy\" placeholder=\"é€‰æ‹©ç­–ç•¥\">\r\n                        <el-option label=\"ä»…æé†’ï¼Œä¸é™åˆ¶\" value=\"tip\" />\r\n                        <el-option label=\"3 æ¬¡è¿çº¦å½“å¤©ç¦æ­¢é¢„çº¦\" value=\"day-ban\" />\r\n                        <el-option label=\"è¿ç»­ 5 æ¬¡è¿çº¦ä¸€å‘¨å†…ç¦æ­¢é¢„çº¦\" value=\"week-ban\" />\r\n                      </el-select>\r\n                    </el-form-item>\r\n\r\n                    <el-form-item label=\"è§„åˆ™è¯´æ˜\">\r\n                      <el-input\r\n                          v-model=\"seatRule.description\"\r\n                          type=\"textarea\"\r\n                          :rows=\"3\"\r\n                          placeholder=\"ä¾‹å¦‚ï¼šæœ¬è‡ªä¹ å®¤ä¸¥æ ¼ä¿æŒå®‰é™ï¼Œè¯·æå‰ 10 åˆ†é’Ÿåˆ°åœºç­¾åˆ°ï¼Œè¿Ÿåˆ°è¶…è¿‡ 20 åˆ†é’Ÿè§†ä¸ºè¿çº¦ç­‰ã€‚\"\r\n                      />\r\n                    </el-form-item>\r\n\r\n                    <el-form-item>\r\n                      <el-button type=\"primary\" size=\"small\">\r\n                        ä¿å­˜å½“å‰è‡ªä¹ å®¤é…ç½®ï¼ˆç¤ºä¾‹ï¼‰\r\n                      </el-button>\r\n                      <el-button size=\"small\" @click=\"resetSeatRule\">é‡ç½®ä¸ºé»˜è®¤</el-button>\r\n                    </el-form-item>\r\n                  </el-form>\r\n                </el-tab-pane>\r\n              </el-tabs>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ============ æŠ•è¯‰å¤„ç†ï¼ˆå ä½é¡µï¼Œä¿ç•™å…¥å£ä¸ä¸¢åŠŸèƒ½ï¼‰ ============ -->\r\n    <div v-else-if=\"currentPage === 'admin-complaints'\" class=\"card simple-card\">\r\n      <h2 class=\"page-title\">æŠ•è¯‰å¤„ç†</h2>\r\n      <p class=\"page-subtitle\">å¤„ç†å­¦ç”Ÿåé¦ˆä¸æŠ•è¯‰è®°å½•ï¼Œè·Ÿè¸ªå¤„ç†ç»“æœä¸åé¦ˆæ»¡æ„åº¦ã€‚</p>\r\n      <p class=\"simple-tip\">\r\n        åç»­å¯åœ¨æ­¤é¡µé¢å¢åŠ æŠ•è¯‰åˆ—è¡¨ã€å¤„ç†è¿›åº¦ã€æ ‡è®°å·²è¯»ã€å¯¼å‡ºç­‰åŠŸèƒ½ã€‚\r\n      </p>\r\n    </div>\r\n\r\n    <!-- ============ æ—¥å¿—ç»Ÿè®¡ï¼ˆå ä½é¡µï¼Œä¿ç•™å…¥å£ä¸ä¸¢åŠŸèƒ½ï¼‰ ============ -->\r\n    <div v-else-if=\"currentPage === 'admin-logs'\" class=\"card simple-card\">\r\n      <h2 class=\"page-title\">æ—¥å¿—ç»Ÿè®¡</h2>\r\n      <p class=\"page-subtitle\">æŸ¥çœ‹ç³»ç»Ÿæ“ä½œæ—¥å¿—ä¸ç»Ÿè®¡ä¿¡æ¯ï¼Œè¾…åŠ©æ’æŸ¥é—®é¢˜ä¸è¿½è¸ªæ“ä½œè®°å½•ã€‚</p>\r\n      <p class=\"simple-tip\">\r\n        å¯ä»¥åœ¨æ­¤æ¥å…¥æŠ˜çº¿å›¾/æŸ±çŠ¶å›¾å±•ç¤ºæ—¥é¢„çº¦é‡ã€ç­¾åˆ°ç‡ã€è¿çº¦ç‡ç­‰ç»Ÿè®¡æ•°æ®ã€‚\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdminHome',\r\n  props: {\r\n    currentPage: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['change-page'],\r\n  data () {\r\n    return {\r\n      /* timers */\r\n      dashboardTimer: null,\r\n      reservationTimer: null,\r\n      userTimer: null,\r\n\r\n      /* Dashboard */\r\n      autoRefresh: false,\r\n      metrics: {\r\n        todayReservations: 120,\r\n        todayTrend: 12,\r\n        todaySignRate: 82,\r\n        openRooms: 12,\r\n        totalSeats: 680,\r\n        pendingItems: 5\r\n      },\r\n      trendItems: [\r\n        {\r\n          key: 'weekReservation',\r\n          title: 'æœ¬å‘¨é¢„çº¦å®Œæˆç‡',\r\n          value: '86%',\r\n          percent: 86,\r\n          status: 'success',\r\n          desc: 'é¢„çº¦å®Œæˆç‡ä¿æŒåœ¨è¾ƒé«˜æ°´å¹³ï¼Œå¯ç»§ç»­è§‚å¯Ÿå‘¨æœ«æ³¢åŠ¨ã€‚'\r\n        },\r\n        {\r\n          key: 'weekCheckin',\r\n          title: 'æœ¬å‘¨å¹³å‡ç­¾åˆ°ç‡',\r\n          value: '79%',\r\n          percent: 79,\r\n          status: 'success',\r\n          desc: 'å»ºè®®é’ˆå¯¹ä½å¹´çº§åŒå­¦å¼€å±•ä¸€æ¬¡åˆ°é¦†æé†’æ´»åŠ¨ã€‚'\r\n        },\r\n        {\r\n          key: 'weekViolation',\r\n          title: 'æœ¬å‘¨è¿çº¦ç‡',\r\n          value: '6%',\r\n          percent: 6,\r\n          status: 'warning',\r\n          desc: 'æœ‰ 8 ä½åŒå­¦å‡ºç°å¤šæ¬¡è¿çº¦ï¼Œå¯ç»“åˆä¿¡ç”¨åˆ†è§„åˆ™é‡ç‚¹å…³æ³¨ã€‚'\r\n        }\r\n      ],\r\n      notices: [\r\n        {\r\n          id: 1,\r\n          tag: 'ç³»ç»Ÿç»´æŠ¤',\r\n          level: 'info',\r\n          time: 'ä»Šå¤© 22:30-23:00',\r\n          title: 'ä»Šæ™šå°†è¿›è¡ŒçŸ­æš‚ç³»ç»Ÿå‡çº§ç»´æŠ¤',\r\n          desc: 'ç»´æŠ¤æœŸé—´å°†æš‚åœæ–°é¢„çº¦ä¸å–æ¶ˆæ“ä½œï¼Œå·²ç”Ÿæ•ˆé¢„çº¦ä¸å—å½±å“ã€‚'\r\n        },\r\n        {\r\n          id: 2,\r\n          tag: 'ä½¿ç”¨å»ºè®®',\r\n          level: 'warning',\r\n          time: 'æœ¬å‘¨å†…æœ‰æ•ˆ',\r\n          title: 'å»ºè®®ç®¡ç†å‘˜æ£€æŸ¥å‡æœŸé¢„çº¦è§„åˆ™é…ç½®',\r\n          desc: 'å¦‚é‡æ ¡å†è°ƒæ•´ï¼Œè¯·åŠæ—¶ä¿®æ”¹å‡æœŸå¼€æ”¾æ—¶é—´ä¸é¢„çº¦é™åˆ¶ã€‚'\r\n        },\r\n        {\r\n          id: 3,\r\n          tag: 'å¼‚å¸¸æé†’',\r\n          level: 'danger',\r\n          time: 'åˆšåˆš',\r\n          title: 'å›¾ä¹¦é¦† 401 æœ‰ 3 ä¸ªåº§ä½å¤šæ¬¡è¿çº¦',\r\n          desc: 'å¯è€ƒè™‘å¯¹å¯¹åº”å­¦ç”Ÿè¿›è¡Œæé†’æˆ–æš‚æ—¶ç¦ç”¨ç›¸å…³åº§ä½ã€‚'\r\n        }\r\n      ],\r\n      todos: [\r\n        {\r\n          id: 1,\r\n          type: 'complaint',\r\n          content: 'å¤„ç† 2 æ¡å…³äºè‡ªä¹ å®¤å™ªéŸ³çš„æŠ•è¯‰è®°å½•ã€‚',\r\n          from: 'æŠ•è¯‰å¤„ç†',\r\n          time: '2025-12-10 09:20',\r\n          priority: 'high'\r\n        },\r\n        {\r\n          id: 2,\r\n          type: 'violation',\r\n          content: 'æ£€æŸ¥æœ¬å‘¨è¿ç»­è¿çº¦è¶…è¿‡ 3 æ¬¡çš„å­¦ç”Ÿåå•ã€‚',\r\n          from: 'æ—¥å¿—ç»Ÿè®¡',\r\n          time: '2025-12-10 08:50',\r\n          priority: 'medium'\r\n        },\r\n        {\r\n          id: 3,\r\n          type: 'rule',\r\n          content: 'ç¡®è®¤æœŸæœ«è€ƒè¯•å‘¨è‡ªä¹ å®¤å¼€æ”¾æ—¶é—´ä¸é¢„çº¦ä¸Šé™ã€‚',\r\n          from: 'åº§ä½ç®¡ç†',\r\n          time: '2025-12-09 16:10',\r\n          priority: 'medium'\r\n        },\r\n        {\r\n          id: 4,\r\n          type: 'system',\r\n          content: 'å¯¼å‡ºæœ¬æœˆé¢„çº¦ä¸ç­¾åˆ°æŠ¥è¡¨å­˜æ¡£ã€‚',\r\n          from: 'æ—¥å¿—ç»Ÿè®¡',\r\n          time: '2025-12-09 10:25',\r\n          priority: 'low'\r\n        }\r\n      ],\r\n      latestActivities: [\r\n        { id: 1, text: 'å¼ ä¸‰ é¢„çº¦äº† å›¾ä¹¦é¦† 401 Â· 10:00-12:00', type: 'book', typeLabel: 'æ–°é¢„çº¦', time: '09:15' },\r\n        { id: 2, text: 'æå›› åœ¨ æœ¬éƒ¨ Â· 3 æ¥¼ 301 å®Œæˆç­¾åˆ°', type: 'sign', typeLabel: 'å·²ç­¾åˆ°', time: '08:05' },\r\n        { id: 3, text: 'ç‹äº” å–æ¶ˆäº† æ˜æ—¥çš„é¢„çº¦ï¼ˆåŸå› ï¼šè¯¾ç¨‹è°ƒæ•´ï¼‰', type: 'cancel', typeLabel: 'å·²å–æ¶ˆ', time: '07:48' }\r\n      ],\r\n\r\n      /* Reservation Manage */\r\n      reservationFilters: {\r\n        keyword: '',\r\n        room: '',\r\n        date: '',\r\n        status: ''\r\n      },\r\n      reservationAutoRefresh: false,\r\n      roomOptions: ['3 æ¥¼ 301', 'å›¾ä¹¦é¦† 401', 'å›¾ä¹¦é¦† 501'],\r\n      statusOptions: [\r\n        { label: 'å·²é¢„çº¦', value: 'booked' },\r\n        { label: 'å·²ç­¾åˆ°', value: 'signed' },\r\n        { label: 'å·²å–æ¶ˆ', value: 'canceled' },\r\n        { label: 'è¿çº¦', value: 'violation' }\r\n      ],\r\n      reservations: [\r\n        {\r\n          id: 1,\r\n          code: 'Y20251204001',\r\n          studentNo: '20210001',\r\n          studentName: 'å¼ ä¸‰',\r\n          room: '3 æ¥¼ 301',\r\n          seatNo: 'A-15',\r\n          date: '2025-12-05',\r\n          timeRange: '08:00-10:00',\r\n          status: 'booked',\r\n          remark: 'è¿Ÿåˆ°éœ€äººå·¥ç¡®è®¤'\r\n        },\r\n        {\r\n          id: 2,\r\n          code: 'Y20251204002',\r\n          studentNo: '20210002',\r\n          studentName: 'æå››',\r\n          room: 'å›¾ä¹¦é¦† 401',\r\n          seatNo: 'B-08',\r\n          date: '2025-12-05',\r\n          timeRange: '10:00-12:00',\r\n          status: 'signed',\r\n          remark: 'æŒ‰æ—¶ç­¾åˆ°'\r\n        },\r\n        {\r\n          id: 3,\r\n          code: 'Y20251204003',\r\n          studentNo: '20210003',\r\n          studentName: 'ç‹äº”',\r\n          room: 'å›¾ä¹¦é¦† 401',\r\n          seatNo: 'C-07',\r\n          date: '2025-12-05',\r\n          timeRange: '14:00-16:00',\r\n          status: 'canceled',\r\n          remark: 'å­¦ç”Ÿä¸»åŠ¨å–æ¶ˆ'\r\n        },\r\n        {\r\n          id: 4,\r\n          code: 'Y20251204004',\r\n          studentNo: '20210004',\r\n          studentName: 'èµµå…­',\r\n          room: '3 æ¥¼ 301',\r\n          seatNo: 'A-01',\r\n          date: '2025-12-04',\r\n          timeRange: '18:00-20:00',\r\n          status: 'violation',\r\n          remark: 'æœªåˆ°åœºä¸”æœªå–æ¶ˆ'\r\n        }\r\n      ],\r\n      reservationSelection: [],\r\n      reservationPage: 1,\r\n      reservationPageSize: 10,\r\n\r\n      /* User Manage */\r\n      userFilters: {\r\n        keyword: '',\r\n        role: '',\r\n        status: '',\r\n        onlyAbnormal: false\r\n      },\r\n      userAutoRefresh: false,\r\n      userRoleOptions: [\r\n        { label: 'å­¦ç”Ÿ', value: 'student' },\r\n        { label: 'æ•™å¸ˆ', value: 'teacher' },\r\n        { label: 'ç®¡ç†å‘˜', value: 'admin' }\r\n      ],\r\n      userStatusOptions: [\r\n        { label: 'æ­£å¸¸', value: 'normal' },\r\n        { label: 'é¢„è­¦', value: 'warning' },\r\n        { label: 'é»‘åå•', value: 'blacklist' }\r\n      ],\r\n      users: [\r\n        {\r\n          id: 1,\r\n          studentNo: '20210001',\r\n          name: 'å¼ ä¸‰',\r\n          role: 'student',\r\n          major: 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯',\r\n          clazz: '3ç­',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 08:10',\r\n          phone: '138****0001'\r\n        },\r\n        {\r\n          id: 2,\r\n          studentNo: '20210002',\r\n          name: 'æå››',\r\n          role: 'student',\r\n          major: 'è½¯ä»¶å·¥ç¨‹',\r\n          clazz: '2ç­',\r\n          creditScore: 78,\r\n          violationCount: 1,\r\n          status: 'warning',\r\n          lastLoginAt: '2025-12-05 09:05',\r\n          phone: '138****0002'\r\n        },\r\n        {\r\n          id: 3,\r\n          studentNo: '20210003',\r\n          name: 'ç‹äº”',\r\n          role: 'student',\r\n          major: 'äººå·¥æ™ºèƒ½',\r\n          clazz: '1ç­',\r\n          creditScore: 55,\r\n          violationCount: 3,\r\n          status: 'blacklist',\r\n          lastLoginAt: '2025-12-03 19:20',\r\n          phone: '138****0003'\r\n        },\r\n        {\r\n          id: 4,\r\n          studentNo: 'T00001',\r\n          name: 'èµµè€å¸ˆ',\r\n          role: 'teacher',\r\n          major: 'ä¿¡æ¯å­¦é™¢',\r\n          clazz: 'è¾…å¯¼å‘˜',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 07:40',\r\n          phone: '139****8888'\r\n        },\r\n        {\r\n          id: 5,\r\n          studentNo: 'A00001',\r\n          name: 'ç³»ç»Ÿç®¡ç†å‘˜',\r\n          role: 'admin',\r\n          major: 'ä¿¡æ¯ä¸­å¿ƒ',\r\n          clazz: 'åå°ç®¡ç†',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 08:00',\r\n          phone: 'â€”'\r\n        }\r\n      ],\r\n      userSelection: [],\r\n      userPage: 1,\r\n      userPageSize: 10,\r\n\r\n      /* Seat Manage */\r\n      currentCampus: 'main',\r\n      campusOptions: [\r\n        { label: 'æœ¬éƒ¨æ ¡åŒº', value: 'main' },\r\n        { label: 'ä¸œæ ¡åŒº', value: 'east' }\r\n      ],\r\n      currentBuild: '',\r\n      buildOptions: [\r\n        { label: '3 å·æ•™å­¦æ¥¼', value: '3F' },\r\n        { label: 'å›¾ä¹¦é¦†', value: 'LIB' }\r\n      ],\r\n      onlyShowOpen: true,\r\n\r\n      roomKeyword: '',\r\n      roomCapacityFilter: 'all',\r\n      rooms: [\r\n        {\r\n          id: 1,\r\n          name: '3 æ¥¼ 301 è‡ªä¹ å®¤',\r\n          campus: 'main',\r\n          building: '3 å·æ•™å­¦æ¥¼',\r\n          buildingCode: '3F',\r\n          floor: 3,\r\n          capacity: 60,\r\n          usedSeats: 32,\r\n          status: 'open'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '3 æ¥¼ 302 è‡ªä¹ å®¤',\r\n          campus: 'main',\r\n          building: '3 å·æ•™å­¦æ¥¼',\r\n          buildingCode: '3F',\r\n          floor: 3,\r\n          capacity: 40,\r\n          usedSeats: 12,\r\n          status: 'open'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: 'å›¾ä¹¦é¦† 401 è‡ªä¹ åŒº',\r\n          campus: 'main',\r\n          building: 'å›¾ä¹¦é¦†',\r\n          buildingCode: 'LIB',\r\n          floor: 4,\r\n          capacity: 90,\r\n          usedSeats: 76,\r\n          status: 'open'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: 'å›¾ä¹¦é¦† 501 ç ”è®¨åŒº',\r\n          campus: 'main',\r\n          building: 'å›¾ä¹¦é¦†',\r\n          buildingCode: 'LIB',\r\n          floor: 5,\r\n          capacity: 30,\r\n          usedSeats: 5,\r\n          status: 'closed'\r\n        }\r\n      ],\r\n      selectedRoomId: 1,\r\n\r\n      activeTab: 'layout',\r\n      showSeatNo: true,\r\n      showDemoOccupied: true,\r\n      seatGrid: [],\r\n\r\n      seatRule: {\r\n        allowCrossTime: false,\r\n        maxHoursPerOrder: 4,\r\n        maxOrdersPerDay: 2,\r\n        autoReleaseNoSign: true,\r\n        releaseAfterMinutes: 20,\r\n        violationStrategy: 'day-ban',\r\n        description: 'æœ¬è‡ªä¹ å®¤éœ€ä¿æŒå®‰é™ï¼Œè¿Ÿåˆ°è¶…è¿‡ 20 åˆ†é’Ÿç³»ç»Ÿå°†è‡ªåŠ¨é‡Šæ”¾åº§ä½ã€‚'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    todayText () {\r\n      const d = new Date()\r\n      const y = d.getFullYear()\r\n      const m = String(d.getMonth() + 1).padStart(2, '0')\r\n      const day = String(d.getDate()).padStart(2, '0')\r\n      return `${y}-${m}-${day}`\r\n    },\r\n\r\n    /* reservation computed */\r\n    filteredReservations () {\r\n      const { keyword, room, date, status } = this.reservationFilters\r\n      return this.reservations.filter(item => {\r\n        let ok = true\r\n        if (keyword && keyword.trim()) {\r\n          const k = keyword.trim()\r\n          ok = ok && (item.studentName.includes(k) || item.studentNo.includes(k) || item.code.includes(k))\r\n        }\r\n        if (room) ok = ok && item.room === room\r\n        if (date) ok = ok && item.date === date\r\n        if (status) ok = ok && item.status === status\r\n        return ok\r\n      })\r\n    },\r\n    paginatedReservations () {\r\n      const start = (this.reservationPage - 1) * this.reservationPageSize\r\n      return this.filteredReservations.slice(start, start + this.reservationPageSize)\r\n    },\r\n    reservationStats () {\r\n      const stats = { total: 0, booked: 0, signed: 0, canceled: 0, violation: 0 }\r\n      stats.total = this.filteredReservations.length\r\n      this.filteredReservations.forEach(item => {\r\n        if (item.status === 'booked') stats.booked++\r\n        else if (item.status === 'signed') stats.signed++\r\n        else if (item.status === 'canceled') stats.canceled++\r\n        else if (item.status === 'violation') stats.violation++\r\n      })\r\n      return stats\r\n    },\r\n\r\n    /* user computed */\r\n    filteredUsers () {\r\n      const { keyword, role, status, onlyAbnormal } = this.userFilters\r\n      return this.users.filter(user => {\r\n        let ok = true\r\n        if (keyword && keyword.trim()) {\r\n          const k = keyword.trim()\r\n          ok = ok && (user.name.includes(k) || user.studentNo.includes(k) || (user.major && user.major.includes(k)))\r\n        }\r\n        if (role) ok = ok && user.role === role\r\n        if (status) ok = ok && user.status === status\r\n        if (onlyAbnormal) ok = ok && (user.status === 'warning' || user.status === 'blacklist')\r\n        return ok\r\n      })\r\n    },\r\n    paginatedUsers () {\r\n      const start = (this.userPage - 1) * this.userPageSize\r\n      return this.filteredUsers.slice(start, start + this.userPageSize)\r\n    },\r\n    userStats () {\r\n      const stats = { total: 0, normal: 0, warning: 0, blacklist: 0 }\r\n      stats.total = this.filteredUsers.length\r\n      this.filteredUsers.forEach(user => {\r\n        if (user.status === 'normal') stats.normal++\r\n        else if (user.status === 'warning') stats.warning++\r\n        else if (user.status === 'blacklist') stats.blacklist++\r\n      })\r\n      return stats\r\n    },\r\n\r\n    /* seat computed */\r\n    filteredRooms () {\r\n      return this.rooms.filter(room => {\r\n        let ok = true\r\n        if (this.currentCampus) ok = ok && room.campus === this.currentCampus\r\n        if (this.currentBuild) ok = ok && room.buildingCode === this.currentBuild\r\n        if (this.onlyShowOpen) ok = ok && room.status === 'open'\r\n        if (this.roomKeyword && this.roomKeyword.trim()) {\r\n          const k = this.roomKeyword.trim()\r\n          ok = ok && (room.name.includes(k) || String(room.floor).includes(k) || room.building.includes(k))\r\n        }\r\n        if (this.roomCapacityFilter === 'small') ok = ok && room.capacity <= 40\r\n        if (this.roomCapacityFilter === 'medium') ok = ok && room.capacity > 40 && room.capacity < 80\r\n        if (this.roomCapacityFilter === 'large') ok = ok && room.capacity >= 80\r\n        return ok\r\n      })\r\n    },\r\n    selectedRoom () {\r\n      const room = this.rooms.find(r => r.id === this.selectedRoomId)\r\n      if (!room) return null\r\n      return { ...room, statusModel: room.status === 'open' }\r\n    },\r\n    seatStats () {\r\n      const stats = { free: 0, occupied: 0, disabled: 0, blockedArea: 1 }\r\n      this.seatGrid.forEach(row => {\r\n        row.seats.forEach(seat => {\r\n          if (seat.status === 'free') stats.free++\r\n          else if (seat.status === 'occupied') stats.occupied++\r\n          else if (seat.status === 'disabled') stats.disabled++\r\n        })\r\n      })\r\n      return stats\r\n    },\r\n    latestActivitiesLeft () {\r\n      const mid = Math.ceil(this.latestActivities.length / 2)\r\n      return this.latestActivities.slice(0, mid)\r\n    },\r\n    latestActivitiesRight () {\r\n      const mid = Math.ceil(this.latestActivities.length / 2)\r\n      return this.latestActivities.slice(mid)\r\n    },\r\n\r\n  },\r\n  watch: {\r\n    currentPage (val) {\r\n      if (val !== 'admin-home') this.stopDashboardTimer()\r\n      else if (this.autoRefresh) this.startDashboardTimer()\r\n\r\n      if (val !== 'admin-reservations') this.stopReservationTimer()\r\n      else if (this.reservationAutoRefresh) this.startReservationTimer()\r\n\r\n      if (val !== 'admin-users') this.stopUserTimer()\r\n      else if (this.userAutoRefresh) this.startUserTimer()\r\n    },\r\n    autoRefresh (val) {\r\n      if (val && this.currentPage === 'admin-home') this.startDashboardTimer()\r\n      else this.stopDashboardTimer()\r\n    },\r\n    reservationAutoRefresh (val) {\r\n      if (val && this.currentPage === 'admin-reservations') this.startReservationTimer()\r\n      else this.stopReservationTimer()\r\n    },\r\n    userAutoRefresh (val) {\r\n      if (val && this.currentPage === 'admin-users') this.startUserTimer()\r\n      else this.stopUserTimer()\r\n    }\r\n  },\r\n  created () {\r\n    this.initSeatGrid()\r\n  },\r\n  beforeUnmount () {\r\n    this.stopDashboardTimer()\r\n    this.stopReservationTimer()\r\n    this.stopUserTimer()\r\n  },\r\n  methods: {\r\n    emitChange (page) {\r\n      this.$emit('change-page', page)\r\n    },\r\n\r\n    /* ---------- dashboard timers ---------- */\r\n    startDashboardTimer () {\r\n      this.stopDashboardTimer()\r\n      this.dashboardTimer = setInterval(() => {\r\n        this.refreshDashboardMetrics()\r\n      }, 8000)\r\n    },\r\n    stopDashboardTimer () {\r\n      if (this.dashboardTimer) {\r\n        clearInterval(this.dashboardTimer)\r\n        this.dashboardTimer = null\r\n      }\r\n    },\r\n    refreshDashboardMetrics () {\r\n      // çº¯å‰ç«¯æ¼”ç¤ºï¼šè½»å¾®æ³¢åŠ¨ä¸€ä¸‹æ•°å€¼ï¼Œä½“ç°â€œè‡ªåŠ¨åˆ·æ–°â€ç¡®å®åœ¨åŠ¨\r\n      const jitter = (n, min, max) => Math.min(max, Math.max(min, n))\r\n      this.metrics.todayReservations = jitter(this.metrics.todayReservations + (Math.random() < 0.5 ? -1 : 1) * Math.floor(Math.random() * 3), 80, 200)\r\n      this.metrics.todaySignRate = jitter(this.metrics.todaySignRate + (Math.random() < 0.5 ? -1 : 1) * Math.floor(Math.random() * 2), 60, 98)\r\n      this.metrics.pendingItems = jitter(this.metrics.pendingItems + (Math.random() < 0.5 ? -1 : 1), 0, 20)\r\n    },\r\n\r\n    getTodoTagType (type) {\r\n      if (type === 'complaint') return 'danger'\r\n      if (type === 'violation') return 'warning'\r\n      if (type === 'rule') return 'success'\r\n      return 'info'\r\n    },\r\n    getTodoTypeText (type) {\r\n      if (type === 'complaint') return 'æŠ•è¯‰'\r\n      if (type === 'violation') return 'è¿çº¦'\r\n      if (type === 'rule') return 'è§„åˆ™é…ç½®'\r\n      if (type === 'system') return 'ç³»ç»Ÿ'\r\n      return 'å…¶ä»–'\r\n    },\r\n    getPriorityText (p) {\r\n      if (p === 'high') return 'é«˜'\r\n      if (p === 'medium') return 'ä¸­'\r\n      return 'ä½'\r\n    },\r\n    handleTodoGo (row) {\r\n      // è®©â€œå‰å¾€å¤„ç†â€çœŸçš„èƒ½è·³é¡µï¼ˆæ•´åˆåå¯ç”¨ï¼‰\r\n      if (row.type === 'complaint') return this.emitChange('admin-complaints')\r\n      if (row.type === 'rule') return this.emitChange('admin-seats')\r\n      // violation / system ç»Ÿä¸€å¼•å¯¼åˆ°æ—¥å¿—ç»Ÿè®¡\r\n      return this.emitChange('admin-logs')\r\n    },\r\n    handleTodoDone (row) {\r\n      this.todos = this.todos.filter(t => t.id !== row.id)\r\n    },\r\n    handleMarkAllDone () {\r\n      this.todos = []\r\n    },\r\n\r\n    /* ---------- reservation timers ---------- */\r\n    startReservationTimer () {\r\n      this.stopReservationTimer()\r\n      this.reservationTimer = setInterval(() => {\r\n        this.handleReservationSearch()\r\n      }, 8000)\r\n    },\r\n    stopReservationTimer () {\r\n      if (this.reservationTimer) {\r\n        clearInterval(this.reservationTimer)\r\n        this.reservationTimer = null\r\n      }\r\n    },\r\n\r\n    /* reservation methods */\r\n    handleReservationSearch () {\r\n      this.reservationPage = 1\r\n    },\r\n    resetReservationFilters () {\r\n      this.reservationFilters = { keyword: '', room: '', date: '', status: '' }\r\n      this.reservationPage = 1\r\n    },\r\n    handleSelectionChange (val) {\r\n      this.reservationSelection = val || []\r\n    },\r\n    handlePageChange (page) {\r\n      this.reservationPage = page\r\n    },\r\n    handlePageSizeChange (size) {\r\n      this.reservationPageSize = size\r\n      this.reservationPage = 1\r\n    },\r\n    getStatusTagType (status) {\r\n      if (status === 'booked') return 'info'\r\n      if (status === 'signed') return 'success'\r\n      if (status === 'canceled') return 'warning'\r\n      if (status === 'violation') return 'danger'\r\n      return ''\r\n    },\r\n    getStatusText (status) {\r\n      if (status === 'booked') return 'å·²é¢„çº¦'\r\n      if (status === 'signed') return 'å·²ç­¾åˆ°'\r\n      if (status === 'canceled') return 'å·²å–æ¶ˆ'\r\n      if (status === 'violation') return 'è¿çº¦'\r\n      return status\r\n    },\r\n    handleSign (row) {\r\n      row.status = 'signed'\r\n    },\r\n    handleCancel (row) {\r\n      row.status = 'canceled'\r\n    },\r\n    handleMarkViolation (row) {\r\n      row.status = 'violation'\r\n    },\r\n    handleViewDetail (row) {\r\n      console.log('æŸ¥çœ‹é¢„çº¦è¯¦æƒ…', row)\r\n    },\r\n    handleBatchSign () {\r\n      this.reservationSelection.forEach(item => {\r\n        if (item.status === 'booked') item.status = 'signed'\r\n      })\r\n      this.reservationSelection = []\r\n    },\r\n    handleBatchCancel () {\r\n      this.reservationSelection.forEach(item => {\r\n        if (item.status === 'booked') item.status = 'canceled'\r\n      })\r\n      this.reservationSelection = []\r\n    },\r\n\r\n    /* ---------- user timers ---------- */\r\n    startUserTimer () {\r\n      this.stopUserTimer()\r\n      this.userTimer = setInterval(() => {\r\n        this.handleUserSearch()\r\n      }, 8000)\r\n    },\r\n    stopUserTimer () {\r\n      if (this.userTimer) {\r\n        clearInterval(this.userTimer)\r\n        this.userTimer = null\r\n      }\r\n    },\r\n\r\n    /* user methods */\r\n    handleUserSearch () {\r\n      this.userPage = 1\r\n    },\r\n    resetUserFilters () {\r\n      this.userFilters = { keyword: '', role: '', status: '', onlyAbnormal: false }\r\n      this.userPage = 1\r\n    },\r\n    handleUserSelectionChange (val) {\r\n      this.userSelection = val || []\r\n    },\r\n    handleUserPageChange (page) {\r\n      this.userPage = page\r\n    },\r\n    handleUserPageSizeChange (size) {\r\n      this.userPageSize = size\r\n      this.userPage = 1\r\n    },\r\n    getUserStatusTagType (status) {\r\n      if (status === 'normal') return 'success'\r\n      if (status === 'warning') return 'warning'\r\n      if (status === 'blacklist') return 'danger'\r\n      return ''\r\n    },\r\n    getUserStatusText (status) {\r\n      if (status === 'normal') return 'æ­£å¸¸'\r\n      if (status === 'warning') return 'é¢„è­¦'\r\n      if (status === 'blacklist') return 'é»‘åå•'\r\n      return status\r\n    },\r\n    handleLockUser (row) {\r\n      row.status = 'blacklist'\r\n      if (row.creditScore > 60) row.creditScore = 60\r\n    },\r\n    handleUnlockUser (row) {\r\n      row.status = 'normal'\r\n      if (row.creditScore < 80) row.creditScore = 80\r\n    },\r\n    handleResetPassword (row) {\r\n      console.log('é‡ç½®å¯†ç ', row)\r\n    },\r\n    handleViewUserDetail (row) {\r\n      console.log('æŸ¥çœ‹ç”¨æˆ·è¯¦æƒ…', row)\r\n    },\r\n    handleBatchLock () {\r\n      this.userSelection.forEach(user => {\r\n        user.status = 'blacklist'\r\n        if (user.creditScore > 60) user.creditScore = 60\r\n      })\r\n      this.userSelection = []\r\n    },\r\n    handleBatchUnlock () {\r\n      this.userSelection.forEach(user => {\r\n        user.status = 'normal'\r\n        if (user.creditScore < 80) user.creditScore = 80\r\n      })\r\n      this.userSelection = []\r\n    },\r\n\r\n    /* seat methods */\r\n    initSeatGrid () {\r\n      const rows = 6\r\n      const cols = 8\r\n      const grid = []\r\n      let id = 1\r\n      for (let r = 0; r < rows; r++) {\r\n        const row = { rowIndex: r, seats: [] }\r\n        for (let c = 0; c < cols; c++) {\r\n          row.seats.push({\r\n            id: id++,\r\n            row: r,\r\n            col: c,\r\n            label: `${r + 1}-${c + 1}`,\r\n            status: 'free',\r\n            selected: false\r\n          })\r\n        }\r\n        grid.push(row)\r\n      }\r\n      grid[0].seats[0].status = 'occupied'\r\n      grid[0].seats[1].status = 'occupied'\r\n      grid[2].seats[3].status = 'disabled'\r\n      grid[3].seats[4].status = 'disabled'\r\n      this.seatGrid = grid\r\n    },\r\n    handleSelectRoom (row) {\r\n      this.selectedRoomId = row.id\r\n    },\r\n    toggleRoomOpen (row) {\r\n      row.status = row.status === 'open' ? 'closed' : 'open'\r\n    },\r\n    handleEditRoom (row) {\r\n      console.log('ç¼–è¾‘è‡ªä¹ å®¤é…ç½®ï¼ˆå¼¹çª—é¢„ç•™ï¼‰', row)\r\n    },\r\n    syncRoomStatus (val) {\r\n      const room = this.rooms.find(r => r.id === this.selectedRoomId)\r\n      if (room) room.status = val ? 'open' : 'closed'\r\n    },\r\n    seatCellClass (seat) {\r\n      return [`seat-status-${seat.status}`, seat.selected ? 'seat-selected' : '']\r\n    },\r\n    handleSeatClick (seat) {\r\n      seat.selected = !seat.selected\r\n      if (this.showDemoOccupied && seat.status === 'free' && Math.random() < 0.05) {\r\n        seat.status = 'occupied'\r\n      }\r\n    },\r\n    handleBatchDisable () {\r\n      this.seatGrid.forEach(row => {\r\n        row.seats.forEach(seat => {\r\n          if (seat.selected) {\r\n            seat.status = 'disabled'\r\n            seat.selected = false\r\n          }\r\n        })\r\n      })\r\n    },\r\n    handleClearSelection () {\r\n      this.seatGrid.forEach(row => {\r\n        row.seats.forEach(seat => { seat.selected = false })\r\n      })\r\n    },\r\n    resetSeatRule () {\r\n      this.seatRule = {\r\n        allowCrossTime: false,\r\n        maxHoursPerOrder: 4,\r\n        maxOrdersPerDay: 2,\r\n        autoReleaseNoSign: true,\r\n        releaseAfterMinutes: 20,\r\n        violationStrategy: 'day-ban',\r\n        description: 'æœ¬è‡ªä¹ å®¤éœ€ä¿æŒå®‰é™ï¼Œè¿Ÿåˆ°è¶…è¿‡ 20 åˆ†é’Ÿç³»ç»Ÿå°†è‡ªåŠ¨é‡Šæ”¾åº§ä½ã€‚'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* é€šç”¨å¡ç‰‡ */\r\n.card {\r\n  background-color: #ffffff;\r\n  border-radius: 16px;\r\n  padding: 20px 24px;\r\n  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.06);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.page-title {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.page-subtitle {\r\n  margin: 4px 0 0;\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n}\r\n\r\n/* ============ Dashboard styles ============ */\r\n.dashboard-page {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14px;\r\n}\r\n\r\n.welcome-card {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 18px;\r\n  background: linear-gradient(135deg, #2563eb, #1d4ed8);\r\n  color: #ffffff;\r\n  border: none;\r\n}\r\n\r\n.welcome-left, .welcome-right { flex: 1.1; }\r\n\r\n.welcome-title-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.welcome-title {\r\n  margin: 0;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n\r\n.welcome-subtitle {\r\n  margin: 6px 0 8px;\r\n  font-size: 13px;\r\n  opacity: 0.95;\r\n}\r\n\r\n.welcome-meta {\r\n  font-size: 12px;\r\n  opacity: 0.95;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.meta-separator { opacity: 0.7; }\r\n\r\n.metric-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, minmax(0, 1fr));\r\n  gap: 10px;\r\n}\r\n\r\n.metric-item {\r\n  background: rgba(15, 23, 42, 0.16);\r\n  border-radius: 12px;\r\n  padding: 10px 12px;\r\n}\r\n\r\n.metric-label {\r\n  font-size: 12px;\r\n  opacity: 0.95;\r\n}\r\n\r\n.metric-value {\r\n  margin-top: 4px;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n\r\n.metric-value.warning { color: #fee2e2; }\r\n\r\n.metric-unit { font-size: 12px; margin-left: 2px; }\r\n\r\n.metric-desc {\r\n  margin-top: 4px;\r\n  font-size: 12px;\r\n  opacity: 0.9;\r\n}\r\n\r\n.metric-progress { margin-top: 4px; }\r\n\r\n.middle-row {\r\n  display: flex;\r\n  gap: 14px;\r\n  align-items: stretch;\r\n}\r\n\r\n.trend-card { flex: 1.2; }\r\n.notice-card { flex: 1; }\r\n\r\n.card-header-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card-title {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.card-subtitle {\r\n  margin: 4px 0 0;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.trend-extra {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n.trend-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.trend-item {\r\n  padding: 6px 0;\r\n  border-bottom: 1px dashed #e5e7eb;\r\n}\r\n\r\n.trend-item:last-child { border-bottom: none; }\r\n\r\n.trend-item-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.trend-item-title { font-size: 13px; color: #111827; }\r\n.trend-item-value { font-size: 13px; font-weight: 600; color: #111827; }\r\n.trend-progress { margin: 4px 0; }\r\n.trend-item-desc { font-size: 12px; color: #6b7280; }\r\n\r\n.notice-carousel { margin-top: 4px; }\r\n.notice-item { display: flex; flex-direction: column; justify-content: center; }\r\n\r\n.notice-tag-wrapper { display: flex; align-items: center; gap: 8px; }\r\n.notice-time { font-size: 12px; color: #9ca3af; }\r\n\r\n.notice-title { margin-top: 4px; font-size: 14px; font-weight: 600; color: #111827; }\r\n.notice-desc { margin-top: 2px; font-size: 12px; color: #4b5563; }\r\n\r\n.notice-footer {\r\n  margin-top: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.notice-dot {\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 999px;\r\n  background-color: #22c55e;\r\n}\r\n\r\n.todo-table { margin-top: 4px; }\r\n\r\n.todo-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.dashboard-row {\r\n  display: flex;\r\n  gap: 14px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.dashboard-card { flex: 1; min-width: 280px; }\r\n\r\n/* timeline */\r\n.timeline-list { list-style: none; padding: 0; margin: 4px 0 0; }\r\n.timeline-item { padding: 10px 0; border-bottom: 1px dashed #e5e7eb; }\r\n.timeline-item:last-child { border-bottom: none; }\r\n\r\n.timeline-main { display: flex; justify-content: space-between; align-items: center; gap: 8px; }\r\n.timeline-text { font-size: 13px; color: #111827; }\r\n.timeline-tag { font-size: 12px; padding: 2px 8px; border-radius: 999px; }\r\n.tag-book { background-color: #eff6ff; color: #1d4ed8; }\r\n.tag-sign { background-color: #ecfdf3; color: #15803d; }\r\n.tag-cancel { background-color: #fef3c7; color: #b45309; }\r\n.timeline-time { margin-top: 4px; font-size: 12px; color: #6b7280; }\r\n\r\n/* quick actions */\r\n.quick-actions { display: flex; flex-wrap: wrap; gap: 8px; }\r\n.quick-tip { margin-top: 8px; font-size: 12px; color: #6b7280; }\r\n\r\n/* ============ Reservation/User shared styles ============ */\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.reservation-header-right,\r\n.user-header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.auto-refresh {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n.filter-bar {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.filter-item { min-width: 180px; }\r\n.filter-input { flex: 2; }\r\n.filter-select, .filter-date { flex: 1; }\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.input-prefix-icon { font-size: 14px; }\r\n\r\n.reservation-stats {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin: 8px 0 12px;\r\n}\r\n\r\n.stat-card {\r\n  flex: 1;\r\n  min-width: 140px;\r\n  border-radius: 12px;\r\n  background-color: #f9fafb;\r\n  padding: 10px 12px;\r\n}\r\n\r\n.stat-label { font-size: 12px; color: #6b7280; }\r\n.stat-value { margin-top: 4px; font-size: 18px; font-weight: 600; color: #111827; }\r\n\r\n.reservation-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 4px 0 12px;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.toolbar-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.toolbar-right { font-size: 12px; color: #6b7280; }\r\n.toolbar-tip { font-size: 12px; color: #4b5563; }\r\n\r\n.reservation-table, .user-table { width: 100%; }\r\n\r\n.student-cell { display: flex; flex-direction: column; }\r\n.student-name { font-size: 13px; color: #111827; }\r\n.student-no { font-size: 12px; color: #6b7280; }\r\n\r\n.remark-text { font-size: 12px; color: #4b5563; }\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.el-dropdown-link { font-size: 13px; color: #2563eb; cursor: pointer; }\r\n.disabled-text { font-size: 12px; color: #9ca3af; }\r\n\r\n.table-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 12px;\r\n}\r\n\r\n/* user special */\r\n.user-name-cell { display: flex; flex-direction: column; }\r\n.user-name-main { font-size: 13px; color: #111827; }\r\n\r\n.user-role-tag {\r\n  margin-left: 4px;\r\n  padding: 1px 6px;\r\n  border-radius: 999px;\r\n  font-size: 11px;\r\n  background-color: #eff6ff;\r\n  color: #1d4ed8;\r\n}\r\n\r\n.user-role-tag.teacher { background-color: #ecfdf3; color: #15803d; }\r\n.user-role-tag.admin { background-color: #fef3c7; color: #b45309; }\r\n\r\n.user-extra { font-size: 12px; color: #6b7280; }\r\n\r\n.credit-score { font-size: 13px; font-weight: 600; color: #111827; }\r\n.credit-low { color: #b91c1c; }\r\n.credit-high { color: #15803d; }\r\n\r\n/* ============ Seat Manage styles ============ */\r\n.seat-manage {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14px;\r\n}\r\n\r\n.seat-top-card {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.seat-top-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.top-select { min-width: 140px; }\r\n\r\n.top-switch {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n.top-switch-label {\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n.seat-layout {\r\n  display: flex;\r\n  gap: 14px;\r\n  align-items: flex-start;\r\n}\r\n\r\n.seat-left-card {\r\n  flex: 0 0 40%;\r\n  max-width: 420px;\r\n}\r\n\r\n.left-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.left-title { margin: 0; font-size: 15px; font-weight: 600; color: #111827; }\r\n.left-subtitle { margin: 4px 0 0; font-size: 12px; color: #6b7280; }\r\n\r\n.left-filter {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.room-table { width: 100%; }\r\n\r\n.room-name { display: flex; flex-direction: column; }\r\n.room-name-main { font-size: 13px; color: #111827; }\r\n.room-name-sub { font-size: 12px; color: #6b7280; }\r\n\r\n.seat-right { flex: 1; }\r\n.seat-right-card { width: 100%; }\r\n\r\n.right-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  gap: 16px;\r\n}\r\n\r\n.right-title { margin: 0; font-size: 16px; font-weight: 600; color: #111827; }\r\n.right-subtitle { margin: 4px 0 0; font-size: 12px; color: #6b7280; }\r\n\r\n.right-header-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.seat-stats {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.seat-tabs { margin-top: 4px; }\r\n\r\n.layout-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 6px 0 8px;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.layout-toolbar-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.layout-toolbar-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.seat-legend {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 14px;\r\n  margin-bottom: 6px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n.legend-box {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.legend-free { background-color: #e0f2fe; }\r\n.legend-occupied { background-color: #fee2e2; }\r\n.legend-disabled { background-color: #e5e7eb; }\r\n.legend-selected { background-color: #ddd6fe; }\r\n\r\n.seat-grid {\r\n  width: 100%;\r\n  border-radius: 12px;\r\n  background: linear-gradient(135deg, #f3f4f6, #f9fafb);\r\n  padding: 12px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.seat-row {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.seat-row:last-child { margin-bottom: 0; }\r\n\r\n.seat-row-label {\r\n  width: 70px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.seat-row-seats {\r\n  flex: 1;\r\n  display: grid;\r\n  grid-template-columns: repeat(8, minmax(0, 1fr));\r\n  gap: 6px;\r\n}\r\n\r\n.seat-cell {\r\n  height: 26px;\r\n  border-radius: 6px;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  position: relative;\r\n  transition: transform 0.1s ease, box-shadow 0.1s ease;\r\n}\r\n\r\n.seat-cell:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 4px 8px rgba(15, 23, 42, 0.12);\r\n}\r\n\r\n.seat-status-free { background-color: #e0f2fe; border: 1px solid #bfdbfe; }\r\n.seat-status-occupied { background-color: #fee2e2; border: 1px solid #fecaca; }\r\n.seat-status-disabled { background-color: #e5e7eb; border: 1px solid #d1d5db; }\r\n\r\n.seat-selected { box-shadow: 0 0 0 2px #a855f7; }\r\n\r\n.seat-no {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 11px;\r\n  color: #0f172a;\r\n}\r\n\r\n.rule-form { margin-top: 6px; }\r\n\r\n.item-desc {\r\n  margin-left: 6px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.inline-group {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n}\r\n\r\n/* simple page */\r\n.simple-tip { margin-top: 12px; font-size: 13px; color: #4b5563; }\r\n\r\n/* responsive */\r\n@media (max-width: 1024px) {\r\n  .welcome-card { flex-direction: column; }\r\n  .metric-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }\r\n  .middle-row { flex-direction: column; }\r\n}\r\n\r\n@media (max-width: 980px) {\r\n  .seat-layout { flex-direction: column; }\r\n  .seat-left-card { flex: 1; max-width: 100%; }\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  .card-header { flex-direction: column; align-items: flex-start; gap: 8px; }\r\n  .reservation-header-right, .user-header-right { width: 100%; justify-content: flex-start; }\r\n  .filter-bar { flex-direction: column; }\r\n  .filter-item, .filter-input, .filter-select, .filter-date { width: 100%; }\r\n  .reservation-toolbar { flex-direction: column; align-items: flex-start; }\r\n  .table-footer { justify-content: center; }\r\n}\r\n\r\n@media (max-width: 780px) {\r\n  .seat-top-card { flex-direction: column; align-items: flex-start; }\r\n  .seat-top-right { flex-wrap: wrap; }\r\n  .right-header { flex-direction: column; align-items: flex-start; }\r\n  .layout-toolbar { flex-direction: column; align-items: flex-start; }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}