{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, vModelRadio as _vModelRadio, createTextVNode as _createTextVNode, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, Fragment as _Fragment, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login-page\"\n};\nconst _hoisted_2 = {\n  class: \"auth-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"auth-left\"\n};\nconst _hoisted_4 = {\n  class: \"auth-card\"\n};\nconst _hoisted_5 = {\n  class: \"mode-toggle\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  class: \"form-group\"\n};\nconst _hoisted_8 = {\n  class: \"form-group form-inline\"\n};\nconst _hoisted_9 = {\n  class: \"radio-label\"\n};\nconst _hoisted_10 = {\n  class: \"radio-label\"\n};\nconst _hoisted_11 = {\n  class: \"form-helper\"\n};\nconst _hoisted_12 = {\n  class: \"check-label\"\n};\nconst _hoisted_13 = {\n  class: \"bottom-tip\"\n};\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_16 = {\n  class: \"form-group\"\n};\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = {\n  class: \"form-group\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  key: 0,\n  class: \"field-error\"\n};\nconst _hoisted_22 = {\n  class: \"form-group form-inline\"\n};\nconst _hoisted_23 = {\n  class: \"radio-label\"\n};\nconst _hoisted_24 = {\n  class: \"radio-label\"\n};\nconst _hoisted_25 = {\n  class: \"form-helper\",\n  style: {\n    \"justify-content\": \"flex-start\"\n  }\n};\nconst _hoisted_26 = {\n  class: \"check-label\"\n};\nconst _hoisted_27 = {\n  class: \"bottom-tip\"\n};\nconst _hoisted_28 = {\n  class: \"agreement-dialog\"\n};\nconst _hoisted_29 = {\n  class: \"agreement-header\"\n};\nconst _hoisted_30 = {\n  class: \"agreement-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 左侧：登录/注册 \"), _createElementVNode(\"div\", _hoisted_3, [_cache[48] || (_cache[48] = _createStaticVNode(\"<div class=\\\"auth-logo-row\\\" data-v-61c0972c><div class=\\\"logo-icon\\\" data-v-61c0972c><span class=\\\"logo-initial\\\" data-v-61c0972c>自</span></div><div class=\\\"logo-text\\\" data-v-61c0972c><div class=\\\"logo-title\\\" data-v-61c0972c>自习室预约系统</div><div class=\\\"logo-subtitle\\\" data-v-61c0972c>Study Room Reservation</div></div></div>\", 1)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"mode-btn\", {\n      active: $options.isLogin\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $options.switchMode('login'))\n  }, \"登录\", 2 /* CLASS */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: _normalizeClass([\"mode-btn\", {\n      active: !$options.isLogin\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $options.switchMode('register'))\n  }, \"注册\", 2 /* CLASS */)]), _createCommentVNode(\" 登录 \"), $options.isLogin ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    class: \"auth-form\",\n    onSubmit: _cache[9] || (_cache[9] = _withModifiers((...args) => $options.handleLogin && $options.handleLogin(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_6, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"账号\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.loginForm.account = $event),\n    class: \"form-input\",\n    type: \"text\",\n    placeholder: \"请输入账号\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginForm.account]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"密码\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.loginForm.password = $event),\n    class: \"form-input\",\n    type: \"password\",\n    placeholder: \"请输入密码\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loginForm.password]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[33] || (_cache[33] = _createElementVNode(\"span\", {\n    class: \"form-label-inline\"\n  }, \"登录身份\", -1 /* CACHED */)), _createElementVNode(\"label\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"student\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.loginForm.role = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.loginForm.role]]), _cache[31] || (_cache[31] = _createTextVNode(\" 学生用户 \", -1 /* CACHED */))]), _createElementVNode(\"label\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"admin\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.loginForm.role = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.loginForm.role]]), _cache[32] || (_cache[32] = _createTextVNode(\" 管理员 \", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"label\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.loginForm.remember = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.loginForm.remember]]), _cache[34] || (_cache[34] = _createTextVNode(\" 记住登录状态 \", -1 /* CACHED */))]), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"link-btn\",\n    onClick: _cache[7] || (_cache[7] = _withModifiers((...args) => $options.handleForgot && $options.handleForgot(...args), [\"prevent\"]))\n  }, \"忘记密码？\")]), _cache[36] || (_cache[36] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"primary-btn\"\n  }, \"登录\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_13, [_cache[35] || (_cache[35] = _createTextVNode(\" 还没有账号？ \", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"link-btn\",\n    onClick: _cache[8] || (_cache[8] = $event => $options.switchMode('register'))\n  }, \"立即注册\")])], 32 /* NEED_HYDRATION */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 注册 \"), _createElementVNode(\"form\", {\n    class: \"auth-form\",\n    onSubmit: _cache[25] || (_cache[25] = _withModifiers((...args) => $options.handleRegister && $options.handleRegister(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_14, [_cache[37] || (_cache[37] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"账号\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.registerForm.account = $event),\n    class: \"form-input\",\n    type: \"text\",\n    placeholder: \"请输入账号\",\n    onInput: _cache[11] || (_cache[11] = (...args) => $options.scheduleCheckAccount && $options.scheduleCheckAccount(...args)),\n    onBlur: _cache[12] || (_cache[12] = (...args) => $options.checkAccountExists && $options.checkAccountExists(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.registerForm.account]]), $data.registerErrors.account ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _toDisplayString($data.registerErrors.account), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_16, [_cache[38] || (_cache[38] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"学号\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.registerForm.studentNo = $event),\n    class: \"form-input\",\n    type: \"text\",\n    placeholder: \"请输入学号\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerForm.studentNo]])]), _createElementVNode(\"div\", _hoisted_17, [_cache[39] || (_cache[39] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"昵称\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.registerForm.name = $event),\n    class: \"form-input\",\n    type: \"text\",\n    placeholder: \"请输入昵称\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.registerForm.name]])]), _createElementVNode(\"div\", _hoisted_18, [_cache[40] || (_cache[40] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"设置密码\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => $data.registerForm.password = $event),\n    class: \"form-input\",\n    type: \"password\",\n    placeholder: \"至少 6 位，仅支持字母/数字/_\",\n    onInput: _cache[16] || (_cache[16] = $event => {\n      $options.checkPasswordRules();\n      $options.checkPasswordMatch();\n    }),\n    onBlur: _cache[17] || (_cache[17] = (...args) => $options.checkPasswordRules && $options.checkPasswordRules(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.registerForm.password]]), $data.registerErrors.password ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, _toDisplayString($data.registerErrors.password), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_20, [_cache[41] || (_cache[41] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"确认密码\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[18] || (_cache[18] = $event => $data.registerForm.confirmPassword = $event),\n    class: \"form-input\",\n    type: \"password\",\n    placeholder: \"请再次输入密码\",\n    onInput: _cache[19] || (_cache[19] = (...args) => $options.checkPasswordMatch && $options.checkPasswordMatch(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.registerForm.confirmPassword]]), $data.registerErrors.confirmPassword ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, _toDisplayString($data.registerErrors.confirmPassword), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_22, [_cache[44] || (_cache[44] = _createElementVNode(\"span\", {\n    class: \"form-label-inline\"\n  }, \"注册身份\", -1 /* CACHED */)), _createElementVNode(\"label\", _hoisted_23, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"student\",\n    \"onUpdate:modelValue\": _cache[20] || (_cache[20] = $event => $data.registerForm.role = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.registerForm.role]]), _cache[42] || (_cache[42] = _createTextVNode(\" 学生用户 \", -1 /* CACHED */))]), _createElementVNode(\"label\", _hoisted_24, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"radio\",\n    value: \"admin\",\n    \"onUpdate:modelValue\": _cache[21] || (_cache[21] = $event => $data.registerForm.role = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelRadio, $data.registerForm.role]]), _cache[43] || (_cache[43] = _createTextVNode(\" 管理员 \", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"label\", _hoisted_26, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[22] || (_cache[22] = $event => $data.registerForm.agree = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.registerForm.agree]]), _cache[45] || (_cache[45] = _createTextVNode(\" 已阅读并同意 \", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"link-btn\",\n    onClick: _cache[23] || (_cache[23] = _withModifiers((...args) => $options.handleShowAgreement && $options.handleShowAgreement(...args), [\"prevent\"]))\n  }, \"《用户协议》\")])]), _cache[47] || (_cache[47] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"primary-btn\"\n  }, \"注册\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_27, [_cache[46] || (_cache[46] = _createTextVNode(\" 已有账号？ \", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"link-btn\",\n    onClick: _cache[24] || (_cache[24] = $event => $options.switchMode('login'))\n  }, \"直接登录\")])], 32 /* NEED_HYDRATION */)], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))])]), _createCommentVNode(\" 右侧文案 \"), _cache[51] || (_cache[51] = _createStaticVNode(\"<div class=\\\"auth-right\\\" data-v-61c0972c><div class=\\\"slogan-block\\\" data-v-61c0972c><h2 class=\\\"slogan-title\\\" data-v-61c0972c>预约自习室的最佳通用解决方案</h2><p class=\\\"slogan-desc\\\" data-v-61c0972c>统一的自习室预约平台，让学生轻松选座，管理员高效管理场地和预约。</p><ul class=\\\"slogan-list\\\" data-v-61c0972c><li data-v-61c0972c>· 支持多校区、多楼栋、多自习室统一管理</li><li data-v-61c0972c>· 支持预约、签到、违约处理与信用分统计</li><li data-v-61c0972c>· 预留 API 接口，方便与学校现有系统对接</li></ul><div class=\\\"slogan-sign\\\" data-v-61c0972c>—— SSRMS</div></div></div>\", 1)), _createCommentVNode(\" 用户协议弹窗 \"), $data.showAgreement ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"agreement-mask\",\n    onClick: _cache[28] || (_cache[28] = _withModifiers((...args) => $options.closeAgreement && $options.closeAgreement(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_cache[49] || (_cache[49] = _createElementVNode(\"h3\", {\n    class: \"agreement-title\"\n  }, \"自习室预约系统用户协议\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"agreement-close\",\n    type: \"button\",\n    onClick: _cache[26] || (_cache[26] = (...args) => $options.closeAgreement && $options.closeAgreement(...args))\n  }, \"×\")]), _cache[50] || (_cache[50] = _createStaticVNode(\"<div class=\\\"agreement-body\\\" data-v-61c0972c><div class=\\\"agreement-scroll\\\" data-v-61c0972c><p data-v-61c0972c><b data-v-61c0972c>1. 协议说明</b></p><p data-v-61c0972c>本协议适用于自习室预约系统（以下简称“本系统”）提供的账号注册、登录、预约、签到、取消、违约处理、信用分管理等服务。用户注册或使用本系统即视为已阅读并同意本协议。</p><p data-v-61c0972c><b data-v-61c0972c>2. 账号与信息</b></p><p data-v-61c0972c>用户应提供真实、准确、完整的注册信息，并妥善保管账号与密码。因账号泄露或密码保管不当造成的损失由用户自行承担。</p><p data-v-61c0972c><b data-v-61c0972c>3. 预约与签到规则</b></p><p data-v-61c0972c>用户应按预约时间到场并完成签到。若系统或管理员设置了签到时限、迟到规则、自动释放规则等，用户应遵守相应要求。自习室资源有限，请合理预约、按需取消。</p><p data-v-61c0972c><b data-v-61c0972c>4. 违约与信用分</b></p><p data-v-61c0972c>出现以下情形可能被判定为违约：预约后未按规定时间签到、恶意占座、频繁占用资源影响他人等。系统可依据规则对用户进行提醒、扣减信用分、限制预约、加入黑名单等处理。</p><p data-v-61c0972c><b data-v-61c0972c>5. 禁止行为</b></p><p data-v-61c0972c>用户不得利用本系统从事任何违法违规行为，不得恶意攻击系统、刷接口、伪造签到、干扰座位状态或影响其他用户正常使用。</p><p data-v-61c0972c><b data-v-61c0972c>6. 数据与隐私</b></p><p data-v-61c0972c>本系统会在提供服务所必需的范围内收集并处理用户信息（如学号、姓名、预约记录、签到记录、违约记录等），用于账号管理与服务改进。未经授权，本系统不会向无关第三方泄露用户信息，但法律法规另有规定或司法/行政机关依法要求的除外。</p><p data-v-61c0972c><b data-v-61c0972c>7. 免责声明</b></p><p data-v-61c0972c>因不可抗力、网络故障、设备故障、系统维护升级等原因导致服务中断或数据延迟，本系统将尽力修复与恢复，但不对因此造成的间接损失承担责任。</p><p data-v-61c0972c><b data-v-61c0972c>8. 协议变更</b></p><p data-v-61c0972c>本系统有权根据运营需要更新本协议。更新后的协议将以公告、弹窗或页面提示等方式告知，用户继续使用即视为接受变更。</p><p data-v-61c0972c><b data-v-61c0972c>9. 联系方式</b></p><p data-v-61c0972c>如对本协议或系统使用有疑问，请联系系统管理员或学校相关管理部门。</p></div></div>\", 1)), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"primary-btn primary-btn-small\",\n    onClick: _cache[27] || (_cache[27] = (...args) => $options.agreeAndClose && $options.agreeAndClose(...args))\n  }, \" 我已阅读并同意 \")])])])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","type","_normalizeClass","active","$options","isLogin","onClick","_cache","$event","switchMode","onSubmit","_withModifiers","args","handleLogin","_hoisted_6","$data","loginForm","account","placeholder","_hoisted_7","password","_hoisted_8","_hoisted_9","value","role","_hoisted_10","_hoisted_11","_hoisted_12","remember","handleForgot","_hoisted_13","_Fragment","key","handleRegister","_hoisted_14","registerForm","onInput","scheduleCheckAccount","onBlur","checkAccountExists","registerErrors","_hoisted_15","_toDisplayString","_hoisted_16","studentNo","_hoisted_17","name","_hoisted_18","checkPasswordRules","checkPasswordMatch","_hoisted_19","_hoisted_20","confirmPassword","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","agree","handleShowAgreement","_hoisted_27","showAgreement","closeAgreement","_hoisted_28","_hoisted_29","_hoisted_30","agreeAndClose"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\LoginRegister.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"auth-wrapper\">\r\n      <!-- 左侧：登录/注册 -->\r\n      <div class=\"auth-left\">\r\n        <div class=\"auth-logo-row\">\r\n          <div class=\"logo-icon\">\r\n            <span class=\"logo-initial\">自</span>\r\n          </div>\r\n          <div class=\"logo-text\">\r\n            <div class=\"logo-title\">自习室预约系统</div>\r\n            <div class=\"logo-subtitle\">Study Room Reservation</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"auth-card\">\r\n          <div class=\"mode-toggle\">\r\n            <button type=\"button\" class=\"mode-btn\" :class=\"{ active: isLogin }\" @click=\"switchMode('login')\">登录</button>\r\n            <button type=\"button\" class=\"mode-btn\" :class=\"{ active: !isLogin }\" @click=\"switchMode('register')\">注册</button>\r\n          </div>\r\n\r\n          <!-- 登录 -->\r\n          <form v-if=\"isLogin\" class=\"auth-form\" @submit.prevent=\"handleLogin\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">账号</label>\r\n              <input v-model=\"loginForm.account\" class=\"form-input\" type=\"text\" placeholder=\"请输入账号\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">密码</label>\r\n              <input v-model=\"loginForm.password\" class=\"form-input\" type=\"password\" placeholder=\"请输入密码\" />\r\n            </div>\r\n\r\n            <div class=\"form-group form-inline\">\r\n              <span class=\"form-label-inline\">登录身份</span>\r\n              <label class=\"radio-label\">\r\n                <input type=\"radio\" value=\"student\" v-model=\"loginForm.role\" />\r\n                学生用户\r\n              </label>\r\n              <label class=\"radio-label\">\r\n                <input type=\"radio\" value=\"admin\" v-model=\"loginForm.role\" />\r\n                管理员\r\n              </label>\r\n            </div>\r\n\r\n            <div class=\"form-helper\">\r\n              <label class=\"check-label\">\r\n                <input type=\"checkbox\" v-model=\"loginForm.remember\" />\r\n                记住登录状态\r\n              </label>\r\n              <button type=\"button\" class=\"link-btn\" @click.prevent=\"handleForgot\">忘记密码？</button>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"primary-btn\">登录</button>\r\n\r\n            <div class=\"bottom-tip\">\r\n              还没有账号？\r\n              <button type=\"button\" class=\"link-btn\" @click=\"switchMode('register')\">立即注册</button>\r\n            </div>\r\n          </form>\r\n\r\n          <!-- 注册 -->\r\n          <form v-else class=\"auth-form\" @submit.prevent=\"handleRegister\">\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">账号</label>\r\n              <input\r\n                  v-model=\"registerForm.account\"\r\n                  class=\"form-input\"\r\n                  type=\"text\"\r\n                  placeholder=\"请输入账号\"\r\n                  @input=\"scheduleCheckAccount\"\r\n                  @blur=\"checkAccountExists\"\r\n              />\r\n              <div v-if=\"registerErrors.account\" class=\"field-error\">{{ registerErrors.account }}</div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">学号</label>\r\n              <input v-model=\"registerForm.studentNo\" class=\"form-input\" type=\"text\" placeholder=\"请输入学号\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">昵称</label>\r\n              <input v-model=\"registerForm.name\" class=\"form-input\" type=\"text\" placeholder=\"请输入昵称\" />\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">设置密码</label>\r\n              <input\r\n                  v-model=\"registerForm.password\"\r\n                  class=\"form-input\"\r\n                  type=\"password\"\r\n                  placeholder=\"至少 6 位，仅支持字母/数字/_\"\r\n                  @input=\"checkPasswordRules(); checkPasswordMatch()\"\r\n                  @blur=\"checkPasswordRules\"\r\n              />\r\n              <div v-if=\"registerErrors.password\" class=\"field-error\">{{ registerErrors.password }}</div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label class=\"form-label\">确认密码</label>\r\n              <input\r\n                  v-model=\"registerForm.confirmPassword\"\r\n                  class=\"form-input\"\r\n                  type=\"password\"\r\n                  placeholder=\"请再次输入密码\"\r\n                  @input=\"checkPasswordMatch\"\r\n              />\r\n              <div v-if=\"registerErrors.confirmPassword\" class=\"field-error\">{{ registerErrors.confirmPassword }}</div>\r\n            </div>\r\n\r\n            <div class=\"form-group form-inline\">\r\n              <span class=\"form-label-inline\">注册身份</span>\r\n              <label class=\"radio-label\">\r\n                <input type=\"radio\" value=\"student\" v-model=\"registerForm.role\" />\r\n                学生用户\r\n              </label>\r\n              <label class=\"radio-label\">\r\n                <input type=\"radio\" value=\"admin\" v-model=\"registerForm.role\" />\r\n                管理员\r\n              </label>\r\n            </div>\r\n\r\n            <div class=\"form-helper\" style=\"justify-content:flex-start;\">\r\n              <label class=\"check-label\">\r\n                <input type=\"checkbox\" v-model=\"registerForm.agree\" />\r\n                已阅读并同意\r\n                <button type=\"button\" class=\"link-btn\" @click.prevent=\"handleShowAgreement\">《用户协议》</button>\r\n              </label>\r\n            </div>\r\n\r\n            <button type=\"submit\" class=\"primary-btn\">注册</button>\r\n\r\n            <div class=\"bottom-tip\">\r\n              已有账号？\r\n              <button type=\"button\" class=\"link-btn\" @click=\"switchMode('login')\">直接登录</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 右侧文案 -->\r\n      <div class=\"auth-right\">\r\n        <div class=\"slogan-block\">\r\n          <h2 class=\"slogan-title\">预约自习室的最佳通用解决方案</h2>\r\n          <p class=\"slogan-desc\">统一的自习室预约平台，让学生轻松选座，管理员高效管理场地和预约。</p>\r\n          <ul class=\"slogan-list\">\r\n            <li>· 支持多校区、多楼栋、多自习室统一管理</li>\r\n            <li>· 支持预约、签到、违约处理与信用分统计</li>\r\n            <li>· 预留 API 接口，方便与学校现有系统对接</li>\r\n          </ul>\r\n          <div class=\"slogan-sign\">—— SSRMS</div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 用户协议弹窗 -->\r\n      <div v-if=\"showAgreement\" class=\"agreement-mask\" @click.self=\"closeAgreement\">\r\n        <div class=\"agreement-dialog\">\r\n          <div class=\"agreement-header\">\r\n            <h3 class=\"agreement-title\">自习室预约系统用户协议</h3>\r\n            <button class=\"agreement-close\" type=\"button\" @click=\"closeAgreement\">×</button>\r\n          </div>\r\n\r\n          <div class=\"agreement-body\">\r\n            <div class=\"agreement-scroll\">\r\n              <p><b>1. 协议说明</b></p>\r\n              <p>本协议适用于自习室预约系统（以下简称“本系统”）提供的账号注册、登录、预约、签到、取消、违约处理、信用分管理等服务。用户注册或使用本系统即视为已阅读并同意本协议。</p>\r\n\r\n              <p><b>2. 账号与信息</b></p>\r\n              <p>用户应提供真实、准确、完整的注册信息，并妥善保管账号与密码。因账号泄露或密码保管不当造成的损失由用户自行承担。</p>\r\n\r\n              <p><b>3. 预约与签到规则</b></p>\r\n              <p>用户应按预约时间到场并完成签到。若系统或管理员设置了签到时限、迟到规则、自动释放规则等，用户应遵守相应要求。自习室资源有限，请合理预约、按需取消。</p>\r\n\r\n              <p><b>4. 违约与信用分</b></p>\r\n              <p>出现以下情形可能被判定为违约：预约后未按规定时间签到、恶意占座、频繁占用资源影响他人等。系统可依据规则对用户进行提醒、扣减信用分、限制预约、加入黑名单等处理。</p>\r\n\r\n              <p><b>5. 禁止行为</b></p>\r\n              <p>用户不得利用本系统从事任何违法违规行为，不得恶意攻击系统、刷接口、伪造签到、干扰座位状态或影响其他用户正常使用。</p>\r\n\r\n              <p><b>6. 数据与隐私</b></p>\r\n              <p>本系统会在提供服务所必需的范围内收集并处理用户信息（如学号、姓名、预约记录、签到记录、违约记录等），用于账号管理与服务改进。未经授权，本系统不会向无关第三方泄露用户信息，但法律法规另有规定或司法/行政机关依法要求的除外。</p>\r\n\r\n              <p><b>7. 免责声明</b></p>\r\n              <p>因不可抗力、网络故障、设备故障、系统维护升级等原因导致服务中断或数据延迟，本系统将尽力修复与恢复，但不对因此造成的间接损失承担责任。</p>\r\n\r\n              <p><b>8. 协议变更</b></p>\r\n              <p>本系统有权根据运营需要更新本协议。更新后的协议将以公告、弹窗或页面提示等方式告知，用户继续使用即视为接受变更。</p>\r\n\r\n              <p><b>9. 联系方式</b></p>\r\n              <p>如对本协议或系统使用有疑问，请联系系统管理员或学校相关管理部门。</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"agreement-footer\">\r\n            <button type=\"button\" class=\"primary-btn primary-btn-small\" @click=\"agreeAndClose\">\r\n              我已阅读并同意\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'LoginRegister',\r\n  data () {\r\n    return {\r\n      mode: 'login',\r\n\r\n      loginForm: { account: '', password: '', role: 'student', remember: true },\r\n\r\n      registerForm: {\r\n        account: '',\r\n        studentNo: '',\r\n        name: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        role: 'student',\r\n        agree: false\r\n      },\r\n\r\n      showAgreement: false,\r\n\r\n      registerErrors: {\r\n        account: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n      },\r\n\r\n      accountTimer: null\r\n    }\r\n  },\r\n  computed: {\r\n    isLogin () {\r\n      return this.mode === 'login'\r\n    }\r\n  },\r\n  methods: {\r\n    toast (type, msg) {\r\n      ElMessage({ type, message: msg })\r\n    },\r\n\r\n    switchMode (next) {\r\n      this.mode = next\r\n      this.registerErrors.account = ''\r\n      this.registerErrors.password = ''\r\n      this.registerErrors.confirmPassword = ''\r\n      if (this.accountTimer) {\r\n        clearTimeout(this.accountTimer)\r\n        this.accountTimer = null\r\n      }\r\n    },\r\n\r\n    handleForgot () {\r\n      this.toast('info', '忘记密码功能暂未实现，请联系管理员重置密码')\r\n    },\r\n\r\n    handleShowAgreement () { this.showAgreement = true },\r\n    closeAgreement () { this.showAgreement = false },\r\n    agreeAndClose () {\r\n      this.registerForm.agree = true\r\n      this.showAgreement = false\r\n    },\r\n\r\n    async handleLogin () {\r\n      if (!this.loginForm.account || !this.loginForm.password) {\r\n        this.toast('warning', '请填写账号和密码')\r\n        return\r\n      }\r\n\r\n      const roleStr = this.loginForm.role || 'student'\r\n\r\n      try {\r\n        // ✅ 1) 路径改成 /user/login\r\n        // ✅ 2) 注意：this.$axios 已经返回后端 JSON（拦截器 return response.data）\r\n        const r = await this.$axios.post('/user/login', {\r\n          accountNo: this.loginForm.account,\r\n          password: this.loginForm.password,\r\n          role: roleStr\r\n        })\r\n\r\n        console.log('login response =', r)\r\n        this.toast('info', `code=${r?.code}, msg=${r?.message || r?.msg}`)\r\n\r\n        if (!r || r.code !== 200) {\r\n          this.toast('error', (r && (r.message || r.msg)) || '登录失败')\r\n          return\r\n        }\r\n\r\n        const token = r.data && r.data.token\r\n        const user = (r.data && r.data.user) ? r.data.user : {}\r\n\r\n        const roleId = (user.roleId !== undefined && user.roleId !== null)\r\n            ? user.roleId\r\n            : ((user.role === 'admin' || roleStr === 'admin') ? 0 : 1)\r\n\r\n        const storeUser = { ...user, roleId }\r\n\r\n        // “记住登录状态”要生效的话，用 storage 分流\r\n        const storage = this.loginForm.remember ? localStorage : sessionStorage\r\n        storage.setItem('ssrmsUser', JSON.stringify(storeUser))\r\n        if (token) storage.setItem('ssrmsToken', token)\r\n\r\n        this.toast('success', '登录成功')\r\n        const redirect = this.$route?.query?.redirect\r\n        if (redirect) this.$router.replace(redirect)\r\n        else this.$router.replace(roleId === 0 ? '/admin' : '/user')\r\n      } catch (e) {\r\n        // 把真正的错误吐出来，别只说“端口不对”\r\n        const status = e?.response?.status\r\n        const msg = e?.response?.data?.message || e?.message\r\n        this.toast('error', status ? `登录失败(${status})：${msg}` : `登录失败：${msg}`)\r\n      }\r\n    },\r\n\r\n    async handleRegister () {\r\n      await this.checkAccountExists()\r\n      this.checkPasswordRules()\r\n      this.checkPasswordMatch()\r\n\r\n      if (this.registerErrors.account) return this.toast('error', this.registerErrors.account)\r\n      if (this.registerErrors.password) return this.toast('error', this.registerErrors.password)\r\n      if (this.registerErrors.confirmPassword) return this.toast('error', this.registerErrors.confirmPassword)\r\n\r\n      // ✅ 建议：跟你后端 User 表对齐 —— 账号就是 accountNo（学号/工号）\r\n      if (!this.registerForm.account || !this.registerForm.name) {\r\n        this.toast('warning', '请填写账号(学号/工号)和昵称')\r\n        return\r\n      }\r\n      if (!this.registerForm.password || !this.registerForm.confirmPassword) {\r\n        this.toast('warning', '请设置并确认密码')\r\n        return\r\n      }\r\n      if (!this.registerForm.agree) {\r\n        this.toast('warning', '请先阅读并同意用户协议')\r\n        return\r\n      }\r\n\r\n      try {\r\n        // ⚠️ 这里不要再写 resp.data 了：r 就是后端返回的 {code,data,message}\r\n        const r = await this.$axios.post('/user/register', {\r\n          accountNo: (this.registerForm.account || '').trim(),\r\n          userName: (this.registerForm.name || '').trim(),\r\n          password: this.registerForm.password,\r\n          role: this.registerForm.role\r\n        })\r\n\r\n        console.log('register response =', r)\r\n        this.toast('info', `code=${r?.code}, msg=${r?.message || r?.msg}`)\r\n\r\n        if (!r || r.code !== 200) {\r\n          const msg = (r && (r.message || r.msg)) || '注册失败'\r\n          if (String(msg).includes('账号') && String(msg).includes('存在')) this.registerErrors.account = '该账号已存在'\r\n          this.toast('error', msg)\r\n          return\r\n        }\r\n\r\n        this.toast('success', '注册成功，请登录')\r\n        this.switchMode('login')\r\n      } catch (e) {\r\n        const status = e?.response?.status\r\n        const msg = e?.response?.data?.message || e?.response?.data?.msg || e?.message\r\n        this.toast('error', status ? `注册失败(${status})：${msg}` : `注册失败：${msg}`)\r\n      }\r\n    },\r\n\r\n    scheduleCheckAccount () {\r\n      if (this.mode !== 'register') return\r\n      clearTimeout(this.accountTimer)\r\n      this.accountTimer = setTimeout(() => this.checkAccountExists(), 350)\r\n    },\r\n\r\n    async checkAccountExists () {\r\n      if (this.mode !== 'register') return\r\n      const acc = (this.registerForm.account || '').trim()\r\n      if (!acc) {\r\n        this.registerErrors.account = ''\r\n        return\r\n      }\r\n      try {\r\n        const res = await this.$axios.get('/user/check-account', {\r\n          // 两个参数名都带上，避免你后端到底用 account 还是 accountNo\r\n          params: { account: acc, accountNo: acc }\r\n        })\r\n\r\n        // res 可能是：\r\n        // 1) {code,data,message} 这种 R 包装\r\n        // 2) 直接 true/false\r\n        const exists = (res && typeof res === 'object' && 'code' in res)\r\n            ? (res.data === true)\r\n            : (res === true)\r\n\r\n        this.registerErrors.account = exists ? '该账号已存在' : ''\r\n      } catch (e) {\r\n        this.registerErrors.account = ''\r\n      }\r\n    },\r\n\r\n    checkPasswordRules () {\r\n      if (this.mode !== 'register') return\r\n      const p = this.registerForm.password || ''\r\n\r\n      if (!p) {\r\n        this.registerErrors.password = ''\r\n        return\r\n      }\r\n\r\n      // 只允许：大小写字母、数字、下划线\r\n      if (!/^[A-Za-z0-9_]+$/.test(p)) {\r\n        this.registerErrors.password = '不支持除字母、数字、_以外的字符'\r\n        return\r\n      }\r\n\r\n      if (p.length < 6) {\r\n        this.registerErrors.password = '密码长度至少6位'\r\n        return\r\n      }\r\n\r\n      this.registerErrors.password = ''\r\n    },\r\n\r\n    checkPasswordMatch () {\r\n      const p1 = this.registerForm.password || ''\r\n      const p2 = this.registerForm.confirmPassword || ''\r\n\r\n      if (!p2) {\r\n        this.registerErrors.confirmPassword = ''\r\n        return\r\n      }\r\n      this.registerErrors.confirmPassword = (p1 !== p2) ? '密码不同' : ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 40px 16px;\r\n}\r\n\r\n.auth-wrapper {\r\n  display: flex;\r\n  width: 1040px;\r\n  max-width: 96vw;\r\n  min-height: 540px;\r\n  max-height: calc(100vh - 80px);\r\n  border-radius: 26px;\r\n  overflow: hidden;\r\n  background-color: #ffffff;\r\n  box-shadow: 0 30px 80px rgba(15, 23, 42, 0.35);\r\n}\r\n\r\n.auth-left {\r\n  flex: 1;\r\n  background-color: #f9fafb;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 40px 56px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.auth-logo-row {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.logo-icon {\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 14px;\r\n  background: #2563eb;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #ffffff;\r\n  font-weight: 600;\r\n  font-size: 20px;\r\n  box-shadow: 0 10px 25px rgba(37, 99, 235, 0.4);\r\n}\r\n\r\n.logo-initial { transform: translateY(1px); }\r\n\r\n.logo-text { margin-left: 12px; }\r\n.logo-title { font-size: 18px; font-weight: 600; color: #111827; }\r\n.logo-subtitle { font-size: 12px; color: #9ca3af; }\r\n\r\n.auth-card { max-width: 420px; }\r\n\r\n.mode-toggle {\r\n  display: inline-flex;\r\n  padding: 4px;\r\n  border-radius: 999px;\r\n  background-color: rgba(15, 23, 42, 0.04);\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.mode-btn {\r\n  border: none;\r\n  background: transparent;\r\n  padding: 6px 22px;\r\n  border-radius: 999px;\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease;\r\n}\r\n\r\n.mode-btn.active {\r\n  background-color: #ffffff;\r\n  color: #111827;\r\n  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.16);\r\n}\r\n\r\n.auth-title {\r\n  margin: 4px 0 6px;\r\n  font-size: 26px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n}\r\n\r\n.auth-desc {\r\n  margin: 0 0 18px;\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n}\r\n\r\n.auth-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 14px;\r\n}\r\n\r\n.form-group { display: flex; flex-direction: column; }\r\n.form-label { font-size: 13px; color: #4b5563; margin-bottom: 6px; }\r\n.form-label-inline { font-size: 13px; color: #4b5563; margin-right: 8px; }\r\n\r\n.form-input {\r\n  border-radius: 10px;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 10px 14px;\r\n  font-size: 14px;\r\n  outline: none;\r\n  background-color: #ffffff;\r\n  transition: border-color 0.15s ease, box-shadow 0.15s ease;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.2);\r\n}\r\n\r\n.form-inline {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n}\r\n\r\n.radio-label {\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.check-label {\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.form-helper {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.primary-btn {\r\n  margin-top: 4px;\r\n  width: 100%;\r\n  height: 44px;\r\n  border-radius: 999px;\r\n  border: none;\r\n  background: linear-gradient(90deg, #2563eb, #1d4ed8);\r\n  color: #ffffff;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  box-shadow: 0 12px 30px rgba(37, 99, 235, 0.45);\r\n  transition: transform 0.12s ease, box-shadow 0.12s ease;\r\n}\r\n\r\n.primary-btn:hover { transform: translateY(-1px); box-shadow: 0 16px 36px rgba(37, 99, 235, 0.55); }\r\n.primary-btn:active { transform: translateY(0); box-shadow: 0 8px 22px rgba(37, 99, 235, 0.4); }\r\n\r\n.primary-btn-small { width: auto; min-width: 140px; height: 38px; font-size: 14px; }\r\n\r\n.link-btn {\r\n  border: none;\r\n  background: transparent;\r\n  padding: 0;\r\n  font-size: 12px;\r\n  color: #2563eb;\r\n  cursor: pointer;\r\n}\r\n\r\n.bottom-tip { margin-top: 6px; font-size: 12px; color: #6b7280; }\r\n\r\n.auth-right {\r\n  flex: 1;\r\n  background: radial-gradient(circle at 0% 0%, #1f2937, #020617),\r\n  radial-gradient(circle at 100% 10%, #1d4ed8, #020617);\r\n  color: #ffffff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 48px 60px;\r\n}\r\n\r\n.slogan-block { max-width: 420px; }\r\n.slogan-title { font-size: 26px; font-weight: 700; margin: 0 0 12px; }\r\n.slogan-desc { font-size: 14px; opacity: 0.9; margin: 0 0 16px; }\r\n.slogan-list { list-style: none; padding: 0; margin: 0 0 14px; font-size: 13px; opacity: 0.95; }\r\n.slogan-list li { margin-bottom: 4px; }\r\n.slogan-sign { font-size: 13px; opacity: 0.9; margin-top: 2px; }\r\n\r\n.field-error { margin-top: 6px; font-size: 12px; color: #ef4444; }\r\n\r\n/* 协议弹窗 */\r\n.agreement-mask {\r\n  position: fixed;\r\n  inset: 0;\r\n  background: rgba(15, 23, 42, 0.45);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 999;\r\n}\r\n\r\n.agreement-dialog {\r\n  width: 720px;\r\n  max-width: 95vw;\r\n  max-height: 80vh;\r\n  background: #ffffff;\r\n  border-radius: 18px;\r\n  box-shadow: 0 24px 60px rgba(15, 23, 42, 0.45);\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.agreement-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 14px 20px;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n\r\n.agreement-title { margin: 0; font-size: 16px; font-weight: 600; color: #111827; }\r\n\r\n.agreement-close {\r\n  border: none;\r\n  background: transparent;\r\n  font-size: 20px;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  color: #6b7280;\r\n}\r\n\r\n.agreement-close:hover { color: #111827; }\r\n\r\n.agreement-body { padding: 12px 20px 4px; flex: 1; }\r\n\r\n.agreement-scroll {\r\n  max-height: 54vh;\r\n  overflow-y: auto;\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n  line-height: 1.7;\r\n}\r\n\r\n.agreement-scroll p { margin: 6px 0; }\r\n\r\n.agreement-footer {\r\n  padding: 10px 20px 16px;\r\n  border-top: 1px solid #e5e7eb;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n/* 窄屏适配 */\r\n@media (max-width: 960px) {\r\n  .auth-wrapper { flex-direction: column; height: auto; max-height: none; width: 100%; border-radius: 0; }\r\n  .auth-left { padding: 24px 20px 18px; overflow-y: visible; }\r\n  .auth-card { max-width: 100%; }\r\n  .auth-right { padding: 24px 24px 32px; }\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAc;;EAElBA,KAAK,EAAC;AAAW;;EAWfA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAa;;EAOjBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAwB;;EAE1BA,KAAK,EAAC;AAAa;;EAInBA,KAAK,EAAC;AAAa;;EAMvBA,KAAK,EAAC;AAAa;;EACfA,KAAK,EAAC;AAAa;;EASvBA,KAAK,EAAC;AAAY;;EAQlBA,KAAK,EAAC;AAAY;;;EAUcA,KAAK,EAAC;;;EAGtCA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAY;;;EAUeA,KAAK,EAAC;;;EAGvCA,KAAK,EAAC;AAAY;;;EASsBA,KAAK,EAAC;;;EAG9CA,KAAK,EAAC;AAAwB;;EAE1BA,KAAK,EAAC;AAAa;;EAInBA,KAAK,EAAC;AAAa;;EAMvBA,KAAK,EAAC,aAAa;EAACC,KAAmC,EAAnC;IAAA;EAAA;;;EAChBD,KAAK,EAAC;AAAa;;EASvBA,KAAK,EAAC;AAAY;;EAwBtBA,KAAK,EAAC;AAAkB;;EACtBA,KAAK,EAAC;AAAkB;;EAoCxBA,KAAK,EAAC;AAAkB;;uBAjMrCE,mBAAA,CA0MM,OA1MNC,UA0MM,GAzMJC,mBAAA,CAwMM,OAxMNC,UAwMM,GAvMJC,mBAAA,cAAiB,EACjBF,mBAAA,CAuIM,OAvING,UAuIM,G,8XA5HJH,mBAAA,CA2HM,OA3HNI,UA2HM,GA1HJJ,mBAAA,CAGM,OAHNK,UAGM,GAFJL,mBAAA,CAA4G;IAApGM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAAW,eAAA,EAAC,UAAU;MAAAC,MAAA,EAAmBC,QAAA,CAAAC;IAAO;IAAKC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,QAAA,CAAAK,UAAU;KAAW,IAAE,kBACnGd,mBAAA,CAAgH;IAAxGM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAAW,eAAA,EAAC,UAAU;MAAAC,MAAA,GAAoBC,QAAA,CAAAC;IAAO;IAAKC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,QAAA,CAAAK,UAAU;KAAc,IAAE,iB,GAGzGZ,mBAAA,QAAW,EACCO,QAAA,CAAAC,OAAO,I,cAAnBZ,mBAAA,CAqCO;;IArCcF,KAAK,EAAC,WAAW;IAAEmB,QAAM,EAAAH,MAAA,QAAAA,MAAA,MAAAI,cAAA,KAAAC,IAAA,KAAUR,QAAA,CAAAS,WAAA,IAAAT,QAAA,CAAAS,WAAA,IAAAD,IAAA,CAAW;MACjEjB,mBAAA,CAGM,OAHNmB,UAGM,G,4BAFJnB,mBAAA,CAAoC;IAA7BJ,KAAK,EAAC;EAAY,GAAC,IAAE,qB,gBAC5BI,mBAAA,CAAwF;+DAAxEoB,KAAA,CAAAC,SAAS,CAACC,OAAO,GAAAT,MAAA;IAAEjB,KAAK,EAAC,YAAY;IAACU,IAAI,EAAC,MAAM;IAACiB,WAAW,EAAC;iDAA9DH,KAAA,CAAAC,SAAS,CAACC,OAAO,E,KAGnCtB,mBAAA,CAGM,OAHNwB,UAGM,G,4BAFJxB,mBAAA,CAAoC;IAA7BJ,KAAK,EAAC;EAAY,GAAC,IAAE,qB,gBAC5BI,mBAAA,CAA6F;+DAA7EoB,KAAA,CAAAC,SAAS,CAACI,QAAQ,GAAAZ,MAAA;IAAEjB,KAAK,EAAC,YAAY;IAACU,IAAI,EAAC,UAAU;IAACiB,WAAW,EAAC;iDAAnEH,KAAA,CAAAC,SAAS,CAACI,QAAQ,E,KAGpCzB,mBAAA,CAUM,OAVN0B,UAUM,G,4BATJ1B,mBAAA,CAA2C;IAArCJ,KAAK,EAAC;EAAmB,GAAC,MAAI,qBACpCI,mBAAA,CAGQ,SAHR2B,UAGQ,G,gBAFN3B,mBAAA,CAA+D;IAAxDM,IAAI,EAAC,OAAO;IAACsB,KAAK,EAAC,SAAS;+DAAUR,KAAA,CAAAC,SAAS,CAACQ,IAAI,GAAAhB,MAAA;kDAAdO,KAAA,CAAAC,SAAS,CAACQ,IAAI,E,gDAAI,QAEjE,oB,GACA7B,mBAAA,CAGQ,SAHR8B,WAGQ,G,gBAFN9B,mBAAA,CAA6D;IAAtDM,IAAI,EAAC,OAAO;IAACsB,KAAK,EAAC,OAAO;+DAAUR,KAAA,CAAAC,SAAS,CAACQ,IAAI,GAAAhB,MAAA;kDAAdO,KAAA,CAAAC,SAAS,CAACQ,IAAI,E,gDAAI,OAE/D,oB,KAGF7B,mBAAA,CAMM,OANN+B,WAMM,GALJ/B,mBAAA,CAGQ,SAHRgC,WAGQ,G,gBAFNhC,mBAAA,CAAsD;IAA/CM,IAAI,EAAC,UAAU;+DAAUc,KAAA,CAAAC,SAAS,CAACY,QAAQ,GAAApB,MAAA;qDAAlBO,KAAA,CAAAC,SAAS,CAACY,QAAQ,E,gDAAI,UAExD,oB,GACAjC,mBAAA,CAAmF;IAA3EM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC,UAAU;IAAEe,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAI,cAAA,KAAAC,IAAA,KAAUR,QAAA,CAAAyB,YAAA,IAAAzB,QAAA,CAAAyB,YAAA,IAAAjB,IAAA,CAAY;KAAE,OAAK,E,+BAG5EjB,mBAAA,CAAqD;IAA7CM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC;KAAc,IAAE,qBAE5CI,mBAAA,CAGM,OAHNmC,WAGM,G,6CAHkB,UAEtB,qBAAAnC,mBAAA,CAAoF;IAA5EM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC,UAAU;IAAEe,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,QAAA,CAAAK,UAAU;KAAc,MAAI,E,+CAK/EhB,mBAAA,CA2EOsC,SAAA;IAAAC,GAAA;EAAA,IA5EPnC,mBAAA,QAAW,EACXF,mBAAA,CA2EO;IA3EMJ,KAAK,EAAC,WAAW;IAAEmB,QAAM,EAAAH,MAAA,SAAAA,MAAA,OAAAI,cAAA,KAAAC,IAAA,KAAUR,QAAA,CAAA6B,cAAA,IAAA7B,QAAA,CAAA6B,cAAA,IAAArB,IAAA,CAAc;MAC5DjB,mBAAA,CAWM,OAXNuC,WAWM,G,4BAVJvC,mBAAA,CAAoC;IAA7BJ,KAAK,EAAC;EAAY,GAAC,IAAE,qB,gBAC5BI,mBAAA,CAOE;iEANWoB,KAAA,CAAAoB,YAAY,CAAClB,OAAO,GAAAT,MAAA;IAC7BjB,KAAK,EAAC,YAAY;IAClBU,IAAI,EAAC,MAAM;IACXiB,WAAW,EAAC,OAAO;IAClBkB,OAAK,EAAA7B,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAAiC,oBAAA,IAAAjC,QAAA,CAAAiC,oBAAA,IAAAzB,IAAA,CAAoB;IAC3B0B,MAAI,EAAA/B,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAAmC,kBAAA,IAAAnC,QAAA,CAAAmC,kBAAA,IAAA3B,IAAA,CAAkB;iEALhBG,KAAA,CAAAoB,YAAY,CAAClB,OAAO,E,GAOtBF,KAAA,CAAAyB,cAAc,CAACvB,OAAO,I,cAAjCxB,mBAAA,CAAyF,OAAzFgD,WAAyF,EAAAC,gBAAA,CAA/B3B,KAAA,CAAAyB,cAAc,CAACvB,OAAO,oB,qCAGlFtB,mBAAA,CAGM,OAHNgD,WAGM,G,4BAFJhD,mBAAA,CAAoC;IAA7BJ,KAAK,EAAC;EAAY,GAAC,IAAE,qB,gBAC5BI,mBAAA,CAA6F;iEAA7EoB,KAAA,CAAAoB,YAAY,CAACS,SAAS,GAAApC,MAAA;IAAEjB,KAAK,EAAC,YAAY;IAACU,IAAI,EAAC,MAAM;IAACiB,WAAW,EAAC;iDAAnEH,KAAA,CAAAoB,YAAY,CAACS,SAAS,E,KAGxCjD,mBAAA,CAGM,OAHNkD,WAGM,G,4BAFJlD,mBAAA,CAAoC;IAA7BJ,KAAK,EAAC;EAAY,GAAC,IAAE,qB,gBAC5BI,mBAAA,CAAwF;iEAAxEoB,KAAA,CAAAoB,YAAY,CAACW,IAAI,GAAAtC,MAAA;IAAEjB,KAAK,EAAC,YAAY;IAACU,IAAI,EAAC,MAAM;IAACiB,WAAW,EAAC;iDAA9DH,KAAA,CAAAoB,YAAY,CAACW,IAAI,E,KAGnCnD,mBAAA,CAWM,OAXNoD,WAWM,G,4BAVJpD,mBAAA,CAAsC;IAA/BJ,KAAK,EAAC;EAAY,GAAC,MAAI,qB,gBAC9BI,mBAAA,CAOE;iEANWoB,KAAA,CAAAoB,YAAY,CAACf,QAAQ,GAAAZ,MAAA;IAC9BjB,KAAK,EAAC,YAAY;IAClBU,IAAI,EAAC,UAAU;IACfiB,WAAW,EAAC,mBAAmB;IAC9BkB,OAAK,EAAA7B,MAAA,SAAAA,MAAA,OAAAC,MAAA;MAAEJ,QAAA,CAAA4C,kBAAkB;MAAI5C,QAAA,CAAA6C,kBAAkB;IAAA;IAC/CX,MAAI,EAAA/B,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAA4C,kBAAA,IAAA5C,QAAA,CAAA4C,kBAAA,IAAApC,IAAA,CAAkB;iEALhBG,KAAA,CAAAoB,YAAY,CAACf,QAAQ,E,GAOvBL,KAAA,CAAAyB,cAAc,CAACpB,QAAQ,I,cAAlC3B,mBAAA,CAA2F,OAA3FyD,WAA2F,EAAAR,gBAAA,CAAhC3B,KAAA,CAAAyB,cAAc,CAACpB,QAAQ,oB,qCAGpFzB,mBAAA,CAUM,OAVNwD,WAUM,G,4BATJxD,mBAAA,CAAsC;IAA/BJ,KAAK,EAAC;EAAY,GAAC,MAAI,qB,gBAC9BI,mBAAA,CAME;iEALWoB,KAAA,CAAAoB,YAAY,CAACiB,eAAe,GAAA5C,MAAA;IACrCjB,KAAK,EAAC,YAAY;IAClBU,IAAI,EAAC,UAAU;IACfiB,WAAW,EAAC,SAAS;IACpBkB,OAAK,EAAA7B,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAA6C,kBAAA,IAAA7C,QAAA,CAAA6C,kBAAA,IAAArC,IAAA,CAAkB;iEAJjBG,KAAA,CAAAoB,YAAY,CAACiB,eAAe,E,GAM9BrC,KAAA,CAAAyB,cAAc,CAACY,eAAe,I,cAAzC3D,mBAAA,CAAyG,OAAzG4D,WAAyG,EAAAX,gBAAA,CAAvC3B,KAAA,CAAAyB,cAAc,CAACY,eAAe,oB,qCAGlGzD,mBAAA,CAUM,OAVN2D,WAUM,G,4BATJ3D,mBAAA,CAA2C;IAArCJ,KAAK,EAAC;EAAmB,GAAC,MAAI,qBACpCI,mBAAA,CAGQ,SAHR4D,WAGQ,G,gBAFN5D,mBAAA,CAAkE;IAA3DM,IAAI,EAAC,OAAO;IAACsB,KAAK,EAAC,SAAS;iEAAUR,KAAA,CAAAoB,YAAY,CAACX,IAAI,GAAAhB,MAAA;kDAAjBO,KAAA,CAAAoB,YAAY,CAACX,IAAI,E,gDAAI,QAEpE,oB,GACA7B,mBAAA,CAGQ,SAHR6D,WAGQ,G,gBAFN7D,mBAAA,CAAgE;IAAzDM,IAAI,EAAC,OAAO;IAACsB,KAAK,EAAC,OAAO;iEAAUR,KAAA,CAAAoB,YAAY,CAACX,IAAI,GAAAhB,MAAA;kDAAjBO,KAAA,CAAAoB,YAAY,CAACX,IAAI,E,gDAAI,OAElE,oB,KAGF7B,mBAAA,CAMM,OANN8D,WAMM,GALJ9D,mBAAA,CAIQ,SAJR+D,WAIQ,G,gBAHN/D,mBAAA,CAAsD;IAA/CM,IAAI,EAAC,UAAU;iEAAUc,KAAA,CAAAoB,YAAY,CAACwB,KAAK,GAAAnD,MAAA;qDAAlBO,KAAA,CAAAoB,YAAY,CAACwB,KAAK,E,gDAAI,UAEtD,qBAAAhE,mBAAA,CAA2F;IAAnFM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC,UAAU;IAAEe,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAI,cAAA,KAAAC,IAAA,KAAUR,QAAA,CAAAwD,mBAAA,IAAAxD,QAAA,CAAAwD,mBAAA,IAAAhD,IAAA,CAAmB;KAAE,QAAM,E,iCAItFjB,mBAAA,CAAqD;IAA7CM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC;KAAc,IAAE,qBAE5CI,mBAAA,CAGM,OAHNkE,WAGM,G,6CAHkB,SAEtB,qBAAAlE,mBAAA,CAAiF;IAAzEM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC,UAAU;IAAEe,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAC,MAAA,IAAEJ,QAAA,CAAAK,UAAU;KAAW,MAAI,E,oFAMhFZ,mBAAA,UAAa,E,uhBAcbA,mBAAA,YAAe,EACJkB,KAAA,CAAA+C,aAAa,I,cAAxBrE,mBAAA,CA4CM;;IA5CoBF,KAAK,EAAC,gBAAgB;IAAEe,OAAK,EAAAC,MAAA,SAAAA,MAAA,OAAAI,cAAA,KAAAC,IAAA,KAAOR,QAAA,CAAA2D,cAAA,IAAA3D,QAAA,CAAA2D,cAAA,IAAAnD,IAAA,CAAc;MAC1EjB,mBAAA,CA0CM,OA1CNqE,WA0CM,GAzCJrE,mBAAA,CAGM,OAHNsE,WAGM,G,4BAFJtE,mBAAA,CAA4C;IAAxCJ,KAAK,EAAC;EAAiB,GAAC,aAAW,qBACvCI,mBAAA,CAAgF;IAAxEJ,KAAK,EAAC,iBAAiB;IAACU,IAAI,EAAC,QAAQ;IAAEK,OAAK,EAAAC,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAA2D,cAAA,IAAA3D,QAAA,CAAA2D,cAAA,IAAAnD,IAAA,CAAc;KAAE,GAAC,E,u7CAkCzEjB,mBAAA,CAIM,OAJNuE,WAIM,GAHJvE,mBAAA,CAES;IAFDM,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC,+BAA+B;IAAEe,OAAK,EAAAC,MAAA,SAAAA,MAAA,WAAAK,IAAA,KAAER,QAAA,CAAA+D,aAAA,IAAA/D,QAAA,CAAA+D,aAAA,IAAAvD,IAAA,CAAa;KAAE,WAEnF,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}