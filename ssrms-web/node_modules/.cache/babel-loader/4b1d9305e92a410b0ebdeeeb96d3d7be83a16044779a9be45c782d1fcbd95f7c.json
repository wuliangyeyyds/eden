{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'AiAssistantLite',\n  props: {\n    // Âª∫ËÆÆ‰ªé UserHome.vue ‰º† currentUserIdÔºõ‰∏ç‰º†‰πüËÉΩ‰ªé localStorage/sessionStorage ÈáåÂÖúÂ∫ïËØªÂèñ\n    userId: {\n      type: [Number, String],\n      default: null\n    }\n  },\n  data() {\n    return {\n      drawerVisible: false,\n      inputText: '',\n      sending: false,\n      conversationId: '',\n      messages: []\n    };\n  },\n  computed: {\n    resolvedUserId() {\n      const p = this.userId;\n      if (p !== null && p !== undefined && String(p).trim() !== '') return Number(p);\n      try {\n        const raw = localStorage.getItem('ssrmsUser') || sessionStorage.getItem('ssrmsUser');\n        if (!raw) return null;\n        const u = JSON.parse(raw);\n        const id = u.userId ?? u.id ?? null;\n        return id === null ? null : Number(id);\n      } catch (e) {\n        return null;\n      }\n    },\n    storageKey() {\n      return `ssrms_ai_lite_${this.resolvedUserId ?? 'guest'}`;\n    }\n  },\n  methods: {\n    openDrawer() {\n      this.drawerVisible = true;\n      this.loadFromStorage();\n      this.$nextTick(() => this.scrollToBottom());\n    },\n    loadFromStorage() {\n      try {\n        const raw = localStorage.getItem(this.storageKey);\n        if (!raw) {\n          this.messages = [];\n          this.conversationId = '';\n          return;\n        }\n        const obj = JSON.parse(raw);\n        this.messages = Array.isArray(obj.messages) ? obj.messages : [];\n        this.conversationId = obj.conversationId || '';\n      } catch (e) {\n        this.messages = [];\n        this.conversationId = '';\n      }\n    },\n    saveToStorage() {\n      try {\n        localStorage.setItem(this.storageKey, JSON.stringify({\n          conversationId: this.conversationId || '',\n          messages: this.messages || []\n        }));\n      } catch (e) {\n        // Êú¨Âú∞Â≠òÂÇ®ÂèØËÉΩË¢´Á¶ÅÁî®/Á©∫Èó¥‰∏çË∂≥ÔºåÂøΩÁï•Âç≥ÂèØ\n      }\n    },\n    clearChat() {\n      this.messages = [];\n      this.conversationId = '';\n      this.saveToStorage();\n      ElMessage.success('Â∑≤Ê∏ÖÁ©∫ÂØπËØù');\n      this.$nextTick(() => this.scrollToBottom());\n    },\n    pushMsg(role, text) {\n      const msg = {\n        id: `${Date.now()}_${Math.random().toString(16).slice(2)}`,\n        role,\n        text: String(text ?? ''),\n        ts: Date.now()\n      };\n      this.messages.push(msg);\n      this.saveToStorage();\n      this.$nextTick(() => this.scrollToBottom());\n    },\n    formatTime(ts) {\n      try {\n        const d = new Date(ts);\n        const hh = String(d.getHours()).padStart(2, '0');\n        const mm = String(d.getMinutes()).padStart(2, '0');\n        return `${hh}:${mm}`;\n      } catch (e) {\n        return '';\n      }\n    },\n    scrollToBottom() {\n      try {\n        const el = this.$el.querySelector('.ai-body .el-scrollbar__wrap');\n        if (el) el.scrollTop = el.scrollHeight;\n      } catch (e) {\n        // DOM ÂÆπÂô®ÂèØËÉΩÊöÇÊú™Ê∏≤ÊüìÊàñ‰∏çÂ≠òÂú®ÔºåÂøΩÁï•Âç≥ÂèØ\n      }\n    },\n    async send() {\n      const text = this.inputText.trim();\n      if (!text || this.sending) return;\n      if (!this.resolvedUserId) {\n        ElMessage.warning('Êú™Ëé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÔºåËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰ΩøÁî® AI Âä©Êâã');\n        return;\n      }\n      this.pushMsg('user', text);\n      this.inputText = '';\n      this.sending = true;\n      try {\n        const payload = {\n          userId: this.resolvedUserId,\n          message: text,\n          conversationId: this.conversationId || null\n        };\n\n        // Ê≥®ÊÑèÔºöËøôÈáåÁöÑË∑ØÂæÑÂøÖÈ°ªËÉΩË¢´‰Ω†ÁöÑÂâçÁ´Ø‰ª£ÁêÜËΩ¨ÂèëÂà∞ÂêéÁ´Ø\n        const res = await this.$axios.post('/ai/chat', payload);\n        const body = res && res.data ? res.data : null;\n        if (!body || Number(body.code) !== 200) {\n          throw new Error(body && body.msg ? body.msg : 'AI ËØ∑Ê±ÇÂ§±Ë¥•');\n        }\n        const data = body.data || {};\n        if (data.conversationId) this.conversationId = data.conversationId;\n        this.pushMsg('assistant', data.reply || 'ÔºàAI Êú™ËøîÂõûÂÜÖÂÆπÔºâ');\n      } catch (e) {\n        this.pushMsg('assistant', `ÔºàÂá∫Èîô‰∫ÜÔºâ${e?.message || 'AI ËØ∑Ê±ÇÂ§±Ë¥•'}`);\n      } finally {\n        this.sending = false;\n        this.saveToStorage();\n        this.$nextTick(() => this.scrollToBottom());\n      }\n    }\n  }\n};","map":{"version":3,"names":["ElMessage","name","props","userId","type","Number","String","default","data","drawerVisible","inputText","sending","conversationId","messages","computed","resolvedUserId","p","undefined","trim","raw","localStorage","getItem","sessionStorage","u","JSON","parse","id","e","storageKey","methods","openDrawer","loadFromStorage","$nextTick","scrollToBottom","obj","Array","isArray","saveToStorage","setItem","stringify","clearChat","success","pushMsg","role","text","msg","Date","now","Math","random","toString","slice","ts","push","formatTime","d","hh","getHours","padStart","mm","getMinutes","el","$el","querySelector","scrollTop","scrollHeight","send","warning","payload","message","res","$axios","post","body","code","Error","reply"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\AiAssistantLite.vue"],"sourcesContent":["<template>\n  <div class=\"ai-lite-entry\">\n    <el-button\n        class=\"ai-float-btn\"\n        type=\"primary\"\n        circle\n        @click=\"openDrawer\"\n        title=\"Ëá™‰π†ÂÆ§Âä©Êâã\"\n    >\n      ü§ñ\n    </el-button>\n\n    <el-drawer\n        v-model=\"drawerVisible\"\n        :with-header=\"false\"\n        size=\"420px\"\n        class=\"ai-drawer\"\n        :append-to-body=\"true\"\n    >\n      <div class=\"ai-header\">\n        <div class=\"ai-title\">\n          <div class=\"ai-title-main\">Ëá™‰π†ÂÆ§Âä©Êâã</div>\n          <div class=\"ai-title-sub\">ÈóÆÊàëÈ¢ÑÁ∫¶/Á≠æÂà∞/‰ø°Áî®Áõ∏ÂÖ≥ÈóÆÈ¢ò</div>\n        </div>\n\n        <div class=\"ai-actions\">\n          <el-button size=\"small\" @click=\"clearChat\" :disabled=\"sending\">Ê∏ÖÁ©∫</el-button>\n          <el-button size=\"small\" @click=\"drawerVisible = false\">ÂÖ≥Èó≠</el-button>\n        </div>\n      </div>\n\n      <el-scrollbar class=\"ai-body\">\n        <div class=\"ai-msgs\">\n          <div\n              v-for=\"m in messages\"\n              :key=\"m.id\"\n              :class=\"['ai-msg', m.role === 'user' ? 'is-user' : 'is-ai']\"\n          >\n            <div class=\"ai-bubble\">\n              <div class=\"ai-text\" v-text=\"m.text\"></div>\n              <div class=\"ai-meta\">{{ formatTime(m.ts) }}</div>\n            </div>\n          </div>\n\n          <div v-if=\"sending\" class=\"ai-msg is-ai\">\n            <div class=\"ai-bubble\">\n              <div class=\"ai-text\">Ê≠£Âú®ÊÄùËÄÉ‚Ä¶</div>\n            </div>\n          </div>\n        </div>\n      </el-scrollbar>\n\n      <div class=\"ai-input\">\n        <el-input\n            v-model=\"inputText\"\n            type=\"textarea\"\n            :autosize=\"{ minRows: 2, maxRows: 4 }\"\n            placeholder=\"‰æãÂ¶ÇÔºöÊÄé‰πàÈ¢ÑÁ∫¶ÔºüÊàë‰ªäÂ§©ÊúâÂì™‰∫õÈ¢ÑÁ∫¶Ôºü‰∏∫‰ªÄ‰πàÊàëÂèòÈ¢ÑË≠¶Ôºü\"\n            @keydown.enter.exact.prevent=\"send\"\n        />\n        <div class=\"ai-sendbar\">\n          <div class=\"ai-hint\">Enter ÂèëÈÄÅ ¬∑ Shift+Enter Êç¢Ë°å</div>\n          <el-button\n              type=\"primary\"\n              :loading=\"sending\"\n              :disabled=\"sending || !inputText.trim()\"\n              @click=\"send\"\n          >\n            ÂèëÈÄÅ\n          </el-button>\n        </div>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'AiAssistantLite',\n  props: {\n    // Âª∫ËÆÆ‰ªé UserHome.vue ‰º† currentUserIdÔºõ‰∏ç‰º†‰πüËÉΩ‰ªé localStorage/sessionStorage ÈáåÂÖúÂ∫ïËØªÂèñ\n    userId: {\n      type: [Number, String],\n      default: null\n    }\n  },\n  data () {\n    return {\n      drawerVisible: false,\n      inputText: '',\n      sending: false,\n      conversationId: '',\n      messages: []\n    }\n  },\n  computed: {\n    resolvedUserId () {\n      const p = this.userId\n      if (p !== null && p !== undefined && String(p).trim() !== '') return Number(p)\n\n      try {\n        const raw = localStorage.getItem('ssrmsUser') || sessionStorage.getItem('ssrmsUser')\n        if (!raw) return null\n        const u = JSON.parse(raw)\n        const id = u.userId ?? u.id ?? null\n        return id === null ? null : Number(id)\n      } catch (e) {\n        return null\n      }\n    },\n    storageKey () {\n      return `ssrms_ai_lite_${this.resolvedUserId ?? 'guest'}`\n    }\n  },\n  methods: {\n    openDrawer () {\n      this.drawerVisible = true\n      this.loadFromStorage()\n      this.$nextTick(() => this.scrollToBottom())\n    },\n    loadFromStorage () {\n      try {\n        const raw = localStorage.getItem(this.storageKey)\n        if (!raw) {\n          this.messages = []\n          this.conversationId = ''\n          return\n        }\n        const obj = JSON.parse(raw)\n        this.messages = Array.isArray(obj.messages) ? obj.messages : []\n        this.conversationId = obj.conversationId || ''\n      } catch (e) {\n        this.messages = []\n        this.conversationId = ''\n      }\n    },\n    saveToStorage () {\n      try {\n        localStorage.setItem(this.storageKey, JSON.stringify({\n          conversationId: this.conversationId || '',\n          messages: this.messages || []\n        }))\n      } catch (e) {\n        // Êú¨Âú∞Â≠òÂÇ®ÂèØËÉΩË¢´Á¶ÅÁî®/Á©∫Èó¥‰∏çË∂≥ÔºåÂøΩÁï•Âç≥ÂèØ\n      }\n    },\n    clearChat () {\n      this.messages = []\n      this.conversationId = ''\n      this.saveToStorage()\n      ElMessage.success('Â∑≤Ê∏ÖÁ©∫ÂØπËØù')\n      this.$nextTick(() => this.scrollToBottom())\n    },\n    pushMsg (role, text) {\n      const msg = {\n        id: `${Date.now()}_${Math.random().toString(16).slice(2)}`,\n        role,\n        text: String(text ?? ''),\n        ts: Date.now()\n      }\n      this.messages.push(msg)\n      this.saveToStorage()\n      this.$nextTick(() => this.scrollToBottom())\n    },\n    formatTime (ts) {\n      try {\n        const d = new Date(ts)\n        const hh = String(d.getHours()).padStart(2, '0')\n        const mm = String(d.getMinutes()).padStart(2, '0')\n        return `${hh}:${mm}`\n      } catch (e) {\n        return ''\n      }\n    },\n    scrollToBottom () {\n      try {\n        const el = this.$el.querySelector('.ai-body .el-scrollbar__wrap')\n        if (el) el.scrollTop = el.scrollHeight\n      } catch (e) {\n        // DOM ÂÆπÂô®ÂèØËÉΩÊöÇÊú™Ê∏≤ÊüìÊàñ‰∏çÂ≠òÂú®ÔºåÂøΩÁï•Âç≥ÂèØ\n      }\n    },\n    async send () {\n      const text = this.inputText.trim()\n      if (!text || this.sending) return\n\n      if (!this.resolvedUserId) {\n        ElMessage.warning('Êú™Ëé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÔºåËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰ΩøÁî® AI Âä©Êâã')\n        return\n      }\n\n      this.pushMsg('user', text)\n      this.inputText = ''\n      this.sending = true\n\n      try {\n        const payload = {\n          userId: this.resolvedUserId,\n          message: text,\n          conversationId: this.conversationId || null\n        }\n\n        // Ê≥®ÊÑèÔºöËøôÈáåÁöÑË∑ØÂæÑÂøÖÈ°ªËÉΩË¢´‰Ω†ÁöÑÂâçÁ´Ø‰ª£ÁêÜËΩ¨ÂèëÂà∞ÂêéÁ´Ø\n        const res = await this.$axios.post('/ai/chat', payload)\n        const body = res && res.data ? res.data : null\n        if (!body || Number(body.code) !== 200) {\n          throw new Error((body && body.msg) ? body.msg : 'AI ËØ∑Ê±ÇÂ§±Ë¥•')\n        }\n\n        const data = body.data || {}\n        if (data.conversationId) this.conversationId = data.conversationId\n        this.pushMsg('assistant', data.reply || 'ÔºàAI Êú™ËøîÂõûÂÜÖÂÆπÔºâ')\n      } catch (e) {\n        this.pushMsg('assistant', `ÔºàÂá∫Èîô‰∫ÜÔºâ${e?.message || 'AI ËØ∑Ê±ÇÂ§±Ë¥•'}`)\n      } finally {\n        this.sending = false\n        this.saveToStorage()\n        this.$nextTick(() => this.scrollToBottom())\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.ai-lite-entry {\n  position: fixed;\n  right: 18px;\n  bottom: 18px;\n  z-index: 3000;\n}\n\n.ai-float-btn {\n  width: 54px;\n  height: 54px;\n  font-size: 20px;\n  border-radius: 999px;\n  box-shadow: 0 10px 22px rgba(0,0,0,0.18);\n}\n\n.ai-header {\n  padding: 14px 14px 12px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 10px;\n  border-bottom: 1px solid rgba(0,0,0,0.06);\n}\n\n.ai-title-main {\n  font-weight: 800;\n  font-size: 16px;\n  line-height: 1.2;\n}\n\n.ai-title-sub {\n  font-size: 12px;\n  color: rgba(0,0,0,0.55);\n  margin-top: 4px;\n}\n\n.ai-actions {\n  display: flex;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.ai-body {\n  height: calc(100vh - 210px);\n  padding: 12px 14px;\n}\n\n.ai-msgs {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.ai-msg {\n  display: flex;\n}\n\n.ai-msg.is-user {\n  justify-content: flex-end;\n}\n\n.ai-msg.is-ai {\n  justify-content: flex-start;\n}\n\n.ai-bubble {\n  max-width: 86%;\n  padding: 10px 12px;\n  border-radius: 14px;\n  box-shadow: 0 6px 16px rgba(0,0,0,0.08);\n  background: #ffffff;\n}\n\n.ai-msg.is-user .ai-bubble {\n  background: rgba(64,158,255,0.12);\n}\n\n.ai-text {\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: 13px;\n  line-height: 1.55;\n}\n\n.ai-meta {\n  margin-top: 6px;\n  font-size: 11px;\n  color: rgba(0,0,0,0.45);\n  text-align: right;\n}\n\n.ai-input {\n  padding: 12px 14px 14px;\n  border-top: 1px solid rgba(0,0,0,0.06);\n  background: #fff;\n}\n\n.ai-sendbar {\n  margin-top: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 10px;\n}\n\n.ai-hint {\n  font-size: 12px;\n  color: rgba(0,0,0,0.5);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}