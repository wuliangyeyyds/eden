{"ast":null,"code":"import normalizeWheel from 'normalize-wheel-es';\nconst SCOPE = \"_Mousewheel\";\nconst mousewheel = function (element, callback) {\n  if (element && element.addEventListener) {\n    removeWheelHandler(element);\n    const fn = function (event) {\n      const normalized = normalizeWheel(event);\n      callback && Reflect.apply(callback, this, [event, normalized]);\n    };\n    element[SCOPE] = {\n      wheelHandler: fn\n    };\n    element.addEventListener(\"wheel\", fn, {\n      passive: true\n    });\n  }\n};\nconst removeWheelHandler = element => {\n  var _a;\n  if ((_a = element[SCOPE]) == null ? void 0 : _a.wheelHandler) {\n    element.removeEventListener(\"wheel\", element[SCOPE].wheelHandler);\n    element[SCOPE] = null;\n  }\n};\nconst Mousewheel = {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value);\n  },\n  unmounted(el) {\n    removeWheelHandler(el);\n  },\n  updated(el, binding) {\n    if (binding.value !== binding.oldValue) {\n      mousewheel(el, binding.value);\n    }\n  }\n};\nexport { SCOPE, Mousewheel as default };","map":{"version":3,"names":["SCOPE","mousewheel","element","callback","addEventListener","removeWheelHandler","fn","event","normalized","normalizeWheel","Reflect","apply","wheelHandler","passive","_a","removeEventListener","Mousewheel","beforeMount","el","binding","value","unmounted","updated","oldValue"],"sources":["../../../../../packages/directives/mousewheel/index.ts"],"sourcesContent":["import normalizeWheel from 'normalize-wheel-es'\n\nimport type { ObjectDirective } from 'vue'\nimport type { NormalizedWheelEvent } from 'normalize-wheel-es'\n\nexport const SCOPE = '_Mousewheel'\n\ninterface WheelElement extends HTMLElement {\n  [SCOPE]: null | {\n    wheelHandler?: (event: WheelEvent) => void\n  }\n}\n\ntype MousewheelCallback = (\n  e: WheelEvent,\n  normalized: NormalizedWheelEvent\n) => void\n\nconst mousewheel = function (\n  element: WheelElement,\n  callback: MousewheelCallback\n) {\n  if (element && element.addEventListener) {\n    removeWheelHandler(element)\n\n    const fn = function (this: HTMLElement, event: WheelEvent) {\n      const normalized = normalizeWheel(event)\n      callback && Reflect.apply(callback, this, [event, normalized])\n    }\n\n    element[SCOPE] = { wheelHandler: fn }\n    element.addEventListener('wheel', fn, { passive: true })\n  }\n}\n\nconst removeWheelHandler = (element: WheelElement) => {\n  if (element[SCOPE]?.wheelHandler) {\n    element.removeEventListener('wheel', element[SCOPE].wheelHandler)\n    element[SCOPE] = null\n  }\n}\n\nconst Mousewheel: ObjectDirective<WheelElement, MousewheelCallback> = {\n  beforeMount(el, binding) {\n    mousewheel(el, binding.value)\n  },\n  unmounted(el) {\n    removeWheelHandler(el)\n  },\n  updated(el, binding) {\n    if (binding.value !== binding.oldValue) {\n      mousewheel(el, binding.value)\n    }\n  },\n}\n\nexport default Mousewheel\n"],"mappings":";AACY,MAACA,KAAK,GAAG;AACrB,MAAMC,UAAU,GAAG,SAAAA,CAASC,OAAO,EAAEC,QAAQ,EAAE;EAC7C,IAAID,OAAO,IAAIA,OAAO,CAACE,gBAAgB,EAAE;IACvCC,kBAAkB,CAACH,OAAO,CAAC;IAC3B,MAAMI,EAAE,GAAG,SAAAA,CAASC,KAAK,EAAE;MACzB,MAAMC,UAAU,GAAGC,cAAc,CAACF,KAAK,CAAC;MACxCJ,QAAQ,IAAIO,OAAO,CAACC,KAAK,CAACR,QAAQ,EAAE,IAAI,EAAE,CAACI,KAAK,EAAEC,UAAU,CAAC,CAAC;IACpE,CAAK;IACDN,OAAO,CAACF,KAAK,CAAC,GAAG;MAAEY,YAAY,EAAEN;IAAE,CAAE;IACrCJ,OAAO,CAACE,gBAAgB,CAAC,OAAO,EAAEE,EAAE,EAAE;MAAEO,OAAO,EAAE;IAAI,CAAE,CAAC;EAC5D;AACA,CAAC;AACD,MAAMR,kBAAkB,GAAIH,OAAO,IAAK;EACtC,IAAIY,EAAE;EACN,IAAI,CAACA,EAAE,GAAGZ,OAAO,CAACF,KAAK,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGc,EAAE,CAACF,YAAY,EAAE;IAC5DV,OAAO,CAACa,mBAAmB,CAAC,OAAO,EAAEb,OAAO,CAACF,KAAK,CAAC,CAACY,YAAY,CAAC;IACjEV,OAAO,CAACF,KAAK,CAAC,GAAG,IAAI;EACzB;AACA,CAAC;AACI,MAACgB,UAAU,GAAG;EACjBC,WAAWA,CAACC,EAAE,EAAEC,OAAO,EAAE;IACvBlB,UAAU,CAACiB,EAAE,EAAEC,OAAO,CAACC,KAAK,CAAC;EACjC,CAAG;EACDC,SAASA,CAACH,EAAE,EAAE;IACZb,kBAAkB,CAACa,EAAE,CAAC;EAC1B,CAAG;EACDI,OAAOA,CAACJ,EAAE,EAAEC,OAAO,EAAE;IACnB,IAAIA,OAAO,CAACC,KAAK,KAAKD,OAAO,CAACI,QAAQ,EAAE;MACtCtB,UAAU,CAACiB,EAAE,EAAEC,OAAO,CAACC,KAAK,CAAC;IACnC;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}