{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nexport default {\n  name: 'AdminUserManage',\n  data() {\n    return {\n      userFilters: {\n        keyword: '',\n        role: '',\n        status: '',\n        onlyAbnormal: false\n      },\n      userAutoRefresh: false,\n      userRoleOptions: [{\n        label: 'Â≠¶Áîü',\n        value: 'student'\n      }, {\n        label: 'ÊïôÂ∏à',\n        value: 'teacher'\n      }, {\n        label: 'ÁÆ°ÁêÜÂëò',\n        value: 'admin'\n      }],\n      userStatusOptions: [{\n        label: 'Ê≠£Â∏∏',\n        value: 'normal'\n      }, {\n        label: 'È¢ÑË≠¶',\n        value: 'warning'\n      }, {\n        label: 'ÈªëÂêçÂçï',\n        value: 'blacklist'\n      }],\n      // Á§∫‰æãÁî®Êà∑Êï∞ÊçÆÔºåÂêéÁª≠ÂèØ‰ª•ÊîπÊàêÊé•Âè£ËøîÂõû\n      users: [{\n        id: 1,\n        studentNo: '20210001',\n        name: 'Âº†‰∏â',\n        role: 'student',\n        major: 'ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏éÊäÄÊúØ',\n        clazz: '3Áè≠',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 08:10',\n        phone: '138****0001'\n      }, {\n        id: 2,\n        studentNo: '20210002',\n        name: 'ÊùéÂõõ',\n        role: 'student',\n        major: 'ËΩØ‰ª∂Â∑•Á®ã',\n        clazz: '2Áè≠',\n        creditScore: 78,\n        violationCount: 1,\n        status: 'warning',\n        lastLoginAt: '2025-12-05 09:05',\n        phone: '138****0002'\n      }, {\n        id: 3,\n        studentNo: '20210003',\n        name: 'Áéã‰∫î',\n        role: 'student',\n        major: '‰∫∫Â∑•Êô∫ËÉΩ',\n        clazz: '1Áè≠',\n        creditScore: 55,\n        violationCount: 3,\n        status: 'blacklist',\n        lastLoginAt: '2025-12-03 19:20',\n        phone: '138****0003'\n      }, {\n        id: 4,\n        studentNo: 'T00001',\n        name: 'ËµµËÄÅÂ∏à',\n        role: 'teacher',\n        major: '‰ø°ÊÅØÂ≠¶Èô¢',\n        clazz: 'ËæÖÂØºÂëò',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 07:40',\n        phone: '139****8888'\n      }, {\n        id: 5,\n        studentNo: 'A00001',\n        name: 'Á≥ªÁªüÁÆ°ÁêÜÂëò',\n        role: 'admin',\n        major: '‰ø°ÊÅØ‰∏≠ÂøÉ',\n        clazz: 'ÂêéÂè∞ÁÆ°ÁêÜ',\n        creditScore: 100,\n        violationCount: 0,\n        status: 'normal',\n        lastLoginAt: '2025-12-05 08:00',\n        phone: '‚Äî'\n      }],\n      userSelection: [],\n      userPage: 1,\n      userPageSize: 10\n    };\n  },\n  computed: {\n    filteredUsers() {\n      const {\n        keyword,\n        role,\n        status,\n        onlyAbnormal\n      } = this.userFilters;\n      return this.users.filter(user => {\n        let ok = true;\n        if (keyword && keyword.trim()) {\n          const k = keyword.trim();\n          ok = ok && (user.name.includes(k) || user.studentNo.includes(k) || user.major && user.major.includes(k));\n        }\n        if (role) {\n          ok = ok && user.role === role;\n        }\n        if (status) {\n          ok = ok && user.status === status;\n        }\n        if (onlyAbnormal) {\n          ok = ok && (user.status === 'warning' || user.status === 'blacklist');\n        }\n        return ok;\n      });\n    },\n    paginatedUsers() {\n      const start = (this.userPage - 1) * this.userPageSize;\n      return this.filteredUsers.slice(start, start + this.userPageSize);\n    },\n    userStats() {\n      const stats = {\n        total: 0,\n        normal: 0,\n        warning: 0,\n        blacklist: 0\n      };\n      stats.total = this.filteredUsers.length;\n      this.filteredUsers.forEach(user => {\n        if (user.status === 'normal') stats.normal += 1;else if (user.status === 'warning') stats.warning += 1;else if (user.status === 'blacklist') stats.blacklist += 1;\n      });\n      return stats;\n    }\n  },\n  methods: {\n    handleUserSearch() {\n      console.log('Êü•ËØ¢Áî®Êà∑', this.userFilters);\n      this.userPage = 1;\n    },\n    resetUserFilters() {\n      this.userFilters = {\n        keyword: '',\n        role: '',\n        status: '',\n        onlyAbnormal: false\n      };\n      this.userPage = 1;\n    },\n    handleUserSelectionChange(val) {\n      this.userSelection = val || [];\n    },\n    handleUserPageChange(page) {\n      this.userPage = page;\n    },\n    handleUserPageSizeChange(size) {\n      this.userPageSize = size;\n      this.userPage = 1;\n    },\n    getUserStatusTagType(status) {\n      if (status === 'normal') return 'success';\n      if (status === 'warning') return 'warning';\n      if (status === 'blacklist') return 'danger';\n      return '';\n    },\n    getUserStatusText(status) {\n      if (status === 'normal') return 'Ê≠£Â∏∏';\n      if (status === 'warning') return 'È¢ÑË≠¶';\n      if (status === 'blacklist') return 'ÈªëÂêçÂçï';\n      return status;\n    },\n    handleLockUser(row) {\n      console.log('Â∞ÜÁî®Êà∑Âä†ÂÖ•ÈªëÂêçÂçï', row);\n      row.status = 'blacklist';\n      if (row.creditScore > 60) {\n        row.creditScore = 60;\n      }\n    },\n    handleUnlockUser(row) {\n      console.log('Ëß£Èô§ÈªëÂêçÂçï', row);\n      row.status = 'normal';\n      if (row.creditScore < 80) {\n        row.creditScore = 80;\n      }\n    },\n    handleResetPassword(row) {\n      console.log('ÈáçÁΩÆÂØÜÁ†Å', row);\n      // ËøôÈáåÂèØ‰ª•ÂºπÂá∫ÂØπËØùÊ°ÜÔºåË∞ÉÁî®ÂêéÁ´ØÊé•Âè£\n    },\n    handleViewUserDetail(row) {\n      console.log('Êü•ÁúãÁî®Êà∑ËØ¶ÊÉÖ', row);\n      // ËøôÈáåÂèØ‰ª•ÊîπÊàêÂºπÁ™ó / ÊäΩÂ±âÂ±ïÁ§∫ËØ¶ÊÉÖ\n    },\n    handleBatchLock() {\n      console.log('ÊâπÈáèÂä†ÂÖ•ÈªëÂêçÂçï', this.userSelection);\n      this.userSelection.forEach(user => {\n        user.status = 'blacklist';\n        if (user.creditScore > 60) user.creditScore = 60;\n      });\n      this.userSelection = [];\n    },\n    handleBatchUnlock() {\n      console.log('ÊâπÈáèËß£Èô§ÈªëÂêçÂçï', this.userSelection);\n      this.userSelection.forEach(user => {\n        user.status = 'normal';\n        if (user.creditScore < 80) user.creditScore = 80;\n      });\n      this.userSelection = [];\n    }\n  }\n};","map":{"version":3,"names":["name","data","userFilters","keyword","role","status","onlyAbnormal","userAutoRefresh","userRoleOptions","label","value","userStatusOptions","users","id","studentNo","major","clazz","creditScore","violationCount","lastLoginAt","phone","userSelection","userPage","userPageSize","computed","filteredUsers","filter","user","ok","trim","k","includes","paginatedUsers","start","slice","userStats","stats","total","normal","warning","blacklist","length","forEach","methods","handleUserSearch","console","log","resetUserFilters","handleUserSelectionChange","val","handleUserPageChange","page","handleUserPageSizeChange","size","getUserStatusTagType","getUserStatusText","handleLockUser","row","handleUnlockUser","handleResetPassword","handleViewUserDetail","handleBatchLock","handleBatchUnlock"],"sources":["D:\\code\\SpringBoot-Vue-SSRMS\\ssrms-web\\src\\components\\AdminUserManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"card user-card\">\r\n    <!-- È°∂ÈÉ®Ê†áÈ¢ò -->\r\n    <div class=\"card-header user-header\">\r\n      <div>\r\n        <h2 class=\"page-title\">Áî®Êà∑ÁÆ°ÁêÜ</h2>\r\n        <p class=\"page-subtitle\">\r\n          Êü•ËØ¢Â≠¶ÁîüÂü∫Êú¨‰ø°ÊÅØ„ÄÅ‰ø°Áî®Áä∂ÊÄÅ‰∏éËøùÁ∫¶ËÆ∞ÂΩïÔºåÊîØÊåÅÁ≠õÈÄâ„ÄÅÊâπÈáèÈªëÂêçÂçï‰∏éÈ¢ÑË≠¶ÁÆ°ÁêÜ„ÄÇ\r\n        </p>\r\n      </div>\r\n      <div class=\"user-header-right\">\r\n        <div class=\"auto-refresh\">\r\n          <span class=\"auto-refresh-label\">Ëá™Âä®Âà∑Êñ∞</span>\r\n          <el-switch v-model=\"userAutoRefresh\" size=\"small\" />\r\n        </div>\r\n        <el-button type=\"primary\" plain size=\"small\">\r\n          Êñ∞Â¢ûÁÆ°ÁêÜÂëòË¥¶Âè∑\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Á≠õÈÄâÂå∫ -->\r\n    <div class=\"filter-bar\">\r\n      <el-input\r\n          v-model=\"userFilters.keyword\"\r\n          placeholder=\"ÊåâÂßìÂêç / Â≠¶Âè∑ / ‰∏ì‰∏öÊêúÁ¥¢\"\r\n          clearable\r\n          class=\"filter-item filter-input\"\r\n      >\r\n        <template #prefix>\r\n          <span class=\"input-prefix-icon\">üîç</span>\r\n        </template>\r\n      </el-input>\r\n\r\n      <el-select\r\n          v-model=\"userFilters.role\"\r\n          placeholder=\"Áî®Êà∑ËßíËâ≤\"\r\n          clearable\r\n          class=\"filter-item filter-select\"\r\n      >\r\n        <el-option\r\n            v-for=\"role in userRoleOptions\"\r\n            :key=\"role.value\"\r\n            :label=\"role.label\"\r\n            :value=\"role.value\"\r\n        />\r\n      </el-select>\r\n\r\n      <el-select\r\n          v-model=\"userFilters.status\"\r\n          placeholder=\"‰ø°Áî®Áä∂ÊÄÅ\"\r\n          clearable\r\n          class=\"filter-item filter-select\"\r\n      >\r\n        <el-option\r\n            v-for=\"item in userStatusOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n        />\r\n      </el-select>\r\n\r\n      <el-checkbox v-model=\"userFilters.onlyAbnormal\" class=\"filter-item\">\r\n        ‰ªÖÊü•ÁúãÈ¢ÑË≠¶ / ÈªëÂêçÂçï\r\n      </el-checkbox>\r\n\r\n      <div class=\"filter-actions\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"handleUserSearch\">\r\n          Êü•ËØ¢\r\n        </el-button>\r\n        <el-button size=\"small\" @click=\"resetUserFilters\">\r\n          ÈáçÁΩÆ\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- ÁªüËÆ°Âå∫Âüü -->\r\n    <div class=\"reservation-stats user-stats\">\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-label\">ÂΩìÂâçÁî®Êà∑Êï∞</div>\r\n        <div class=\"stat-value\">{{ userStats.total }}</div>\r\n      </div>\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-label\">Ê≠£Â∏∏</div>\r\n        <div class=\"stat-value\">{{ userStats.normal }}</div>\r\n      </div>\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-label\">È¢ÑË≠¶</div>\r\n        <div class=\"stat-value\">{{ userStats.warning }}</div>\r\n      </div>\r\n      <div class=\"stat-card\">\r\n        <div class=\"stat-label\">ÈªëÂêçÂçï</div>\r\n        <div class=\"stat-value\">{{ userStats.blacklist }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Â∑•ÂÖ∑Ê†èÔºöÊâπÈáèÊìç‰Ωú -->\r\n    <div class=\"reservation-toolbar user-toolbar\">\r\n      <div class=\"toolbar-left\">\r\n        <el-button\r\n            type=\"warning\"\r\n            size=\"small\"\r\n            plain\r\n            :disabled=\"!userSelection.length\"\r\n            @click=\"handleBatchLock\"\r\n        >\r\n          ÊâπÈáèÂä†ÂÖ•ÈªëÂêçÂçï\r\n        </el-button>\r\n        <el-button\r\n            type=\"success\"\r\n            size=\"small\"\r\n            plain\r\n            :disabled=\"!userSelection.length\"\r\n            @click=\"handleBatchUnlock\"\r\n        >\r\n          ÊâπÈáèËß£Èô§ÈªëÂêçÂçï\r\n        </el-button>\r\n        <span v-if=\"userSelection.length\" class=\"toolbar-tip\">\r\n          Â∑≤ÈÄâ‰∏≠ {{ userSelection.length }} ‰ΩçÁî®Êà∑\r\n        </span>\r\n      </div>\r\n      <div class=\"toolbar-right\">\r\n        <span class=\"toolbar-tip\">\r\n          ËØ¥ÊòéÔºöÊú¨È°µÁ§∫‰æãÊï∞ÊçÆ‰ªÖÁî®‰∫éÂâçÁ´ØÂ±ïÁ§∫ÔºåÂêéÁª≠ÂèØÂØπÊé•Â≠¶Áîü‰ø°ÊÅØ‰∏éÁªü‰∏ÄË∫´‰ªΩËÆ§ËØÅ„ÄÇ\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Áî®Êà∑Ë°®Ê†º -->\r\n    <el-table\r\n        :data=\"paginatedUsers\"\r\n        border\r\n        stripe\r\n        size=\"small\"\r\n        @selection-change=\"handleUserSelectionChange\"\r\n        class=\"user-table\"\r\n    >\r\n      <el-table-column type=\"selection\" width=\"48\" />\r\n      <el-table-column prop=\"studentNo\" label=\"Â≠¶Âè∑ / Â∑•Âè∑\" min-width=\"120\" />\r\n      <el-table-column prop=\"name\" label=\"ÂßìÂêç\" min-width=\"120\">\r\n        <template #default=\"scope\">\r\n          <div class=\"user-name-cell\">\r\n            <div class=\"user-name-main\">\r\n              {{ scope.row.name }}\r\n              <span class=\"user-role-tag\" v-if=\"scope.row.role === 'student'\">Â≠¶Áîü</span>\r\n              <span class=\"user-role-tag teacher\" v-else-if=\"scope.row.role === 'teacher'\">\r\n                ÊïôÂ∏à\r\n              </span>\r\n              <span class=\"user-role-tag admin\" v-else-if=\"scope.row.role === 'admin'\">\r\n                ÁÆ°ÁêÜÂëò\r\n              </span>\r\n            </div>\r\n            <div class=\"user-extra\">\r\n              {{ scope.row.major }} ¬∑ {{ scope.row.clazz }}\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"creditScore\" label=\"‰ø°Áî®ÂàÜ\" min-width=\"90\">\r\n        <template #default=\"scope\">\r\n          <span\r\n              :class=\"[\r\n              'credit-score',\r\n              scope.row.creditScore <= 60 ? 'credit-low' : '',\r\n              scope.row.creditScore >= 95 ? 'credit-high' : ''\r\n            ]\"\r\n          >\r\n            {{ scope.row.creditScore }}\r\n          </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"violationCount\" label=\"ËøùÁ∫¶Ê¨°Êï∞\" min-width=\"90\" />\r\n      <el-table-column prop=\"status\" label=\"Áä∂ÊÄÅ\" min-width=\"90\">\r\n        <template #default=\"scope\">\r\n          <el-tag :type=\"getUserStatusTagType(scope.row.status)\" size=\"small\">\r\n            {{ getUserStatusText(scope.row.status) }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"lastLoginAt\" label=\"ÊúÄËøëÁôªÂΩï\" min-width=\"140\" />\r\n      <el-table-column label=\"ËÅîÁ≥ªÊñπÂºè\" min-width=\"130\">\r\n        <template #default=\"scope\">\r\n          <span class=\"user-extra\">\r\n            {{ scope.row.phone || '‚Äî' }}\r\n          </span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Êìç‰Ωú\" fixed=\"right\" min-width=\"230\">\r\n        <template #default=\"scope\">\r\n          <div class=\"action-buttons\">\r\n            <el-button\r\n                type=\"primary\"\r\n                link\r\n                size=\"small\"\r\n                @click=\"handleResetPassword(scope.row)\"\r\n            >\r\n              ÈáçÁΩÆÂØÜÁ†Å\r\n            </el-button>\r\n            <el-button\r\n                v-if=\"scope.row.status !== 'blacklist'\"\r\n                type=\"danger\"\r\n                link\r\n                size=\"small\"\r\n                @click=\"handleLockUser(scope.row)\"\r\n            >\r\n              Âä†ÂÖ•ÈªëÂêçÂçï\r\n            </el-button>\r\n            <el-button\r\n                v-else\r\n                type=\"success\"\r\n                link\r\n                size=\"small\"\r\n                @click=\"handleUnlockUser(scope.row)\"\r\n            >\r\n              Ëß£Èô§ÈªëÂêçÂçï\r\n            </el-button>\r\n\r\n            <el-button\r\n                type=\"info\"\r\n                link\r\n                size=\"small\"\r\n                @click=\"handleViewUserDetail(scope.row)\"\r\n            >\r\n              ËØ¶ÊÉÖ\r\n            </el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- ÂàÜÈ°µ -->\r\n    <div class=\"table-footer\">\r\n      <el-pagination\r\n          background\r\n          layout=\"total, prev, pager, next, sizes\"\r\n          :total=\"filteredUsers.length\"\r\n          :page-sizes=\"[5, 10, 20]\"\r\n          :page-size=\"userPageSize\"\r\n          :current-page=\"userPage\"\r\n          @size-change=\"handleUserPageSizeChange\"\r\n          @current-change=\"handleUserPageChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AdminUserManage',\r\n  data () {\r\n    return {\r\n      userFilters: {\r\n        keyword: '',\r\n        role: '',\r\n        status: '',\r\n        onlyAbnormal: false\r\n      },\r\n      userAutoRefresh: false,\r\n      userRoleOptions: [\r\n        { label: 'Â≠¶Áîü', value: 'student' },\r\n        { label: 'ÊïôÂ∏à', value: 'teacher' },\r\n        { label: 'ÁÆ°ÁêÜÂëò', value: 'admin' }\r\n      ],\r\n      userStatusOptions: [\r\n        { label: 'Ê≠£Â∏∏', value: 'normal' },\r\n        { label: 'È¢ÑË≠¶', value: 'warning' },\r\n        { label: 'ÈªëÂêçÂçï', value: 'blacklist' }\r\n      ],\r\n      // Á§∫‰æãÁî®Êà∑Êï∞ÊçÆÔºåÂêéÁª≠ÂèØ‰ª•ÊîπÊàêÊé•Âè£ËøîÂõû\r\n      users: [\r\n        {\r\n          id: 1,\r\n          studentNo: '20210001',\r\n          name: 'Âº†‰∏â',\r\n          role: 'student',\r\n          major: 'ËÆ°ÁÆóÊú∫ÁßëÂ≠¶‰∏éÊäÄÊúØ',\r\n          clazz: '3Áè≠',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 08:10',\r\n          phone: '138****0001'\r\n        },\r\n        {\r\n          id: 2,\r\n          studentNo: '20210002',\r\n          name: 'ÊùéÂõõ',\r\n          role: 'student',\r\n          major: 'ËΩØ‰ª∂Â∑•Á®ã',\r\n          clazz: '2Áè≠',\r\n          creditScore: 78,\r\n          violationCount: 1,\r\n          status: 'warning',\r\n          lastLoginAt: '2025-12-05 09:05',\r\n          phone: '138****0002'\r\n        },\r\n        {\r\n          id: 3,\r\n          studentNo: '20210003',\r\n          name: 'Áéã‰∫î',\r\n          role: 'student',\r\n          major: '‰∫∫Â∑•Êô∫ËÉΩ',\r\n          clazz: '1Áè≠',\r\n          creditScore: 55,\r\n          violationCount: 3,\r\n          status: 'blacklist',\r\n          lastLoginAt: '2025-12-03 19:20',\r\n          phone: '138****0003'\r\n        },\r\n        {\r\n          id: 4,\r\n          studentNo: 'T00001',\r\n          name: 'ËµµËÄÅÂ∏à',\r\n          role: 'teacher',\r\n          major: '‰ø°ÊÅØÂ≠¶Èô¢',\r\n          clazz: 'ËæÖÂØºÂëò',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 07:40',\r\n          phone: '139****8888'\r\n        },\r\n        {\r\n          id: 5,\r\n          studentNo: 'A00001',\r\n          name: 'Á≥ªÁªüÁÆ°ÁêÜÂëò',\r\n          role: 'admin',\r\n          major: '‰ø°ÊÅØ‰∏≠ÂøÉ',\r\n          clazz: 'ÂêéÂè∞ÁÆ°ÁêÜ',\r\n          creditScore: 100,\r\n          violationCount: 0,\r\n          status: 'normal',\r\n          lastLoginAt: '2025-12-05 08:00',\r\n          phone: '‚Äî'\r\n        }\r\n      ],\r\n      userSelection: [],\r\n      userPage: 1,\r\n      userPageSize: 10\r\n    }\r\n  },\r\n  computed: {\r\n    filteredUsers () {\r\n      const { keyword, role, status, onlyAbnormal } = this.userFilters\r\n      return this.users.filter(user => {\r\n        let ok = true\r\n        if (keyword && keyword.trim()) {\r\n          const k = keyword.trim()\r\n          ok =\r\n              ok &&\r\n              (user.name.includes(k) ||\r\n                  user.studentNo.includes(k) ||\r\n                  (user.major && user.major.includes(k)))\r\n        }\r\n        if (role) {\r\n          ok = ok && user.role === role\r\n        }\r\n        if (status) {\r\n          ok = ok && user.status === status\r\n        }\r\n        if (onlyAbnormal) {\r\n          ok =\r\n              ok && (user.status === 'warning' || user.status === 'blacklist')\r\n        }\r\n        return ok\r\n      })\r\n    },\r\n    paginatedUsers () {\r\n      const start = (this.userPage - 1) * this.userPageSize\r\n      return this.filteredUsers.slice(start, start + this.userPageSize)\r\n    },\r\n    userStats () {\r\n      const stats = {\r\n        total: 0,\r\n        normal: 0,\r\n        warning: 0,\r\n        blacklist: 0\r\n      }\r\n      stats.total = this.filteredUsers.length\r\n      this.filteredUsers.forEach(user => {\r\n        if (user.status === 'normal') stats.normal += 1\r\n        else if (user.status === 'warning') stats.warning += 1\r\n        else if (user.status === 'blacklist') stats.blacklist += 1\r\n      })\r\n      return stats\r\n    }\r\n  },\r\n  methods: {\r\n    handleUserSearch () {\r\n      console.log('Êü•ËØ¢Áî®Êà∑', this.userFilters)\r\n      this.userPage = 1\r\n    },\r\n    resetUserFilters () {\r\n      this.userFilters = {\r\n        keyword: '',\r\n        role: '',\r\n        status: '',\r\n        onlyAbnormal: false\r\n      }\r\n      this.userPage = 1\r\n    },\r\n    handleUserSelectionChange (val) {\r\n      this.userSelection = val || []\r\n    },\r\n    handleUserPageChange (page) {\r\n      this.userPage = page\r\n    },\r\n    handleUserPageSizeChange (size) {\r\n      this.userPageSize = size\r\n      this.userPage = 1\r\n    },\r\n    getUserStatusTagType (status) {\r\n      if (status === 'normal') return 'success'\r\n      if (status === 'warning') return 'warning'\r\n      if (status === 'blacklist') return 'danger'\r\n      return ''\r\n    },\r\n    getUserStatusText (status) {\r\n      if (status === 'normal') return 'Ê≠£Â∏∏'\r\n      if (status === 'warning') return 'È¢ÑË≠¶'\r\n      if (status === 'blacklist') return 'ÈªëÂêçÂçï'\r\n      return status\r\n    },\r\n    handleLockUser (row) {\r\n      console.log('Â∞ÜÁî®Êà∑Âä†ÂÖ•ÈªëÂêçÂçï', row)\r\n      row.status = 'blacklist'\r\n      if (row.creditScore > 60) {\r\n        row.creditScore = 60\r\n      }\r\n    },\r\n    handleUnlockUser (row) {\r\n      console.log('Ëß£Èô§ÈªëÂêçÂçï', row)\r\n      row.status = 'normal'\r\n      if (row.creditScore < 80) {\r\n        row.creditScore = 80\r\n      }\r\n    },\r\n    handleResetPassword (row) {\r\n      console.log('ÈáçÁΩÆÂØÜÁ†Å', row)\r\n      // ËøôÈáåÂèØ‰ª•ÂºπÂá∫ÂØπËØùÊ°ÜÔºåË∞ÉÁî®ÂêéÁ´ØÊé•Âè£\r\n    },\r\n    handleViewUserDetail (row) {\r\n      console.log('Êü•ÁúãÁî®Êà∑ËØ¶ÊÉÖ', row)\r\n      // ËøôÈáåÂèØ‰ª•ÊîπÊàêÂºπÁ™ó / ÊäΩÂ±âÂ±ïÁ§∫ËØ¶ÊÉÖ\r\n    },\r\n    handleBatchLock () {\r\n      console.log('ÊâπÈáèÂä†ÂÖ•ÈªëÂêçÂçï', this.userSelection)\r\n      this.userSelection.forEach(user => {\r\n        user.status = 'blacklist'\r\n        if (user.creditScore > 60) user.creditScore = 60\r\n      })\r\n      this.userSelection = []\r\n    },\r\n    handleBatchUnlock () {\r\n      console.log('ÊâπÈáèËß£Èô§ÈªëÂêçÂçï', this.userSelection)\r\n      this.userSelection.forEach(user => {\r\n        user.status = 'normal'\r\n        if (user.creditScore < 80) user.creditScore = 80\r\n      })\r\n      this.userSelection = []\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  background-color: #ffffff;\r\n  border-radius: 16px;\r\n  padding: 20px 24px;\r\n  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.06);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.user-card {\r\n  margin-top: 0;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.page-title {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.page-subtitle {\r\n  margin: 4px 0 0;\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n}\r\n\r\n.user-header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.auto-refresh {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n/* Á≠õÈÄâÊù° */\r\n.filter-bar {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.filter-item {\r\n  min-width: 180px;\r\n}\r\n\r\n.filter-input {\r\n  flex: 2;\r\n}\r\n\r\n.filter-select {\r\n  flex: 1;\r\n}\r\n\r\n.filter-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.input-prefix-icon {\r\n  font-size: 14px;\r\n}\r\n\r\n/* ÁªüËÆ°Âå∫ÔºàÂ§çÁî®È¢ÑÁ∫¶ÁöÑÊ†∑ÂºèÔºâ */\r\n.reservation-stats {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  margin: 8px 0 12px;\r\n}\r\n\r\n.stat-card {\r\n  flex: 1;\r\n  min-width: 140px;\r\n  border-radius: 12px;\r\n  background-color: #f9fafb;\r\n  padding: 10px 12px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.stat-value {\r\n  margin-top: 4px;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n/* Â∑•ÂÖ∑Ê†è */\r\n.reservation-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 4px 0 12px;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n}\r\n\r\n.toolbar-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.toolbar-right {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.toolbar-tip {\r\n  font-size: 12px;\r\n  color: #4b5563;\r\n}\r\n\r\n/* Ë°®Ê†ºÊ†∑Âºè */\r\n.user-table {\r\n  width: 100%;\r\n}\r\n\r\n.user-name-cell {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.user-name-main {\r\n  font-size: 13px;\r\n  color: #111827;\r\n}\r\n\r\n.user-role-tag {\r\n  margin-left: 4px;\r\n  padding: 1px 6px;\r\n  border-radius: 999px;\r\n  font-size: 11px;\r\n  background-color: #eff6ff;\r\n  color: #1d4ed8;\r\n}\r\n\r\n.user-role-tag.teacher {\r\n  background-color: #ecfdf3;\r\n  color: #15803d;\r\n}\r\n\r\n.user-role-tag.admin {\r\n  background-color: #fef3c7;\r\n  color: #b45309;\r\n}\r\n\r\n.user-extra {\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.credit-score {\r\n  font-size: 13px;\r\n  font-weight: 600;\r\n  color: #111827;\r\n}\r\n\r\n.credit-low {\r\n  color: #b91c1c;\r\n}\r\n\r\n.credit-high {\r\n  color: #15803d;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.table-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 12px;\r\n}\r\n\r\n/* ÂìçÂ∫îÂºè */\r\n@media (max-width: 900px) {\r\n  .card-header {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n  }\r\n\r\n  .user-header-right {\r\n    width: 100%;\r\n    justify-content: flex-start;\r\n  }\r\n\r\n  .filter-bar {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .filter-item,\r\n  .filter-input,\r\n  .filter-select {\r\n    width: 100%;\r\n  }\r\n\r\n  .reservation-toolbar {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .table-footer {\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;AAuPA,eAAe;EACbA,IAAI,EAAE,iBAAiB;EACvBC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,WAAW,EAAE;QACXC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,EAAE;QACVC,YAAY,EAAE;MAChB,CAAC;MACDC,eAAe,EAAE,KAAK;MACtBC,eAAe,EAAE,CACf;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAU,CAAC,EACjC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAU,CAAC,EACjC;QAAED,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAQ,EAChC;MACDC,iBAAiB,EAAE,CACjB;QAAEF,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAS,CAAC,EAChC;QAAED,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAU,CAAC,EACjC;QAAED,KAAK,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAY,EACpC;MACD;MACAE,KAAK,EAAE,CACL;QACEC,EAAE,EAAE,CAAC;QACLC,SAAS,EAAE,UAAU;QACrBd,IAAI,EAAE,IAAI;QACVI,IAAI,EAAE,SAAS;QACfW,KAAK,EAAE,UAAU;QACjBC,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE,GAAG;QAChBC,cAAc,EAAE,CAAC;QACjBb,MAAM,EAAE,QAAQ;QAChBc,WAAW,EAAE,kBAAkB;QAC/BC,KAAK,EAAE;MACT,CAAC,EACD;QACEP,EAAE,EAAE,CAAC;QACLC,SAAS,EAAE,UAAU;QACrBd,IAAI,EAAE,IAAI;QACVI,IAAI,EAAE,SAAS;QACfW,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE,EAAE;QACfC,cAAc,EAAE,CAAC;QACjBb,MAAM,EAAE,SAAS;QACjBc,WAAW,EAAE,kBAAkB;QAC/BC,KAAK,EAAE;MACT,CAAC,EACD;QACEP,EAAE,EAAE,CAAC;QACLC,SAAS,EAAE,UAAU;QACrBd,IAAI,EAAE,IAAI;QACVI,IAAI,EAAE,SAAS;QACfW,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE,IAAI;QACXC,WAAW,EAAE,EAAE;QACfC,cAAc,EAAE,CAAC;QACjBb,MAAM,EAAE,WAAW;QACnBc,WAAW,EAAE,kBAAkB;QAC/BC,KAAK,EAAE;MACT,CAAC,EACD;QACEP,EAAE,EAAE,CAAC;QACLC,SAAS,EAAE,QAAQ;QACnBd,IAAI,EAAE,KAAK;QACXI,IAAI,EAAE,SAAS;QACfW,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE,KAAK;QACZC,WAAW,EAAE,GAAG;QAChBC,cAAc,EAAE,CAAC;QACjBb,MAAM,EAAE,QAAQ;QAChBc,WAAW,EAAE,kBAAkB;QAC/BC,KAAK,EAAE;MACT,CAAC,EACD;QACEP,EAAE,EAAE,CAAC;QACLC,SAAS,EAAE,QAAQ;QACnBd,IAAI,EAAE,OAAO;QACbI,IAAI,EAAE,OAAO;QACbW,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE,MAAM;QACbC,WAAW,EAAE,GAAG;QAChBC,cAAc,EAAE,CAAC;QACjBb,MAAM,EAAE,QAAQ;QAChBc,WAAW,EAAE,kBAAkB;QAC/BC,KAAK,EAAE;MACT,EACD;MACDC,aAAa,EAAE,EAAE;MACjBC,QAAQ,EAAE,CAAC;MACXC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,aAAYA,CAAA,EAAK;MACf,MAAM;QAAEtB,OAAO;QAAEC,IAAI;QAAEC,MAAM;QAAEC;MAAa,IAAI,IAAI,CAACJ,WAAU;MAC/D,OAAO,IAAI,CAACU,KAAK,CAACc,MAAM,CAACC,IAAG,IAAK;QAC/B,IAAIC,EAAC,GAAI,IAAG;QACZ,IAAIzB,OAAM,IAAKA,OAAO,CAAC0B,IAAI,CAAC,CAAC,EAAE;UAC7B,MAAMC,CAAA,GAAI3B,OAAO,CAAC0B,IAAI,CAAC;UACvBD,EAAC,GACGA,EAAC,KACAD,IAAI,CAAC3B,IAAI,CAAC+B,QAAQ,CAACD,CAAC,KACjBH,IAAI,CAACb,SAAS,CAACiB,QAAQ,CAACD,CAAC,KACxBH,IAAI,CAACZ,KAAI,IAAKY,IAAI,CAACZ,KAAK,CAACgB,QAAQ,CAACD,CAAC,CAAE;QAChD;QACA,IAAI1B,IAAI,EAAE;UACRwB,EAAC,GAAIA,EAAC,IAAKD,IAAI,CAACvB,IAAG,KAAMA,IAAG;QAC9B;QACA,IAAIC,MAAM,EAAE;UACVuB,EAAC,GAAIA,EAAC,IAAKD,IAAI,CAACtB,MAAK,KAAMA,MAAK;QAClC;QACA,IAAIC,YAAY,EAAE;UAChBsB,EAAC,GACGA,EAAC,KAAMD,IAAI,CAACtB,MAAK,KAAM,SAAQ,IAAKsB,IAAI,CAACtB,MAAK,KAAM,WAAW;QACrE;QACA,OAAOuB,EAAC;MACV,CAAC;IACH,CAAC;IACDI,cAAaA,CAAA,EAAK;MAChB,MAAMC,KAAI,GAAI,CAAC,IAAI,CAACX,QAAO,GAAI,CAAC,IAAI,IAAI,CAACC,YAAW;MACpD,OAAO,IAAI,CAACE,aAAa,CAACS,KAAK,CAACD,KAAK,EAAEA,KAAI,GAAI,IAAI,CAACV,YAAY;IAClE,CAAC;IACDY,SAAQA,CAAA,EAAK;MACX,MAAMC,KAAI,GAAI;QACZC,KAAK,EAAE,CAAC;QACRC,MAAM,EAAE,CAAC;QACTC,OAAO,EAAE,CAAC;QACVC,SAAS,EAAE;MACb;MACAJ,KAAK,CAACC,KAAI,GAAI,IAAI,CAACZ,aAAa,CAACgB,MAAK;MACtC,IAAI,CAAChB,aAAa,CAACiB,OAAO,CAACf,IAAG,IAAK;QACjC,IAAIA,IAAI,CAACtB,MAAK,KAAM,QAAQ,EAAE+B,KAAK,CAACE,MAAK,IAAK,OACzC,IAAIX,IAAI,CAACtB,MAAK,KAAM,SAAS,EAAE+B,KAAK,CAACG,OAAM,IAAK,OAChD,IAAIZ,IAAI,CAACtB,MAAK,KAAM,WAAW,EAAE+B,KAAK,CAACI,SAAQ,IAAK;MAC3D,CAAC;MACD,OAAOJ,KAAI;IACb;EACF,CAAC;EACDO,OAAO,EAAE;IACPC,gBAAeA,CAAA,EAAK;MAClBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC5C,WAAW;MACpC,IAAI,CAACoB,QAAO,GAAI;IAClB,CAAC;IACDyB,gBAAeA,CAAA,EAAK;MAClB,IAAI,CAAC7C,WAAU,GAAI;QACjBC,OAAO,EAAE,EAAE;QACXC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,EAAE;QACVC,YAAY,EAAE;MAChB;MACA,IAAI,CAACgB,QAAO,GAAI;IAClB,CAAC;IACD0B,yBAAwBA,CAAGC,GAAG,EAAE;MAC9B,IAAI,CAAC5B,aAAY,GAAI4B,GAAE,IAAK,EAAC;IAC/B,CAAC;IACDC,oBAAmBA,CAAGC,IAAI,EAAE;MAC1B,IAAI,CAAC7B,QAAO,GAAI6B,IAAG;IACrB,CAAC;IACDC,wBAAuBA,CAAGC,IAAI,EAAE;MAC9B,IAAI,CAAC9B,YAAW,GAAI8B,IAAG;MACvB,IAAI,CAAC/B,QAAO,GAAI;IAClB,CAAC;IACDgC,oBAAmBA,CAAGjD,MAAM,EAAE;MAC5B,IAAIA,MAAK,KAAM,QAAQ,EAAE,OAAO,SAAQ;MACxC,IAAIA,MAAK,KAAM,SAAS,EAAE,OAAO,SAAQ;MACzC,IAAIA,MAAK,KAAM,WAAW,EAAE,OAAO,QAAO;MAC1C,OAAO,EAAC;IACV,CAAC;IACDkD,iBAAgBA,CAAGlD,MAAM,EAAE;MACzB,IAAIA,MAAK,KAAM,QAAQ,EAAE,OAAO,IAAG;MACnC,IAAIA,MAAK,KAAM,SAAS,EAAE,OAAO,IAAG;MACpC,IAAIA,MAAK,KAAM,WAAW,EAAE,OAAO,KAAI;MACvC,OAAOA,MAAK;IACd,CAAC;IACDmD,cAAaA,CAAGC,GAAG,EAAE;MACnBZ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEW,GAAG;MAC3BA,GAAG,CAACpD,MAAK,GAAI,WAAU;MACvB,IAAIoD,GAAG,CAACxC,WAAU,GAAI,EAAE,EAAE;QACxBwC,GAAG,CAACxC,WAAU,GAAI,EAAC;MACrB;IACF,CAAC;IACDyC,gBAAeA,CAAGD,GAAG,EAAE;MACrBZ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEW,GAAG;MACxBA,GAAG,CAACpD,MAAK,GAAI,QAAO;MACpB,IAAIoD,GAAG,CAACxC,WAAU,GAAI,EAAE,EAAE;QACxBwC,GAAG,CAACxC,WAAU,GAAI,EAAC;MACrB;IACF,CAAC;IACD0C,mBAAkBA,CAAGF,GAAG,EAAE;MACxBZ,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEW,GAAG;MACvB;IACF,CAAC;IACDG,oBAAmBA,CAAGH,GAAG,EAAE;MACzBZ,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEW,GAAG;MACzB;IACF,CAAC;IACDI,eAAcA,CAAA,EAAK;MACjBhB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACzB,aAAa;MACzC,IAAI,CAACA,aAAa,CAACqB,OAAO,CAACf,IAAG,IAAK;QACjCA,IAAI,CAACtB,MAAK,GAAI,WAAU;QACxB,IAAIsB,IAAI,CAACV,WAAU,GAAI,EAAE,EAAEU,IAAI,CAACV,WAAU,GAAI,EAAC;MACjD,CAAC;MACD,IAAI,CAACI,aAAY,GAAI,EAAC;IACxB,CAAC;IACDyC,iBAAgBA,CAAA,EAAK;MACnBjB,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACzB,aAAa;MACzC,IAAI,CAACA,aAAa,CAACqB,OAAO,CAACf,IAAG,IAAK;QACjCA,IAAI,CAACtB,MAAK,GAAI,QAAO;QACrB,IAAIsB,IAAI,CAACV,WAAU,GAAI,EAAE,EAAEU,IAAI,CAACV,WAAU,GAAI,EAAC;MACjD,CAAC;MACD,IAAI,CAACI,aAAY,GAAI,EAAC;IACxB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}